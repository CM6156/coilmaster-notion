function YD(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(n,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var _s=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function KD(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var Ab={exports:{}},cm={},Ob={exports:{}},ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bd=Symbol.for("react.element"),GD=Symbol.for("react.portal"),JD=Symbol.for("react.fragment"),ZD=Symbol.for("react.strict_mode"),QD=Symbol.for("react.profiler"),XD=Symbol.for("react.provider"),eP=Symbol.for("react.context"),tP=Symbol.for("react.forward_ref"),rP=Symbol.for("react.suspense"),sP=Symbol.for("react.memo"),nP=Symbol.for("react.lazy"),qv=Symbol.iterator;function aP(e){return e===null||typeof e!="object"?null:(e=qv&&e[qv]||e["@@iterator"],typeof e=="function"?e:null)}var Ib={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lb=Object.assign,Fb={};function Sl(e,t,r){this.props=e,this.context=t,this.refs=Fb,this.updater=r||Ib}Sl.prototype.isReactComponent={};Sl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Sl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $b(){}$b.prototype=Sl.prototype;function Nx(e,t,r){this.props=e,this.context=t,this.refs=Fb,this.updater=r||Ib}var _x=Nx.prototype=new $b;_x.constructor=Nx;Lb(_x,Sl.prototype);_x.isPureReactComponent=!0;var Yv=Array.isArray,zb=Object.prototype.hasOwnProperty,kx={current:null},Ub={key:!0,ref:!0,__self:!0,__source:!0};function Bb(e,t,r){var n,a={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)zb.call(t,n)&&!Ub.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:bd,type:e,key:o,ref:i,props:a,_owner:kx.current}}function oP(e,t){return{$$typeof:bd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Sx(e){return typeof e=="object"&&e!==null&&e.$$typeof===bd}function iP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Kv=/\/+/g;function Rf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?iP(""+e.key):t.toString(36)}function Lu(e,t,r,n,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case bd:case GD:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+Rf(i,0):n,Yv(a)?(r="",e!=null&&(r=e.replace(Kv,"$&/")+"/"),Lu(a,t,r,"",function(u){return u})):a!=null&&(Sx(a)&&(a=oP(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(Kv,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",Yv(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+Rf(o,l);i+=Lu(o,t,r,c,a)}else if(c=aP(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+Rf(o,l++),i+=Lu(o,t,r,c,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function nu(e,t,r){if(e==null)return e;var n=[],a=0;return Lu(e,n,"","",function(o){return t.call(r,o,a++)}),n}function lP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Lr={current:null},Fu={transition:null},cP={ReactCurrentDispatcher:Lr,ReactCurrentBatchConfig:Fu,ReactCurrentOwner:kx};function Vb(){throw Error("act(...) is not supported in production builds of React.")}ht.Children={map:nu,forEach:function(e,t,r){nu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return nu(e,function(){t++}),t},toArray:function(e){return nu(e,function(t){return t})||[]},only:function(e){if(!Sx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ht.Component=Sl;ht.Fragment=JD;ht.Profiler=QD;ht.PureComponent=Nx;ht.StrictMode=ZD;ht.Suspense=rP;ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cP;ht.act=Vb;ht.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Lb({},e.props),a=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=kx.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)zb.call(t,c)&&!Ub.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:bd,type:e.type,key:a,ref:o,props:n,_owner:i}};ht.createContext=function(e){return e={$$typeof:eP,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:XD,_context:e},e.Consumer=e};ht.createElement=Bb;ht.createFactory=function(e){var t=Bb.bind(null,e);return t.type=e,t};ht.createRef=function(){return{current:null}};ht.forwardRef=function(e){return{$$typeof:tP,render:e}};ht.isValidElement=Sx;ht.lazy=function(e){return{$$typeof:nP,_payload:{_status:-1,_result:e},_init:lP}};ht.memo=function(e,t){return{$$typeof:sP,type:e,compare:t===void 0?null:t}};ht.startTransition=function(e){var t=Fu.transition;Fu.transition={};try{e()}finally{Fu.transition=t}};ht.unstable_act=Vb;ht.useCallback=function(e,t){return Lr.current.useCallback(e,t)};ht.useContext=function(e){return Lr.current.useContext(e)};ht.useDebugValue=function(){};ht.useDeferredValue=function(e){return Lr.current.useDeferredValue(e)};ht.useEffect=function(e,t){return Lr.current.useEffect(e,t)};ht.useId=function(){return Lr.current.useId()};ht.useImperativeHandle=function(e,t,r){return Lr.current.useImperativeHandle(e,t,r)};ht.useInsertionEffect=function(e,t){return Lr.current.useInsertionEffect(e,t)};ht.useLayoutEffect=function(e,t){return Lr.current.useLayoutEffect(e,t)};ht.useMemo=function(e,t){return Lr.current.useMemo(e,t)};ht.useReducer=function(e,t,r){return Lr.current.useReducer(e,t,r)};ht.useRef=function(e){return Lr.current.useRef(e)};ht.useState=function(e){return Lr.current.useState(e)};ht.useSyncExternalStore=function(e,t,r){return Lr.current.useSyncExternalStore(e,t,r)};ht.useTransition=function(){return Lr.current.useTransition()};ht.version="18.3.1";Ob.exports=ht;var h=Ob.exports;const He=Rb(h),Wb=YD({__proto__:null,default:He},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dP=h,uP=Symbol.for("react.element"),hP=Symbol.for("react.fragment"),mP=Object.prototype.hasOwnProperty,fP=dP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pP={key:!0,ref:!0,__self:!0,__source:!0};function Hb(e,t,r){var n,a={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)mP.call(t,n)&&!pP.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:uP,type:e,key:o,ref:i,props:a,_owner:fP.current}}cm.Fragment=hP;cm.jsx=Hb;cm.jsxs=Hb;Ab.exports=cm;var s=Ab.exports,qb={exports:{}},hs={},Yb={exports:{}},Kb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,M){var F=L.length;L.push(M);e:for(;0<F;){var G=F-1>>>1,q=L[G];if(0<a(q,M))L[G]=M,L[F]=q,F=G;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var M=L[0],F=L.pop();if(F!==M){L[0]=F;e:for(var G=0,q=L.length,de=q>>>1;G<de;){var z=2*(G+1)-1,ee=L[z],U=z+1,S=L[U];if(0>a(ee,F))U<q&&0>a(S,ee)?(L[G]=S,L[U]=F,G=U):(L[G]=ee,L[z]=F,G=z);else if(U<q&&0>a(S,F))L[G]=S,L[U]=F,G=U;else break e}}return M}function a(L,M){var F=L.sortIndex-M.sortIndex;return F!==0?F:L.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,m=null,f=3,p=!1,v=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(L){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=L)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function j(L){if(g=!1,w(L),!v)if(r(c)!==null)v=!0,P(k);else{var M=r(u);M!==null&&H(j,M.startTime-L)}}function k(L,M){v=!1,g&&(g=!1,y(T),T=-1),p=!0;var F=f;try{for(w(M),m=r(c);m!==null&&(!(m.expirationTime>M)||L&&!W());){var G=m.callback;if(typeof G=="function"){m.callback=null,f=m.priorityLevel;var q=G(m.expirationTime<=M);M=e.unstable_now(),typeof q=="function"?m.callback=q:m===r(c)&&n(c),w(M)}else n(c);m=r(c)}if(m!==null)var de=!0;else{var z=r(u);z!==null&&H(j,z.startTime-M),de=!1}return de}finally{m=null,f=F,p=!1}}var A=!1,C=null,T=-1,B=5,$=-1;function W(){return!(e.unstable_now()-$<B)}function _(){if(C!==null){var L=e.unstable_now();$=L;var M=!0;try{M=C(!0,L)}finally{M?R():(A=!1,C=null)}}else A=!1}var R;if(typeof x=="function")R=function(){x(_)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,ne=O.port2;O.port1.onmessage=_,R=function(){ne.postMessage(null)}}else R=function(){b(_,0)};function P(L){C=L,A||(A=!0,R())}function H(L,M){T=b(function(){L(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,P(k))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(L){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var F=f;f=M;try{return L()}finally{f=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,M){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var F=f;f=L;try{return M()}finally{f=F}},e.unstable_scheduleCallback=function(L,M,F){var G=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?G+F:G):F=G,L){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=F+q,L={id:d++,callback:M,priorityLevel:L,startTime:F,expirationTime:q,sortIndex:-1},F>G?(L.sortIndex=F,t(u,L),r(c)===null&&L===r(u)&&(g?(y(T),T=-1):g=!0,H(j,F-G))):(L.sortIndex=q,t(c,L),v||p||(v=!0,P(k))),L},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(L){var M=f;return function(){var F=f;f=M;try{return L.apply(this,arguments)}finally{f=F}}}})(Kb);Yb.exports=Kb;var gP=Yb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xP=h,cs=gP;function ye(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gb=new Set,Ec={};function Xo(e,t){nl(e,t),nl(e+"Capture",t)}function nl(e,t){for(Ec[e]=t,e=0;e<t.length;e++)Gb.add(t[e])}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vp=Object.prototype.hasOwnProperty,vP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gv={},Jv={};function yP(e){return Vp.call(Jv,e)?!0:Vp.call(Gv,e)?!1:vP.test(e)?Jv[e]=!0:(Gv[e]=!0,!1)}function wP(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bP(e,t,r,n){if(t===null||typeof t>"u"||wP(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fr(e,t,r,n,a,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var br={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){br[e]=new Fr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];br[t]=new Fr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){br[e]=new Fr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){br[e]=new Fr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){br[e]=new Fr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){br[e]=new Fr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){br[e]=new Fr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){br[e]=new Fr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){br[e]=new Fr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Cx=/[\-:]([a-z])/g;function Dx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Cx,Dx);br[t]=new Fr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Cx,Dx);br[t]=new Fr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Cx,Dx);br[t]=new Fr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){br[e]=new Fr(e,1,!1,e.toLowerCase(),null,!1,!1)});br.xlinkHref=new Fr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){br[e]=new Fr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Px(e,t,r,n){var a=br.hasOwnProperty(t)?br[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bP(t,r,a,n)&&(r=null),n||a===null?yP(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Xn=xP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,au=Symbol.for("react.element"),Ci=Symbol.for("react.portal"),Di=Symbol.for("react.fragment"),Tx=Symbol.for("react.strict_mode"),Wp=Symbol.for("react.profiler"),Jb=Symbol.for("react.provider"),Zb=Symbol.for("react.context"),Ex=Symbol.for("react.forward_ref"),Hp=Symbol.for("react.suspense"),qp=Symbol.for("react.suspense_list"),Mx=Symbol.for("react.memo"),ja=Symbol.for("react.lazy"),Qb=Symbol.for("react.offscreen"),Zv=Symbol.iterator;function Wl(e){return e===null||typeof e!="object"?null:(e=Zv&&e[Zv]||e["@@iterator"],typeof e=="function"?e:null)}var qt=Object.assign,Af;function nc(e){if(Af===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Af=t&&t[1]||""}return`
`+Af+e}var Of=!1;function If(e,t){if(!e||Of)return"";Of=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),o=n.stack.split(`
`),i=a.length-1,l=o.length-1;1<=i&&0<=l&&a[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||a[i]!==o[l]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Of=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?nc(e):""}function jP(e){switch(e.tag){case 5:return nc(e.type);case 16:return nc("Lazy");case 13:return nc("Suspense");case 19:return nc("SuspenseList");case 0:case 2:case 15:return e=If(e.type,!1),e;case 11:return e=If(e.type.render,!1),e;case 1:return e=If(e.type,!0),e;default:return""}}function Yp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Di:return"Fragment";case Ci:return"Portal";case Wp:return"Profiler";case Tx:return"StrictMode";case Hp:return"Suspense";case qp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Zb:return(e.displayName||"Context")+".Consumer";case Jb:return(e._context.displayName||"Context")+".Provider";case Ex:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Mx:return t=e.displayName||null,t!==null?t:Yp(e.type)||"Memo";case ja:t=e._payload,e=e._init;try{return Yp(e(t))}catch{}}return null}function NP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yp(t);case 8:return t===Tx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _P(e){var t=Xb(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ou(e){e._valueTracker||(e._valueTracker=_P(e))}function ej(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Xb(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function sh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Kp(e,t){var r=t.checked;return qt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Qv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=qa(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function tj(e,t){t=t.checked,t!=null&&Px(e,"checked",t,!1)}function Gp(e,t){tj(e,t);var r=qa(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Jp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Jp(e,t.type,qa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Xv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Jp(e,t,r){(t!=="number"||sh(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ac=Array.isArray;function Vi(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+qa(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Zp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ye(91));return qt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ey(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ye(92));if(ac(r)){if(1<r.length)throw Error(ye(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:qa(r)}}function rj(e,t){var r=qa(t.value),n=qa(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ty(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function sj(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?sj(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var iu,nj=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(iu=iu||document.createElement("div"),iu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=iu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var pc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kP=["Webkit","ms","Moz","O"];Object.keys(pc).forEach(function(e){kP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pc[t]=pc[e]})});function aj(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||pc.hasOwnProperty(e)&&pc[e]?(""+t).trim():t+"px"}function oj(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=aj(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var SP=qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xp(e,t){if(t){if(SP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ye(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ye(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ye(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ye(62))}}function eg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tg=null;function Rx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rg=null,Wi=null,Hi=null;function ry(e){if(e=_d(e)){if(typeof rg!="function")throw Error(ye(280));var t=e.stateNode;t&&(t=fm(t),rg(e.stateNode,e.type,t))}}function ij(e){Wi?Hi?Hi.push(e):Hi=[e]:Wi=e}function lj(){if(Wi){var e=Wi,t=Hi;if(Hi=Wi=null,ry(e),t)for(e=0;e<t.length;e++)ry(t[e])}}function cj(e,t){return e(t)}function dj(){}var Lf=!1;function uj(e,t,r){if(Lf)return e(t,r);Lf=!0;try{return cj(e,t,r)}finally{Lf=!1,(Wi!==null||Hi!==null)&&(dj(),lj())}}function Rc(e,t){var r=e.stateNode;if(r===null)return null;var n=fm(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ye(231,t,typeof r));return r}var sg=!1;if(qn)try{var Hl={};Object.defineProperty(Hl,"passive",{get:function(){sg=!0}}),window.addEventListener("test",Hl,Hl),window.removeEventListener("test",Hl,Hl)}catch{sg=!1}function CP(e,t,r,n,a,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var gc=!1,nh=null,ah=!1,ng=null,DP={onError:function(e){gc=!0,nh=e}};function PP(e,t,r,n,a,o,i,l,c){gc=!1,nh=null,CP.apply(DP,arguments)}function TP(e,t,r,n,a,o,i,l,c){if(PP.apply(this,arguments),gc){if(gc){var u=nh;gc=!1,nh=null}else throw Error(ye(198));ah||(ah=!0,ng=u)}}function ei(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function hj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sy(e){if(ei(e)!==e)throw Error(ye(188))}function EP(e){var t=e.alternate;if(!t){if(t=ei(e),t===null)throw Error(ye(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var o=a.alternate;if(o===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return sy(a),e;if(o===n)return sy(a),t;o=o.sibling}throw Error(ye(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=o;break}if(l===n){i=!0,n=a,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=a;break}if(l===n){i=!0,n=o,r=a;break}l=l.sibling}if(!i)throw Error(ye(189))}}if(r.alternate!==n)throw Error(ye(190))}if(r.tag!==3)throw Error(ye(188));return r.stateNode.current===r?e:t}function mj(e){return e=EP(e),e!==null?fj(e):null}function fj(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fj(e);if(t!==null)return t;e=e.sibling}return null}var pj=cs.unstable_scheduleCallback,ny=cs.unstable_cancelCallback,MP=cs.unstable_shouldYield,RP=cs.unstable_requestPaint,Zt=cs.unstable_now,AP=cs.unstable_getCurrentPriorityLevel,Ax=cs.unstable_ImmediatePriority,gj=cs.unstable_UserBlockingPriority,oh=cs.unstable_NormalPriority,OP=cs.unstable_LowPriority,xj=cs.unstable_IdlePriority,dm=null,xn=null;function IP(e){if(xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(dm,e,void 0,(e.current.flags&128)===128)}catch{}}var Hs=Math.clz32?Math.clz32:$P,LP=Math.log,FP=Math.LN2;function $P(e){return e>>>=0,e===0?32:31-(LP(e)/FP|0)|0}var lu=64,cu=4194304;function oc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ih(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~a;l!==0?n=oc(l):(o&=i,o!==0&&(n=oc(o)))}else i=r&~a,i!==0?n=oc(i):o!==0&&(n=oc(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Hs(t),a=1<<r,n|=e[r],t&=~a;return n}function zP(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UP(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Hs(o),l=1<<i,c=a[i];c===-1?(!(l&r)||l&n)&&(a[i]=zP(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function ag(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vj(){var e=lu;return lu<<=1,!(lu&4194240)&&(lu=64),e}function Ff(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function jd(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Hs(t),e[t]=r}function BP(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Hs(r),o=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~o}}function Ox(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Hs(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var St=0;function yj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var wj,Ix,bj,jj,Nj,og=!1,du=[],Aa=null,Oa=null,Ia=null,Ac=new Map,Oc=new Map,Sa=[],VP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ay(e,t){switch(e){case"focusin":case"focusout":Aa=null;break;case"dragenter":case"dragleave":Oa=null;break;case"mouseover":case"mouseout":Ia=null;break;case"pointerover":case"pointerout":Ac.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oc.delete(t.pointerId)}}function ql(e,t,r,n,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[a]},t!==null&&(t=_d(t),t!==null&&Ix(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function WP(e,t,r,n,a){switch(t){case"focusin":return Aa=ql(Aa,e,t,r,n,a),!0;case"dragenter":return Oa=ql(Oa,e,t,r,n,a),!0;case"mouseover":return Ia=ql(Ia,e,t,r,n,a),!0;case"pointerover":var o=a.pointerId;return Ac.set(o,ql(Ac.get(o)||null,e,t,r,n,a)),!0;case"gotpointercapture":return o=a.pointerId,Oc.set(o,ql(Oc.get(o)||null,e,t,r,n,a)),!0}return!1}function _j(e){var t=Ro(e.target);if(t!==null){var r=ei(t);if(r!==null){if(t=r.tag,t===13){if(t=hj(r),t!==null){e.blockedOn=t,Nj(e.priority,function(){bj(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $u(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ig(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);tg=n,r.target.dispatchEvent(n),tg=null}else return t=_d(r),t!==null&&Ix(t),e.blockedOn=r,!1;t.shift()}return!0}function oy(e,t,r){$u(e)&&r.delete(t)}function HP(){og=!1,Aa!==null&&$u(Aa)&&(Aa=null),Oa!==null&&$u(Oa)&&(Oa=null),Ia!==null&&$u(Ia)&&(Ia=null),Ac.forEach(oy),Oc.forEach(oy)}function Yl(e,t){e.blockedOn===t&&(e.blockedOn=null,og||(og=!0,cs.unstable_scheduleCallback(cs.unstable_NormalPriority,HP)))}function Ic(e){function t(a){return Yl(a,e)}if(0<du.length){Yl(du[0],e);for(var r=1;r<du.length;r++){var n=du[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Aa!==null&&Yl(Aa,e),Oa!==null&&Yl(Oa,e),Ia!==null&&Yl(Ia,e),Ac.forEach(t),Oc.forEach(t),r=0;r<Sa.length;r++)n=Sa[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Sa.length&&(r=Sa[0],r.blockedOn===null);)_j(r),r.blockedOn===null&&Sa.shift()}var qi=Xn.ReactCurrentBatchConfig,lh=!0;function qP(e,t,r,n){var a=St,o=qi.transition;qi.transition=null;try{St=1,Lx(e,t,r,n)}finally{St=a,qi.transition=o}}function YP(e,t,r,n){var a=St,o=qi.transition;qi.transition=null;try{St=4,Lx(e,t,r,n)}finally{St=a,qi.transition=o}}function Lx(e,t,r,n){if(lh){var a=ig(e,t,r,n);if(a===null)Kf(e,t,n,ch,r),ay(e,n);else if(WP(a,e,t,r,n))n.stopPropagation();else if(ay(e,n),t&4&&-1<VP.indexOf(e)){for(;a!==null;){var o=_d(a);if(o!==null&&wj(o),o=ig(e,t,r,n),o===null&&Kf(e,t,n,ch,r),o===a)break;a=o}a!==null&&n.stopPropagation()}else Kf(e,t,n,null,r)}}var ch=null;function ig(e,t,r,n){if(ch=null,e=Rx(n),e=Ro(e),e!==null)if(t=ei(e),t===null)e=null;else if(r=t.tag,r===13){if(e=hj(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ch=e,null}function kj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AP()){case Ax:return 1;case gj:return 4;case oh:case OP:return 16;case xj:return 536870912;default:return 16}default:return 16}}var Ea=null,Fx=null,zu=null;function Sj(){if(zu)return zu;var e,t=Fx,r=t.length,n,a="value"in Ea?Ea.value:Ea.textContent,o=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[o-n];n++);return zu=a.slice(e,1<n?1-n:void 0)}function Uu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function uu(){return!0}function iy(){return!1}function ms(e){function t(r,n,a,o,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?uu:iy,this.isPropagationStopped=iy,this}return qt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=uu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=uu)},persist:function(){},isPersistent:uu}),t}var Cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$x=ms(Cl),Nd=qt({},Cl,{view:0,detail:0}),KP=ms(Nd),$f,zf,Kl,um=qt({},Nd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kl&&(Kl&&e.type==="mousemove"?($f=e.screenX-Kl.screenX,zf=e.screenY-Kl.screenY):zf=$f=0,Kl=e),$f)},movementY:function(e){return"movementY"in e?e.movementY:zf}}),ly=ms(um),GP=qt({},um,{dataTransfer:0}),JP=ms(GP),ZP=qt({},Nd,{relatedTarget:0}),Uf=ms(ZP),QP=qt({},Cl,{animationName:0,elapsedTime:0,pseudoElement:0}),XP=ms(QP),eT=qt({},Cl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tT=ms(eT),rT=qt({},Cl,{data:0}),cy=ms(rT),sT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=aT[e])?!!t[e]:!1}function zx(){return oT}var iT=qt({},Nd,{key:function(e){if(e.key){var t=sT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Uu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zx,charCode:function(e){return e.type==="keypress"?Uu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Uu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lT=ms(iT),cT=qt({},um,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dy=ms(cT),dT=qt({},Nd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zx}),uT=ms(dT),hT=qt({},Cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),mT=ms(hT),fT=qt({},um,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pT=ms(fT),gT=[9,13,27,32],Ux=qn&&"CompositionEvent"in window,xc=null;qn&&"documentMode"in document&&(xc=document.documentMode);var xT=qn&&"TextEvent"in window&&!xc,Cj=qn&&(!Ux||xc&&8<xc&&11>=xc),uy=" ",hy=!1;function Dj(e,t){switch(e){case"keyup":return gT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pi=!1;function vT(e,t){switch(e){case"compositionend":return Pj(t);case"keypress":return t.which!==32?null:(hy=!0,uy);case"textInput":return e=t.data,e===uy&&hy?null:e;default:return null}}function yT(e,t){if(Pi)return e==="compositionend"||!Ux&&Dj(e,t)?(e=Sj(),zu=Fx=Ea=null,Pi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cj&&t.locale!=="ko"?null:t.data;default:return null}}var wT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function my(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wT[e.type]:t==="textarea"}function Tj(e,t,r,n){ij(n),t=dh(t,"onChange"),0<t.length&&(r=new $x("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var vc=null,Lc=null;function bT(e){Uj(e,0)}function hm(e){var t=Mi(e);if(ej(t))return e}function jT(e,t){if(e==="change")return t}var Ej=!1;if(qn){var Bf;if(qn){var Vf="oninput"in document;if(!Vf){var fy=document.createElement("div");fy.setAttribute("oninput","return;"),Vf=typeof fy.oninput=="function"}Bf=Vf}else Bf=!1;Ej=Bf&&(!document.documentMode||9<document.documentMode)}function py(){vc&&(vc.detachEvent("onpropertychange",Mj),Lc=vc=null)}function Mj(e){if(e.propertyName==="value"&&hm(Lc)){var t=[];Tj(t,Lc,e,Rx(e)),uj(bT,t)}}function NT(e,t,r){e==="focusin"?(py(),vc=t,Lc=r,vc.attachEvent("onpropertychange",Mj)):e==="focusout"&&py()}function _T(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hm(Lc)}function kT(e,t){if(e==="click")return hm(t)}function ST(e,t){if(e==="input"||e==="change")return hm(t)}function CT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Js=typeof Object.is=="function"?Object.is:CT;function Fc(e,t){if(Js(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Vp.call(t,a)||!Js(e[a],t[a]))return!1}return!0}function gy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xy(e,t){var r=gy(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=gy(r)}}function Rj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Aj(){for(var e=window,t=sh();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=sh(e.document)}return t}function Bx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function DT(e){var t=Aj(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Rj(r.ownerDocument.documentElement,r)){if(n!==null&&Bx(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,o=Math.min(n.start,a);n=n.end===void 0?o:Math.min(n.end,a),!e.extend&&o>n&&(a=n,n=o,o=a),a=xy(r,o);var i=xy(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var PT=qn&&"documentMode"in document&&11>=document.documentMode,Ti=null,lg=null,yc=null,cg=!1;function vy(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;cg||Ti==null||Ti!==sh(n)||(n=Ti,"selectionStart"in n&&Bx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),yc&&Fc(yc,n)||(yc=n,n=dh(lg,"onSelect"),0<n.length&&(t=new $x("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ti)))}function hu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ei={animationend:hu("Animation","AnimationEnd"),animationiteration:hu("Animation","AnimationIteration"),animationstart:hu("Animation","AnimationStart"),transitionend:hu("Transition","TransitionEnd")},Wf={},Oj={};qn&&(Oj=document.createElement("div").style,"AnimationEvent"in window||(delete Ei.animationend.animation,delete Ei.animationiteration.animation,delete Ei.animationstart.animation),"TransitionEvent"in window||delete Ei.transitionend.transition);function mm(e){if(Wf[e])return Wf[e];if(!Ei[e])return e;var t=Ei[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Oj)return Wf[e]=t[r];return e}var Ij=mm("animationend"),Lj=mm("animationiteration"),Fj=mm("animationstart"),$j=mm("transitionend"),zj=new Map,yy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ao(e,t){zj.set(e,t),Xo(t,[e])}for(var Hf=0;Hf<yy.length;Hf++){var qf=yy[Hf],TT=qf.toLowerCase(),ET=qf[0].toUpperCase()+qf.slice(1);ao(TT,"on"+ET)}ao(Ij,"onAnimationEnd");ao(Lj,"onAnimationIteration");ao(Fj,"onAnimationStart");ao("dblclick","onDoubleClick");ao("focusin","onFocus");ao("focusout","onBlur");ao($j,"onTransitionEnd");nl("onMouseEnter",["mouseout","mouseover"]);nl("onMouseLeave",["mouseout","mouseover"]);nl("onPointerEnter",["pointerout","pointerover"]);nl("onPointerLeave",["pointerout","pointerover"]);Xo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MT=new Set("cancel close invalid load scroll toggle".split(" ").concat(ic));function wy(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,TP(n,t,void 0,e),e.currentTarget=null}function Uj(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&a.isPropagationStopped())break e;wy(a,l,u),o=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&a.isPropagationStopped())break e;wy(a,l,u),o=c}}}if(ah)throw e=ng,ah=!1,ng=null,e}function Ot(e,t){var r=t[fg];r===void 0&&(r=t[fg]=new Set);var n=e+"__bubble";r.has(n)||(Bj(t,e,2,!1),r.add(n))}function Yf(e,t,r){var n=0;t&&(n|=4),Bj(r,e,n,t)}var mu="_reactListening"+Math.random().toString(36).slice(2);function $c(e){if(!e[mu]){e[mu]=!0,Gb.forEach(function(r){r!=="selectionchange"&&(MT.has(r)||Yf(r,!1,e),Yf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[mu]||(t[mu]=!0,Yf("selectionchange",!1,t))}}function Bj(e,t,r,n){switch(kj(t)){case 1:var a=qP;break;case 4:a=YP;break;default:a=Lx}r=a.bind(null,t,r,e),a=void 0,!sg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Kf(e,t,r,n,a){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;l!==null;){if(i=Ro(l),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}l=l.parentNode}}n=n.return}uj(function(){var u=o,d=Rx(r),m=[];e:{var f=zj.get(e);if(f!==void 0){var p=$x,v=e;switch(e){case"keypress":if(Uu(r)===0)break e;case"keydown":case"keyup":p=lT;break;case"focusin":v="focus",p=Uf;break;case"focusout":v="blur",p=Uf;break;case"beforeblur":case"afterblur":p=Uf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ly;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=JP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=uT;break;case Ij:case Lj:case Fj:p=XP;break;case $j:p=mT;break;case"scroll":p=KP;break;case"wheel":p=pT;break;case"copy":case"cut":case"paste":p=tT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=dy}var g=(t&4)!==0,b=!g&&e==="scroll",y=g?f!==null?f+"Capture":null:f;g=[];for(var x=u,w;x!==null;){w=x;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,y!==null&&(j=Rc(x,y),j!=null&&g.push(zc(x,j,w)))),b)break;x=x.return}0<g.length&&(f=new p(f,v,null,r,d),m.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&r!==tg&&(v=r.relatedTarget||r.fromElement)&&(Ro(v)||v[Yn]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?Ro(v):null,v!==null&&(b=ei(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(g=ly,j="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=dy,j="onPointerLeave",y="onPointerEnter",x="pointer"),b=p==null?f:Mi(p),w=v==null?f:Mi(v),f=new g(j,x+"leave",p,r,d),f.target=b,f.relatedTarget=w,j=null,Ro(d)===u&&(g=new g(y,x+"enter",v,r,d),g.target=w,g.relatedTarget=b,j=g),b=j,p&&v)t:{for(g=p,y=v,x=0,w=g;w;w=fi(w))x++;for(w=0,j=y;j;j=fi(j))w++;for(;0<x-w;)g=fi(g),x--;for(;0<w-x;)y=fi(y),w--;for(;x--;){if(g===y||y!==null&&g===y.alternate)break t;g=fi(g),y=fi(y)}g=null}else g=null;p!==null&&by(m,f,p,g,!1),v!==null&&b!==null&&by(m,b,v,g,!0)}}e:{if(f=u?Mi(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var k=jT;else if(my(f))if(Ej)k=ST;else{k=_T;var A=NT}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=kT);if(k&&(k=k(e,u))){Tj(m,k,r,d);break e}A&&A(e,f,u),e==="focusout"&&(A=f._wrapperState)&&A.controlled&&f.type==="number"&&Jp(f,"number",f.value)}switch(A=u?Mi(u):window,e){case"focusin":(my(A)||A.contentEditable==="true")&&(Ti=A,lg=u,yc=null);break;case"focusout":yc=lg=Ti=null;break;case"mousedown":cg=!0;break;case"contextmenu":case"mouseup":case"dragend":cg=!1,vy(m,r,d);break;case"selectionchange":if(PT)break;case"keydown":case"keyup":vy(m,r,d)}var C;if(Ux)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Pi?Dj(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(Cj&&r.locale!=="ko"&&(Pi||T!=="onCompositionStart"?T==="onCompositionEnd"&&Pi&&(C=Sj()):(Ea=d,Fx="value"in Ea?Ea.value:Ea.textContent,Pi=!0)),A=dh(u,T),0<A.length&&(T=new cy(T,e,null,r,d),m.push({event:T,listeners:A}),C?T.data=C:(C=Pj(r),C!==null&&(T.data=C)))),(C=xT?vT(e,r):yT(e,r))&&(u=dh(u,"onBeforeInput"),0<u.length&&(d=new cy("onBeforeInput","beforeinput",null,r,d),m.push({event:d,listeners:u}),d.data=C))}Uj(m,t)})}function zc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function dh(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=Rc(e,r),o!=null&&n.unshift(zc(e,o,a)),o=Rc(e,t),o!=null&&n.push(zc(e,o,a))),e=e.return}return n}function fi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function by(e,t,r,n,a){for(var o=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Rc(r,o),c!=null&&i.unshift(zc(r,c,l))):a||(c=Rc(r,o),c!=null&&i.push(zc(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var RT=/\r\n?/g,AT=/\u0000|\uFFFD/g;function jy(e){return(typeof e=="string"?e:""+e).replace(RT,`
`).replace(AT,"")}function fu(e,t,r){if(t=jy(t),jy(e)!==t&&r)throw Error(ye(425))}function uh(){}var dg=null,ug=null;function hg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mg=typeof setTimeout=="function"?setTimeout:void 0,OT=typeof clearTimeout=="function"?clearTimeout:void 0,Ny=typeof Promise=="function"?Promise:void 0,IT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ny<"u"?function(e){return Ny.resolve(null).then(e).catch(LT)}:mg;function LT(e){setTimeout(function(){throw e})}function Gf(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Ic(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Ic(t)}function La(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _y(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Dl=Math.random().toString(36).slice(2),dn="__reactFiber$"+Dl,Uc="__reactProps$"+Dl,Yn="__reactContainer$"+Dl,fg="__reactEvents$"+Dl,FT="__reactListeners$"+Dl,$T="__reactHandles$"+Dl;function Ro(e){var t=e[dn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Yn]||r[dn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=_y(e);e!==null;){if(r=e[dn])return r;e=_y(e)}return t}e=r,r=e.parentNode}return null}function _d(e){return e=e[dn]||e[Yn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ye(33))}function fm(e){return e[Uc]||null}var pg=[],Ri=-1;function oo(e){return{current:e}}function Ft(e){0>Ri||(e.current=pg[Ri],pg[Ri]=null,Ri--)}function Tt(e,t){Ri++,pg[Ri]=e.current,e.current=t}var Ya={},Cr=oo(Ya),Zr=oo(!1),Uo=Ya;function al(e,t){var r=e.type.contextTypes;if(!r)return Ya;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in r)a[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Qr(e){return e=e.childContextTypes,e!=null}function hh(){Ft(Zr),Ft(Cr)}function ky(e,t,r){if(Cr.current!==Ya)throw Error(ye(168));Tt(Cr,t),Tt(Zr,r)}function Vj(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ye(108,NP(e)||"Unknown",a));return qt({},r,n)}function mh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ya,Uo=Cr.current,Tt(Cr,e),Tt(Zr,Zr.current),!0}function Sy(e,t,r){var n=e.stateNode;if(!n)throw Error(ye(169));r?(e=Vj(e,t,Uo),n.__reactInternalMemoizedMergedChildContext=e,Ft(Zr),Ft(Cr),Tt(Cr,e)):Ft(Zr),Tt(Zr,r)}var Fn=null,pm=!1,Jf=!1;function Wj(e){Fn===null?Fn=[e]:Fn.push(e)}function zT(e){pm=!0,Wj(e)}function io(){if(!Jf&&Fn!==null){Jf=!0;var e=0,t=St;try{var r=Fn;for(St=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Fn=null,pm=!1}catch(a){throw Fn!==null&&(Fn=Fn.slice(e+1)),pj(Ax,io),a}finally{St=t,Jf=!1}}return null}var Ai=[],Oi=0,fh=null,ph=0,gs=[],xs=0,Bo=null,$n=1,zn="";function ko(e,t){Ai[Oi++]=ph,Ai[Oi++]=fh,fh=e,ph=t}function Hj(e,t,r){gs[xs++]=$n,gs[xs++]=zn,gs[xs++]=Bo,Bo=e;var n=$n;e=zn;var a=32-Hs(n)-1;n&=~(1<<a),r+=1;var o=32-Hs(t)+a;if(30<o){var i=a-a%5;o=(n&(1<<i)-1).toString(32),n>>=i,a-=i,$n=1<<32-Hs(t)+a|r<<a|n,zn=o+e}else $n=1<<o|r<<a|n,zn=e}function Vx(e){e.return!==null&&(ko(e,1),Hj(e,1,0))}function Wx(e){for(;e===fh;)fh=Ai[--Oi],Ai[Oi]=null,ph=Ai[--Oi],Ai[Oi]=null;for(;e===Bo;)Bo=gs[--xs],gs[xs]=null,zn=gs[--xs],gs[xs]=null,$n=gs[--xs],gs[xs]=null}var os=null,as=null,zt=!1,Ls=null;function qj(e,t){var r=vs(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Cy(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,os=e,as=La(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,os=e,as=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Bo!==null?{id:$n,overflow:zn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=vs(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,os=e,as=null,!0):!1;default:return!1}}function gg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xg(e){if(zt){var t=as;if(t){var r=t;if(!Cy(e,t)){if(gg(e))throw Error(ye(418));t=La(r.nextSibling);var n=os;t&&Cy(e,t)?qj(n,r):(e.flags=e.flags&-4097|2,zt=!1,os=e)}}else{if(gg(e))throw Error(ye(418));e.flags=e.flags&-4097|2,zt=!1,os=e}}}function Dy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;os=e}function pu(e){if(e!==os)return!1;if(!zt)return Dy(e),zt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!hg(e.type,e.memoizedProps)),t&&(t=as)){if(gg(e))throw Yj(),Error(ye(418));for(;t;)qj(e,t),t=La(t.nextSibling)}if(Dy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ye(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){as=La(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}as=null}}else as=os?La(e.stateNode.nextSibling):null;return!0}function Yj(){for(var e=as;e;)e=La(e.nextSibling)}function ol(){as=os=null,zt=!1}function Hx(e){Ls===null?Ls=[e]:Ls.push(e)}var UT=Xn.ReactCurrentBatchConfig;function Gl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ye(309));var n=r.stateNode}if(!n)throw Error(ye(147,e));var a=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=a.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(ye(284));if(!r._owner)throw Error(ye(290,e))}return e}function gu(e,t){throw e=Object.prototype.toString.call(t),Error(ye(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Py(e){var t=e._init;return t(e._payload)}function Kj(e){function t(y,x){if(e){var w=y.deletions;w===null?(y.deletions=[x],y.flags|=16):w.push(x)}}function r(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function a(y,x){return y=Ua(y,x),y.index=0,y.sibling=null,y}function o(y,x,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<x?(y.flags|=2,x):w):(y.flags|=2,x)):(y.flags|=1048576,x)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,x,w,j){return x===null||x.tag!==6?(x=sp(w,y.mode,j),x.return=y,x):(x=a(x,w),x.return=y,x)}function c(y,x,w,j){var k=w.type;return k===Di?d(y,x,w.props.children,j,w.key):x!==null&&(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ja&&Py(k)===x.type)?(j=a(x,w.props),j.ref=Gl(y,x,w),j.return=y,j):(j=Ku(w.type,w.key,w.props,null,y.mode,j),j.ref=Gl(y,x,w),j.return=y,j)}function u(y,x,w,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=np(w,y.mode,j),x.return=y,x):(x=a(x,w.children||[]),x.return=y,x)}function d(y,x,w,j,k){return x===null||x.tag!==7?(x=Fo(w,y.mode,j,k),x.return=y,x):(x=a(x,w),x.return=y,x)}function m(y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=sp(""+x,y.mode,w),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case au:return w=Ku(x.type,x.key,x.props,null,y.mode,w),w.ref=Gl(y,null,x),w.return=y,w;case Ci:return x=np(x,y.mode,w),x.return=y,x;case ja:var j=x._init;return m(y,j(x._payload),w)}if(ac(x)||Wl(x))return x=Fo(x,y.mode,w,null),x.return=y,x;gu(y,x)}return null}function f(y,x,w,j){var k=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:l(y,x,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case au:return w.key===k?c(y,x,w,j):null;case Ci:return w.key===k?u(y,x,w,j):null;case ja:return k=w._init,f(y,x,k(w._payload),j)}if(ac(w)||Wl(w))return k!==null?null:d(y,x,w,j,null);gu(y,w)}return null}function p(y,x,w,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(w)||null,l(x,y,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case au:return y=y.get(j.key===null?w:j.key)||null,c(x,y,j,k);case Ci:return y=y.get(j.key===null?w:j.key)||null,u(x,y,j,k);case ja:var A=j._init;return p(y,x,w,A(j._payload),k)}if(ac(j)||Wl(j))return y=y.get(w)||null,d(x,y,j,k,null);gu(x,j)}return null}function v(y,x,w,j){for(var k=null,A=null,C=x,T=x=0,B=null;C!==null&&T<w.length;T++){C.index>T?(B=C,C=null):B=C.sibling;var $=f(y,C,w[T],j);if($===null){C===null&&(C=B);break}e&&C&&$.alternate===null&&t(y,C),x=o($,x,T),A===null?k=$:A.sibling=$,A=$,C=B}if(T===w.length)return r(y,C),zt&&ko(y,T),k;if(C===null){for(;T<w.length;T++)C=m(y,w[T],j),C!==null&&(x=o(C,x,T),A===null?k=C:A.sibling=C,A=C);return zt&&ko(y,T),k}for(C=n(y,C);T<w.length;T++)B=p(C,y,T,w[T],j),B!==null&&(e&&B.alternate!==null&&C.delete(B.key===null?T:B.key),x=o(B,x,T),A===null?k=B:A.sibling=B,A=B);return e&&C.forEach(function(W){return t(y,W)}),zt&&ko(y,T),k}function g(y,x,w,j){var k=Wl(w);if(typeof k!="function")throw Error(ye(150));if(w=k.call(w),w==null)throw Error(ye(151));for(var A=k=null,C=x,T=x=0,B=null,$=w.next();C!==null&&!$.done;T++,$=w.next()){C.index>T?(B=C,C=null):B=C.sibling;var W=f(y,C,$.value,j);if(W===null){C===null&&(C=B);break}e&&C&&W.alternate===null&&t(y,C),x=o(W,x,T),A===null?k=W:A.sibling=W,A=W,C=B}if($.done)return r(y,C),zt&&ko(y,T),k;if(C===null){for(;!$.done;T++,$=w.next())$=m(y,$.value,j),$!==null&&(x=o($,x,T),A===null?k=$:A.sibling=$,A=$);return zt&&ko(y,T),k}for(C=n(y,C);!$.done;T++,$=w.next())$=p(C,y,T,$.value,j),$!==null&&(e&&$.alternate!==null&&C.delete($.key===null?T:$.key),x=o($,x,T),A===null?k=$:A.sibling=$,A=$);return e&&C.forEach(function(_){return t(y,_)}),zt&&ko(y,T),k}function b(y,x,w,j){if(typeof w=="object"&&w!==null&&w.type===Di&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case au:e:{for(var k=w.key,A=x;A!==null;){if(A.key===k){if(k=w.type,k===Di){if(A.tag===7){r(y,A.sibling),x=a(A,w.props.children),x.return=y,y=x;break e}}else if(A.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ja&&Py(k)===A.type){r(y,A.sibling),x=a(A,w.props),x.ref=Gl(y,A,w),x.return=y,y=x;break e}r(y,A);break}else t(y,A);A=A.sibling}w.type===Di?(x=Fo(w.props.children,y.mode,j,w.key),x.return=y,y=x):(j=Ku(w.type,w.key,w.props,null,y.mode,j),j.ref=Gl(y,x,w),j.return=y,y=j)}return i(y);case Ci:e:{for(A=w.key;x!==null;){if(x.key===A)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(y,x.sibling),x=a(x,w.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else t(y,x);x=x.sibling}x=np(w,y.mode,j),x.return=y,y=x}return i(y);case ja:return A=w._init,b(y,x,A(w._payload),j)}if(ac(w))return v(y,x,w,j);if(Wl(w))return g(y,x,w,j);gu(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(r(y,x.sibling),x=a(x,w),x.return=y,y=x):(r(y,x),x=sp(w,y.mode,j),x.return=y,y=x),i(y)):r(y,x)}return b}var il=Kj(!0),Gj=Kj(!1),gh=oo(null),xh=null,Ii=null,qx=null;function Yx(){qx=Ii=xh=null}function Kx(e){var t=gh.current;Ft(gh),e._currentValue=t}function vg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Yi(e,t){xh=e,qx=Ii=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Gr=!0),e.firstContext=null)}function ks(e){var t=e._currentValue;if(qx!==e)if(e={context:e,memoizedValue:t,next:null},Ii===null){if(xh===null)throw Error(ye(308));Ii=e,xh.dependencies={lanes:0,firstContext:e}}else Ii=Ii.next=e;return t}var Ao=null;function Gx(e){Ao===null?Ao=[e]:Ao.push(e)}function Jj(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Gx(t)):(r.next=a.next,a.next=r),t.interleaved=r,Kn(e,n)}function Kn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Na=!1;function Jx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fa(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,vt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Kn(e,r)}return a=n.interleaved,a===null?(t.next=t,Gx(n)):(t.next=a.next,a.next=t),n.interleaved=t,Kn(e,r)}function Bu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ox(e,r)}}function Ty(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?a=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?a=o=t:o=o.next=t}else a=o=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function vh(e,t,r,n){var a=e.updateQueue;Na=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var m=a.baseState;i=0,d=u=c=null,l=o;do{var f=l.lane,p=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,g=l;switch(f=t,p=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){m=v.call(p,m,f);break e}m=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,f=typeof v=="function"?v.call(p,m,f):v,f==null)break e;m=qt({},m,f);break e;case 2:Na=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=m):d=d.next=p,i|=f;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;f=l,l=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(d===null&&(c=m),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);Wo|=i,e.lanes=i,e.memoizedState=m}}function Ey(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ye(191,a));a.call(n)}}}var kd={},vn=oo(kd),Bc=oo(kd),Vc=oo(kd);function Oo(e){if(e===kd)throw Error(ye(174));return e}function Zx(e,t){switch(Tt(Vc,t),Tt(Bc,e),Tt(vn,kd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Qp(t,e)}Ft(vn),Tt(vn,t)}function ll(){Ft(vn),Ft(Bc),Ft(Vc)}function Qj(e){Oo(Vc.current);var t=Oo(vn.current),r=Qp(t,e.type);t!==r&&(Tt(Bc,e),Tt(vn,r))}function Qx(e){Bc.current===e&&(Ft(vn),Ft(Bc))}var Vt=oo(0);function yh(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zf=[];function Xx(){for(var e=0;e<Zf.length;e++)Zf[e]._workInProgressVersionPrimary=null;Zf.length=0}var Vu=Xn.ReactCurrentDispatcher,Qf=Xn.ReactCurrentBatchConfig,Vo=0,Wt=null,ir=null,dr=null,wh=!1,wc=!1,Wc=0,BT=0;function Nr(){throw Error(ye(321))}function e0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Js(e[r],t[r]))return!1;return!0}function t0(e,t,r,n,a,o){if(Vo=o,Wt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vu.current=e===null||e.memoizedState===null?qT:YT,e=r(n,a),wc){o=0;do{if(wc=!1,Wc=0,25<=o)throw Error(ye(301));o+=1,dr=ir=null,t.updateQueue=null,Vu.current=KT,e=r(n,a)}while(wc)}if(Vu.current=bh,t=ir!==null&&ir.next!==null,Vo=0,dr=ir=Wt=null,wh=!1,t)throw Error(ye(300));return e}function r0(){var e=Wc!==0;return Wc=0,e}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?Wt.memoizedState=dr=e:dr=dr.next=e,dr}function Ss(){if(ir===null){var e=Wt.alternate;e=e!==null?e.memoizedState:null}else e=ir.next;var t=dr===null?Wt.memoizedState:dr.next;if(t!==null)dr=t,ir=e;else{if(e===null)throw Error(ye(310));ir=e,e={memoizedState:ir.memoizedState,baseState:ir.baseState,baseQueue:ir.baseQueue,queue:ir.queue,next:null},dr===null?Wt.memoizedState=dr=e:dr=dr.next=e}return dr}function Hc(e,t){return typeof t=="function"?t(e):t}function Xf(e){var t=Ss(),r=t.queue;if(r===null)throw Error(ye(311));r.lastRenderedReducer=e;var n=ir,a=n.baseQueue,o=r.pending;if(o!==null){if(a!==null){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(a!==null){o=a.next,n=n.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((Vo&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=m,i=n):c=c.next=m,Wt.lanes|=d,Wo|=d}u=u.next}while(u!==null&&u!==o);c===null?i=n:c.next=l,Js(n,t.memoizedState)||(Gr=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do o=a.lane,Wt.lanes|=o,Wo|=o,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ep(e){var t=Ss(),r=t.queue;if(r===null)throw Error(ye(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do o=e(o,i.action),i=i.next;while(i!==a);Js(o,t.memoizedState)||(Gr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Xj(){}function e1(e,t){var r=Wt,n=Ss(),a=t(),o=!Js(n.memoizedState,a);if(o&&(n.memoizedState=a,Gr=!0),n=n.queue,s0(s1.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||dr!==null&&dr.memoizedState.tag&1){if(r.flags|=2048,qc(9,r1.bind(null,r,n,a,t),void 0,null),ur===null)throw Error(ye(349));Vo&30||t1(r,t,a)}return a}function t1(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Wt.updateQueue,t===null?(t={lastEffect:null,stores:null},Wt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function r1(e,t,r,n){t.value=r,t.getSnapshot=n,n1(t)&&a1(e)}function s1(e,t,r){return r(function(){n1(t)&&a1(e)})}function n1(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Js(e,r)}catch{return!0}}function a1(e){var t=Kn(e,1);t!==null&&qs(t,e,1,-1)}function My(e){var t=cn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hc,lastRenderedState:e},t.queue=e,e=e.dispatch=HT.bind(null,Wt,e),[t.memoizedState,e]}function qc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Wt.updateQueue,t===null?(t={lastEffect:null,stores:null},Wt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function o1(){return Ss().memoizedState}function Wu(e,t,r,n){var a=cn();Wt.flags|=e,a.memoizedState=qc(1|t,r,void 0,n===void 0?null:n)}function gm(e,t,r,n){var a=Ss();n=n===void 0?null:n;var o=void 0;if(ir!==null){var i=ir.memoizedState;if(o=i.destroy,n!==null&&e0(n,i.deps)){a.memoizedState=qc(t,r,o,n);return}}Wt.flags|=e,a.memoizedState=qc(1|t,r,o,n)}function Ry(e,t){return Wu(8390656,8,e,t)}function s0(e,t){return gm(2048,8,e,t)}function i1(e,t){return gm(4,2,e,t)}function l1(e,t){return gm(4,4,e,t)}function c1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function d1(e,t,r){return r=r!=null?r.concat([e]):null,gm(4,4,c1.bind(null,t,e),r)}function n0(){}function u1(e,t){var r=Ss();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&e0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function h1(e,t){var r=Ss();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&e0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function m1(e,t,r){return Vo&21?(Js(r,t)||(r=vj(),Wt.lanes|=r,Wo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Gr=!0),e.memoizedState=r)}function VT(e,t){var r=St;St=r!==0&&4>r?r:4,e(!0);var n=Qf.transition;Qf.transition={};try{e(!1),t()}finally{St=r,Qf.transition=n}}function f1(){return Ss().memoizedState}function WT(e,t,r){var n=za(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},p1(e))g1(t,r);else if(r=Jj(e,t,r,n),r!==null){var a=Or();qs(r,e,n,a),x1(r,t,n)}}function HT(e,t,r){var n=za(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(p1(e))g1(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,r);if(a.hasEagerState=!0,a.eagerState=l,Js(l,i)){var c=t.interleaved;c===null?(a.next=a,Gx(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=Jj(e,t,a,n),r!==null&&(a=Or(),qs(r,e,n,a),x1(r,t,n))}}function p1(e){var t=e.alternate;return e===Wt||t!==null&&t===Wt}function g1(e,t){wc=wh=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function x1(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ox(e,r)}}var bh={readContext:ks,useCallback:Nr,useContext:Nr,useEffect:Nr,useImperativeHandle:Nr,useInsertionEffect:Nr,useLayoutEffect:Nr,useMemo:Nr,useReducer:Nr,useRef:Nr,useState:Nr,useDebugValue:Nr,useDeferredValue:Nr,useTransition:Nr,useMutableSource:Nr,useSyncExternalStore:Nr,useId:Nr,unstable_isNewReconciler:!1},qT={readContext:ks,useCallback:function(e,t){return cn().memoizedState=[e,t===void 0?null:t],e},useContext:ks,useEffect:Ry,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Wu(4194308,4,c1.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Wu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wu(4,2,e,t)},useMemo:function(e,t){var r=cn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=cn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=WT.bind(null,Wt,e),[n.memoizedState,e]},useRef:function(e){var t=cn();return e={current:e},t.memoizedState=e},useState:My,useDebugValue:n0,useDeferredValue:function(e){return cn().memoizedState=e},useTransition:function(){var e=My(!1),t=e[0];return e=VT.bind(null,e[1]),cn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Wt,a=cn();if(zt){if(r===void 0)throw Error(ye(407));r=r()}else{if(r=t(),ur===null)throw Error(ye(349));Vo&30||t1(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,Ry(s1.bind(null,n,o,e),[e]),n.flags|=2048,qc(9,r1.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=cn(),t=ur.identifierPrefix;if(zt){var r=zn,n=$n;r=(n&~(1<<32-Hs(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Wc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=BT++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},YT={readContext:ks,useCallback:u1,useContext:ks,useEffect:s0,useImperativeHandle:d1,useInsertionEffect:i1,useLayoutEffect:l1,useMemo:h1,useReducer:Xf,useRef:o1,useState:function(){return Xf(Hc)},useDebugValue:n0,useDeferredValue:function(e){var t=Ss();return m1(t,ir.memoizedState,e)},useTransition:function(){var e=Xf(Hc)[0],t=Ss().memoizedState;return[e,t]},useMutableSource:Xj,useSyncExternalStore:e1,useId:f1,unstable_isNewReconciler:!1},KT={readContext:ks,useCallback:u1,useContext:ks,useEffect:s0,useImperativeHandle:d1,useInsertionEffect:i1,useLayoutEffect:l1,useMemo:h1,useReducer:ep,useRef:o1,useState:function(){return ep(Hc)},useDebugValue:n0,useDeferredValue:function(e){var t=Ss();return ir===null?t.memoizedState=e:m1(t,ir.memoizedState,e)},useTransition:function(){var e=ep(Hc)[0],t=Ss().memoizedState;return[e,t]},useMutableSource:Xj,useSyncExternalStore:e1,useId:f1,unstable_isNewReconciler:!1};function Rs(e,t){if(e&&e.defaultProps){t=qt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function yg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:qt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var xm={isMounted:function(e){return(e=e._reactInternals)?ei(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Or(),a=za(e),o=Wn(n,a);o.payload=t,r!=null&&(o.callback=r),t=Fa(e,o,a),t!==null&&(qs(t,e,a,n),Bu(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Or(),a=za(e),o=Wn(n,a);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Fa(e,o,a),t!==null&&(qs(t,e,a,n),Bu(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Or(),n=za(e),a=Wn(r,n);a.tag=2,t!=null&&(a.callback=t),t=Fa(e,a,n),t!==null&&(qs(t,e,n,r),Bu(t,e,n))}};function Ay(e,t,r,n,a,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!Fc(r,n)||!Fc(a,o):!0}function v1(e,t,r){var n=!1,a=Ya,o=t.contextType;return typeof o=="object"&&o!==null?o=ks(o):(a=Qr(t)?Uo:Cr.current,n=t.contextTypes,o=(n=n!=null)?al(e,a):Ya),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=xm,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function Oy(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&xm.enqueueReplaceState(t,t.state,null)}function wg(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Jx(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=ks(o):(o=Qr(t)?Uo:Cr.current,a.context=al(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(yg(e,t,o,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&xm.enqueueReplaceState(a,a.state,null),vh(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function cl(e,t){try{var r="",n=t;do r+=jP(n),n=n.return;while(n);var a=r}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function tp(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function bg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var GT=typeof WeakMap=="function"?WeakMap:Map;function y1(e,t,r){r=Wn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Nh||(Nh=!0,Eg=n),bg(e,t)},r}function w1(e,t,r){r=Wn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){bg(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){bg(e,t),typeof n!="function"&&($a===null?$a=new Set([this]):$a.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Iy(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new GT;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=cE.bind(null,e,t,r),t.then(e,e))}function Ly(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Fy(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Wn(-1,1),t.tag=2,Fa(r,t,1))),r.lanes|=1),e)}var JT=Xn.ReactCurrentOwner,Gr=!1;function Er(e,t,r,n){t.child=e===null?Gj(t,null,r,n):il(t,e.child,r,n)}function $y(e,t,r,n,a){r=r.render;var o=t.ref;return Yi(t,a),n=t0(e,t,r,n,o,a),r=r0(),e!==null&&!Gr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Gn(e,t,a)):(zt&&r&&Vx(t),t.flags|=1,Er(e,t,n,a),t.child)}function zy(e,t,r,n,a){if(e===null){var o=r.type;return typeof o=="function"&&!h0(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,b1(e,t,o,n,a)):(e=Ku(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Fc,r(i,n)&&e.ref===t.ref)return Gn(e,t,a)}return t.flags|=1,e=Ua(o,n),e.ref=t.ref,e.return=t,t.child=e}function b1(e,t,r,n,a){if(e!==null){var o=e.memoizedProps;if(Fc(o,n)&&e.ref===t.ref)if(Gr=!1,t.pendingProps=n=o,(e.lanes&a)!==0)e.flags&131072&&(Gr=!0);else return t.lanes=e.lanes,Gn(e,t,a)}return jg(e,t,r,n,a)}function j1(e,t,r){var n=t.pendingProps,a=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tt(Fi,ss),ss|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Tt(Fi,ss),ss|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Tt(Fi,ss),ss|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Tt(Fi,ss),ss|=n;return Er(e,t,a,r),t.child}function N1(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function jg(e,t,r,n,a){var o=Qr(r)?Uo:Cr.current;return o=al(t,o),Yi(t,a),r=t0(e,t,r,n,o,a),n=r0(),e!==null&&!Gr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Gn(e,t,a)):(zt&&n&&Vx(t),t.flags|=1,Er(e,t,r,a),t.child)}function Uy(e,t,r,n,a){if(Qr(r)){var o=!0;mh(t)}else o=!1;if(Yi(t,a),t.stateNode===null)Hu(e,t),v1(t,r,n),wg(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=ks(u):(u=Qr(r)?Uo:Cr.current,u=al(t,u));var d=r.getDerivedStateFromProps,m=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";m||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Oy(t,i,n,u),Na=!1;var f=t.memoizedState;i.state=f,vh(t,n,i,a),c=t.memoizedState,l!==n||f!==c||Zr.current||Na?(typeof d=="function"&&(yg(t,r,d,n),c=t.memoizedState),(l=Na||Ay(t,r,l,n,f,c,u))?(m||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Zj(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Rs(t.type,l),i.props=u,m=t.pendingProps,f=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=ks(c):(c=Qr(r)?Uo:Cr.current,c=al(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==m||f!==c)&&Oy(t,i,n,c),Na=!1,f=t.memoizedState,i.state=f,vh(t,n,i,a);var v=t.memoizedState;l!==m||f!==v||Zr.current||Na?(typeof p=="function"&&(yg(t,r,p,n),v=t.memoizedState),(u=Na||Ay(t,r,u,n,f,v,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,v,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,v,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),i.props=n,i.state=v,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return Ng(e,t,r,n,o,a)}function Ng(e,t,r,n,a,o){N1(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&Sy(t,r,!1),Gn(e,t,o);n=t.stateNode,JT.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=il(t,e.child,null,o),t.child=il(t,null,l,o)):Er(e,t,l,o),t.memoizedState=n.state,a&&Sy(t,r,!0),t.child}function _1(e){var t=e.stateNode;t.pendingContext?ky(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ky(e,t.context,!1),Zx(e,t.containerInfo)}function By(e,t,r,n,a){return ol(),Hx(a),t.flags|=256,Er(e,t,r,n),t.child}var _g={dehydrated:null,treeContext:null,retryLane:0};function kg(e){return{baseLanes:e,cachePool:null,transitions:null}}function k1(e,t,r){var n=t.pendingProps,a=Vt.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Tt(Vt,a&1),e===null)return xg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=wm(i,n,0,null),e=Fo(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=kg(r),t.memoizedState=_g,e):a0(t,i));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return ZT(e,t,i,n,l,a,r);if(o){o=n.fallback,i=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ua(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?o=Ua(l,o):(o=Fo(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?kg(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=_g,n}return o=e.child,e=o.sibling,n=Ua(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function a0(e,t){return t=wm({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xu(e,t,r,n){return n!==null&&Hx(n),il(t,e.child,null,r),e=a0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ZT(e,t,r,n,a,o,i){if(r)return t.flags&256?(t.flags&=-257,n=tp(Error(ye(422))),xu(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=wm({mode:"visible",children:n.children},a,0,null),o=Fo(o,a,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&il(t,e.child,null,i),t.child.memoizedState=kg(i),t.memoizedState=_g,o);if(!(t.mode&1))return xu(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(ye(419)),n=tp(o,n,void 0),xu(e,t,i,n)}if(l=(i&e.childLanes)!==0,Gr||l){if(n=ur,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,Kn(e,a),qs(n,e,a,-1))}return u0(),n=tp(Error(ye(421))),xu(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=dE.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,as=La(a.nextSibling),os=t,zt=!0,Ls=null,e!==null&&(gs[xs++]=$n,gs[xs++]=zn,gs[xs++]=Bo,$n=e.id,zn=e.overflow,Bo=t),t=a0(t,n.children),t.flags|=4096,t)}function Vy(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),vg(e.return,t,r)}function rp(e,t,r,n,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a)}function S1(e,t,r){var n=t.pendingProps,a=n.revealOrder,o=n.tail;if(Er(e,t,n.children,r),n=Vt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Vy(e,r,t);else if(e.tag===19)Vy(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Tt(Vt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&yh(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),rp(t,!1,a,r,o);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&yh(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}rp(t,!0,r,null,o);break;case"together":rp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Wo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ye(153));if(t.child!==null){for(e=t.child,r=Ua(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ua(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function QT(e,t,r){switch(t.tag){case 3:_1(t),ol();break;case 5:Qj(t);break;case 1:Qr(t.type)&&mh(t);break;case 4:Zx(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Tt(gh,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Tt(Vt,Vt.current&1),t.flags|=128,null):r&t.child.childLanes?k1(e,t,r):(Tt(Vt,Vt.current&1),e=Gn(e,t,r),e!==null?e.sibling:null);Tt(Vt,Vt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return S1(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Tt(Vt,Vt.current),n)break;return null;case 22:case 23:return t.lanes=0,j1(e,t,r)}return Gn(e,t,r)}var C1,Sg,D1,P1;C1=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Sg=function(){};D1=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Oo(vn.current);var o=null;switch(r){case"input":a=Kp(e,a),n=Kp(e,n),o=[];break;case"select":a=qt({},a,{value:void 0}),n=qt({},n,{value:void 0}),o=[];break;case"textarea":a=Zp(e,a),n=Zp(e,n),o=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=uh)}Xp(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ec.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ec.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ot("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};P1=function(e,t,r,n){r!==n&&(t.flags|=4)};function Jl(e,t){if(!zt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function _r(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function XT(e,t,r){var n=t.pendingProps;switch(Wx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _r(t),null;case 1:return Qr(t.type)&&hh(),_r(t),null;case 3:return n=t.stateNode,ll(),Ft(Zr),Ft(Cr),Xx(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(pu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ls!==null&&(Ag(Ls),Ls=null))),Sg(e,t),_r(t),null;case 5:Qx(t);var a=Oo(Vc.current);if(r=t.type,e!==null&&t.stateNode!=null)D1(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ye(166));return _r(t),null}if(e=Oo(vn.current),pu(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[dn]=t,n[Uc]=o,e=(t.mode&1)!==0,r){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(a=0;a<ic.length;a++)Ot(ic[a],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Qv(n,o),Ot("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ot("invalid",n);break;case"textarea":ey(n,o),Ot("invalid",n)}Xp(r,o),a=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&fu(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&fu(n.textContent,l,e),a=["children",""+l]):Ec.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Ot("scroll",n)}switch(r){case"input":ou(n),Xv(n,o,!0);break;case"textarea":ou(n),ty(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=uh)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=sj(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[dn]=t,e[Uc]=n,C1(e,t,!1,!1),t.stateNode=e;e:{switch(i=eg(r,n),r){case"dialog":Ot("cancel",e),Ot("close",e),a=n;break;case"iframe":case"object":case"embed":Ot("load",e),a=n;break;case"video":case"audio":for(a=0;a<ic.length;a++)Ot(ic[a],e);a=n;break;case"source":Ot("error",e),a=n;break;case"img":case"image":case"link":Ot("error",e),Ot("load",e),a=n;break;case"details":Ot("toggle",e),a=n;break;case"input":Qv(e,n),a=Kp(e,n),Ot("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=qt({},n,{value:void 0}),Ot("invalid",e);break;case"textarea":ey(e,n),a=Zp(e,n),Ot("invalid",e);break;default:a=n}Xp(r,a),l=a;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?oj(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&nj(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Mc(e,c):typeof c=="number"&&Mc(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ec.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Ot("scroll",e):c!=null&&Px(e,o,c,i))}switch(r){case"input":ou(e),Xv(e,n,!1);break;case"textarea":ou(e),ty(e);break;case"option":n.value!=null&&e.setAttribute("value",""+qa(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Vi(e,!!n.multiple,o,!1):n.defaultValue!=null&&Vi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=uh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _r(t),null;case 6:if(e&&t.stateNode!=null)P1(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ye(166));if(r=Oo(Vc.current),Oo(vn.current),pu(t)){if(n=t.stateNode,r=t.memoizedProps,n[dn]=t,(o=n.nodeValue!==r)&&(e=os,e!==null))switch(e.tag){case 3:fu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fu(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[dn]=t,t.stateNode=n}return _r(t),null;case 13:if(Ft(Vt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(zt&&as!==null&&t.mode&1&&!(t.flags&128))Yj(),ol(),t.flags|=98560,o=!1;else if(o=pu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(ye(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ye(317));o[dn]=t}else ol(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_r(t),o=!1}else Ls!==null&&(Ag(Ls),Ls=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Vt.current&1?lr===0&&(lr=3):u0())),t.updateQueue!==null&&(t.flags|=4),_r(t),null);case 4:return ll(),Sg(e,t),e===null&&$c(t.stateNode.containerInfo),_r(t),null;case 10:return Kx(t.type._context),_r(t),null;case 17:return Qr(t.type)&&hh(),_r(t),null;case 19:if(Ft(Vt),o=t.memoizedState,o===null)return _r(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)Jl(o,!1);else{if(lr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=yh(e),i!==null){for(t.flags|=128,Jl(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Tt(Vt,Vt.current&1|2),t.child}e=e.sibling}o.tail!==null&&Zt()>dl&&(t.flags|=128,n=!0,Jl(o,!1),t.lanes=4194304)}else{if(!n)if(e=yh(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Jl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!zt)return _r(t),null}else 2*Zt()-o.renderingStartTime>dl&&r!==1073741824&&(t.flags|=128,n=!0,Jl(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Zt(),t.sibling=null,r=Vt.current,Tt(Vt,n?r&1|2:r&1),t):(_r(t),null);case 22:case 23:return d0(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ss&1073741824&&(_r(t),t.subtreeFlags&6&&(t.flags|=8192)):_r(t),null;case 24:return null;case 25:return null}throw Error(ye(156,t.tag))}function eE(e,t){switch(Wx(t),t.tag){case 1:return Qr(t.type)&&hh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ll(),Ft(Zr),Ft(Cr),Xx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Qx(t),null;case 13:if(Ft(Vt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ye(340));ol()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ft(Vt),null;case 4:return ll(),null;case 10:return Kx(t.type._context),null;case 22:case 23:return d0(),null;case 24:return null;default:return null}}var vu=!1,kr=!1,tE=typeof WeakSet=="function"?WeakSet:Set,Me=null;function Li(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Kt(e,t,n)}else r.current=null}function Cg(e,t,r){try{r()}catch(n){Kt(e,t,n)}}var Wy=!1;function rE(e,t){if(dg=lh,e=Aj(),Bx(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,m=e,f=null;t:for(;;){for(var p;m!==r||a!==0&&m.nodeType!==3||(l=i+a),m!==o||n!==0&&m.nodeType!==3||(c=i+n),m.nodeType===3&&(i+=m.nodeValue.length),(p=m.firstChild)!==null;)f=m,m=p;for(;;){if(m===e)break t;if(f===r&&++u===a&&(l=i),f===o&&++d===n&&(c=i),(p=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ug={focusedElem:e,selectionRange:r},lh=!1,Me=t;Me!==null;)if(t=Me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Me=e;else for(;Me!==null;){t=Me;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,b=v.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Rs(t.type,g),b);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ye(163))}}catch(j){Kt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Me=e;break}Me=t.return}return v=Wy,Wy=!1,v}function bc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&Cg(t,r,o)}a=a.next}while(a!==n)}}function vm(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Dg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function T1(e){var t=e.alternate;t!==null&&(e.alternate=null,T1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dn],delete t[Uc],delete t[fg],delete t[FT],delete t[$T])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function E1(e){return e.tag===5||e.tag===3||e.tag===4}function Hy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||E1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=uh));else if(n!==4&&(e=e.child,e!==null))for(Pg(e,t,r),e=e.sibling;e!==null;)Pg(e,t,r),e=e.sibling}function Tg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Tg(e,t,r),e=e.sibling;e!==null;)Tg(e,t,r),e=e.sibling}var fr=null,As=!1;function pa(e,t,r){for(r=r.child;r!==null;)M1(e,t,r),r=r.sibling}function M1(e,t,r){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(dm,r)}catch{}switch(r.tag){case 5:kr||Li(r,t);case 6:var n=fr,a=As;fr=null,pa(e,t,r),fr=n,As=a,fr!==null&&(As?(e=fr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):fr.removeChild(r.stateNode));break;case 18:fr!==null&&(As?(e=fr,r=r.stateNode,e.nodeType===8?Gf(e.parentNode,r):e.nodeType===1&&Gf(e,r),Ic(e)):Gf(fr,r.stateNode));break;case 4:n=fr,a=As,fr=r.stateNode.containerInfo,As=!0,pa(e,t,r),fr=n,As=a;break;case 0:case 11:case 14:case 15:if(!kr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var o=a,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Cg(r,t,i),a=a.next}while(a!==n)}pa(e,t,r);break;case 1:if(!kr&&(Li(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Kt(r,t,l)}pa(e,t,r);break;case 21:pa(e,t,r);break;case 22:r.mode&1?(kr=(n=kr)||r.memoizedState!==null,pa(e,t,r),kr=n):pa(e,t,r);break;default:pa(e,t,r)}}function qy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new tE),t.forEach(function(n){var a=uE.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Ts(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:fr=l.stateNode,As=!1;break e;case 3:fr=l.stateNode.containerInfo,As=!0;break e;case 4:fr=l.stateNode.containerInfo,As=!0;break e}l=l.return}if(fr===null)throw Error(ye(160));M1(o,i,a),fr=null,As=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Kt(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)R1(t,e),t=t.sibling}function R1(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ts(t,e),on(e),n&4){try{bc(3,e,e.return),vm(3,e)}catch(g){Kt(e,e.return,g)}try{bc(5,e,e.return)}catch(g){Kt(e,e.return,g)}}break;case 1:Ts(t,e),on(e),n&512&&r!==null&&Li(r,r.return);break;case 5:if(Ts(t,e),on(e),n&512&&r!==null&&Li(r,r.return),e.flags&32){var a=e.stateNode;try{Mc(a,"")}catch(g){Kt(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&tj(a,o),eg(l,i);var u=eg(l,o);for(i=0;i<c.length;i+=2){var d=c[i],m=c[i+1];d==="style"?oj(a,m):d==="dangerouslySetInnerHTML"?nj(a,m):d==="children"?Mc(a,m):Px(a,d,m,u)}switch(l){case"input":Gp(a,o);break;case"textarea":rj(a,o);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Vi(a,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?Vi(a,!!o.multiple,o.defaultValue,!0):Vi(a,!!o.multiple,o.multiple?[]:"",!1))}a[Uc]=o}catch(g){Kt(e,e.return,g)}}break;case 6:if(Ts(t,e),on(e),n&4){if(e.stateNode===null)throw Error(ye(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(g){Kt(e,e.return,g)}}break;case 3:if(Ts(t,e),on(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ic(t.containerInfo)}catch(g){Kt(e,e.return,g)}break;case 4:Ts(t,e),on(e);break;case 13:Ts(t,e),on(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(l0=Zt())),n&4&&qy(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(kr=(u=kr)||d,Ts(t,e),kr=u):Ts(t,e),on(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Me=e,d=e.child;d!==null;){for(m=Me=d;Me!==null;){switch(f=Me,p=f.child,f.tag){case 0:case 11:case 14:case 15:bc(4,f,f.return);break;case 1:Li(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Kt(n,r,g)}}break;case 5:Li(f,f.return);break;case 22:if(f.memoizedState!==null){Ky(m);continue}}p!==null?(p.return=f,Me=p):Ky(m)}d=d.sibling}e:for(d=null,m=e;;){if(m.tag===5){if(d===null){d=m;try{a=m.stateNode,u?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=m.stateNode,c=m.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=aj("display",i))}catch(g){Kt(e,e.return,g)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(g){Kt(e,e.return,g)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Ts(t,e),on(e),n&4&&qy(e);break;case 21:break;default:Ts(t,e),on(e)}}function on(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(E1(r)){var n=r;break e}r=r.return}throw Error(ye(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Mc(a,""),n.flags&=-33);var o=Hy(e);Tg(e,o,a);break;case 3:case 4:var i=n.stateNode.containerInfo,l=Hy(e);Pg(e,l,i);break;default:throw Error(ye(161))}}catch(c){Kt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sE(e,t,r){Me=e,A1(e)}function A1(e,t,r){for(var n=(e.mode&1)!==0;Me!==null;){var a=Me,o=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||vu;if(!i){var l=a.alternate,c=l!==null&&l.memoizedState!==null||kr;l=vu;var u=kr;if(vu=i,(kr=c)&&!u)for(Me=a;Me!==null;)i=Me,c=i.child,i.tag===22&&i.memoizedState!==null?Gy(a):c!==null?(c.return=i,Me=c):Gy(a);for(;o!==null;)Me=o,A1(o),o=o.sibling;Me=a,vu=l,kr=u}Yy(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,Me=o):Yy(e)}}function Yy(e){for(;Me!==null;){var t=Me;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:kr||vm(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!kr)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Rs(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Ey(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ey(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&Ic(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ye(163))}kr||t.flags&512&&Dg(t)}catch(f){Kt(t,t.return,f)}}if(t===e){Me=null;break}if(r=t.sibling,r!==null){r.return=t.return,Me=r;break}Me=t.return}}function Ky(e){for(;Me!==null;){var t=Me;if(t===e){Me=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Me=r;break}Me=t.return}}function Gy(e){for(;Me!==null;){var t=Me;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{vm(4,t)}catch(c){Kt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Kt(t,a,c)}}var o=t.return;try{Dg(t)}catch(c){Kt(t,o,c)}break;case 5:var i=t.return;try{Dg(t)}catch(c){Kt(t,i,c)}}}catch(c){Kt(t,t.return,c)}if(t===e){Me=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Me=l;break}Me=t.return}}var nE=Math.ceil,jh=Xn.ReactCurrentDispatcher,o0=Xn.ReactCurrentOwner,bs=Xn.ReactCurrentBatchConfig,vt=0,ur=null,tr=null,vr=0,ss=0,Fi=oo(0),lr=0,Yc=null,Wo=0,ym=0,i0=0,jc=null,Hr=null,l0=0,dl=1/0,In=null,Nh=!1,Eg=null,$a=null,yu=!1,Ma=null,_h=0,Nc=0,Mg=null,qu=-1,Yu=0;function Or(){return vt&6?Zt():qu!==-1?qu:qu=Zt()}function za(e){return e.mode&1?vt&2&&vr!==0?vr&-vr:UT.transition!==null?(Yu===0&&(Yu=vj()),Yu):(e=St,e!==0||(e=window.event,e=e===void 0?16:kj(e.type)),e):1}function qs(e,t,r,n){if(50<Nc)throw Nc=0,Mg=null,Error(ye(185));jd(e,r,n),(!(vt&2)||e!==ur)&&(e===ur&&(!(vt&2)&&(ym|=r),lr===4&&Ca(e,vr)),Xr(e,n),r===1&&vt===0&&!(t.mode&1)&&(dl=Zt()+500,pm&&io()))}function Xr(e,t){var r=e.callbackNode;UP(e,t);var n=ih(e,e===ur?vr:0);if(n===0)r!==null&&ny(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ny(r),t===1)e.tag===0?zT(Jy.bind(null,e)):Wj(Jy.bind(null,e)),IT(function(){!(vt&6)&&io()}),r=null;else{switch(yj(n)){case 1:r=Ax;break;case 4:r=gj;break;case 16:r=oh;break;case 536870912:r=xj;break;default:r=oh}r=B1(r,O1.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function O1(e,t){if(qu=-1,Yu=0,vt&6)throw Error(ye(327));var r=e.callbackNode;if(Ki()&&e.callbackNode!==r)return null;var n=ih(e,e===ur?vr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=kh(e,n);else{t=n;var a=vt;vt|=2;var o=L1();(ur!==e||vr!==t)&&(In=null,dl=Zt()+500,Lo(e,t));do try{iE();break}catch(l){I1(e,l)}while(!0);Yx(),jh.current=o,vt=a,tr!==null?t=0:(ur=null,vr=0,t=lr)}if(t!==0){if(t===2&&(a=ag(e),a!==0&&(n=a,t=Rg(e,a))),t===1)throw r=Yc,Lo(e,0),Ca(e,n),Xr(e,Zt()),r;if(t===6)Ca(e,n);else{if(a=e.current.alternate,!(n&30)&&!aE(a)&&(t=kh(e,n),t===2&&(o=ag(e),o!==0&&(n=o,t=Rg(e,o))),t===1))throw r=Yc,Lo(e,0),Ca(e,n),Xr(e,Zt()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ye(345));case 2:So(e,Hr,In);break;case 3:if(Ca(e,n),(n&130023424)===n&&(t=l0+500-Zt(),10<t)){if(ih(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Or(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=mg(So.bind(null,e,Hr,In),t);break}So(e,Hr,In);break;case 4:if(Ca(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-Hs(n);o=1<<i,i=t[i],i>a&&(a=i),n&=~o}if(n=a,n=Zt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*nE(n/1960))-n,10<n){e.timeoutHandle=mg(So.bind(null,e,Hr,In),n);break}So(e,Hr,In);break;case 5:So(e,Hr,In);break;default:throw Error(ye(329))}}}return Xr(e,Zt()),e.callbackNode===r?O1.bind(null,e):null}function Rg(e,t){var r=jc;return e.current.memoizedState.isDehydrated&&(Lo(e,t).flags|=256),e=kh(e,t),e!==2&&(t=Hr,Hr=r,t!==null&&Ag(t)),e}function Ag(e){Hr===null?Hr=e:Hr.push.apply(Hr,e)}function aE(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],o=a.getSnapshot;a=a.value;try{if(!Js(o(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ca(e,t){for(t&=~i0,t&=~ym,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Hs(t),n=1<<r;e[r]=-1,t&=~n}}function Jy(e){if(vt&6)throw Error(ye(327));Ki();var t=ih(e,0);if(!(t&1))return Xr(e,Zt()),null;var r=kh(e,t);if(e.tag!==0&&r===2){var n=ag(e);n!==0&&(t=n,r=Rg(e,n))}if(r===1)throw r=Yc,Lo(e,0),Ca(e,t),Xr(e,Zt()),r;if(r===6)throw Error(ye(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,So(e,Hr,In),Xr(e,Zt()),null}function c0(e,t){var r=vt;vt|=1;try{return e(t)}finally{vt=r,vt===0&&(dl=Zt()+500,pm&&io())}}function Ho(e){Ma!==null&&Ma.tag===0&&!(vt&6)&&Ki();var t=vt;vt|=1;var r=bs.transition,n=St;try{if(bs.transition=null,St=1,e)return e()}finally{St=n,bs.transition=r,vt=t,!(vt&6)&&io()}}function d0(){ss=Fi.current,Ft(Fi)}function Lo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,OT(r)),tr!==null)for(r=tr.return;r!==null;){var n=r;switch(Wx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&hh();break;case 3:ll(),Ft(Zr),Ft(Cr),Xx();break;case 5:Qx(n);break;case 4:ll();break;case 13:Ft(Vt);break;case 19:Ft(Vt);break;case 10:Kx(n.type._context);break;case 22:case 23:d0()}r=r.return}if(ur=e,tr=e=Ua(e.current,null),vr=ss=t,lr=0,Yc=null,i0=ym=Wo=0,Hr=jc=null,Ao!==null){for(t=0;t<Ao.length;t++)if(r=Ao[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=a,n.next=i}r.pending=n}Ao=null}return e}function I1(e,t){do{var r=tr;try{if(Yx(),Vu.current=bh,wh){for(var n=Wt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}wh=!1}if(Vo=0,dr=ir=Wt=null,wc=!1,Wc=0,o0.current=null,r===null||r.return===null){lr=1,Yc=t,tr=null;break}e:{var o=e,i=r.return,l=r,c=t;if(t=vr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Ly(i);if(p!==null){p.flags&=-257,Fy(p,i,l,o,t),p.mode&1&&Iy(o,u,t),t=p,c=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}else{if(!(t&1)){Iy(o,u,t),u0();break e}c=Error(ye(426))}}else if(zt&&l.mode&1){var b=Ly(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Fy(b,i,l,o,t),Hx(cl(c,l));break e}}o=c=cl(c,l),lr!==4&&(lr=2),jc===null?jc=[o]:jc.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=y1(o,c,t);Ty(o,y);break e;case 1:l=c;var x=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&($a===null||!$a.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=w1(o,l,t);Ty(o,j);break e}}o=o.return}while(o!==null)}$1(r)}catch(k){t=k,tr===r&&r!==null&&(tr=r=r.return);continue}break}while(!0)}function L1(){var e=jh.current;return jh.current=bh,e===null?bh:e}function u0(){(lr===0||lr===3||lr===2)&&(lr=4),ur===null||!(Wo&268435455)&&!(ym&268435455)||Ca(ur,vr)}function kh(e,t){var r=vt;vt|=2;var n=L1();(ur!==e||vr!==t)&&(In=null,Lo(e,t));do try{oE();break}catch(a){I1(e,a)}while(!0);if(Yx(),vt=r,jh.current=n,tr!==null)throw Error(ye(261));return ur=null,vr=0,lr}function oE(){for(;tr!==null;)F1(tr)}function iE(){for(;tr!==null&&!MP();)F1(tr)}function F1(e){var t=U1(e.alternate,e,ss);e.memoizedProps=e.pendingProps,t===null?$1(e):tr=t,o0.current=null}function $1(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=eE(r,t),r!==null){r.flags&=32767,tr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{lr=6,tr=null;return}}else if(r=XT(r,t,ss),r!==null){tr=r;return}if(t=t.sibling,t!==null){tr=t;return}tr=t=e}while(t!==null);lr===0&&(lr=5)}function So(e,t,r){var n=St,a=bs.transition;try{bs.transition=null,St=1,lE(e,t,r,n)}finally{bs.transition=a,St=n}return null}function lE(e,t,r,n){do Ki();while(Ma!==null);if(vt&6)throw Error(ye(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ye(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(BP(e,o),e===ur&&(tr=ur=null,vr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||yu||(yu=!0,B1(oh,function(){return Ki(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=bs.transition,bs.transition=null;var i=St;St=1;var l=vt;vt|=4,o0.current=null,rE(e,r),R1(r,e),DT(ug),lh=!!dg,ug=dg=null,e.current=r,sE(r),RP(),vt=l,St=i,bs.transition=o}else e.current=r;if(yu&&(yu=!1,Ma=e,_h=a),o=e.pendingLanes,o===0&&($a=null),IP(r.stateNode),Xr(e,Zt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Nh)throw Nh=!1,e=Eg,Eg=null,e;return _h&1&&e.tag!==0&&Ki(),o=e.pendingLanes,o&1?e===Mg?Nc++:(Nc=0,Mg=e):Nc=0,io(),null}function Ki(){if(Ma!==null){var e=yj(_h),t=bs.transition,r=St;try{if(bs.transition=null,St=16>e?16:e,Ma===null)var n=!1;else{if(e=Ma,Ma=null,_h=0,vt&6)throw Error(ye(331));var a=vt;for(vt|=4,Me=e.current;Me!==null;){var o=Me,i=o.child;if(Me.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Me=u;Me!==null;){var d=Me;switch(d.tag){case 0:case 11:case 15:bc(8,d,o)}var m=d.child;if(m!==null)m.return=d,Me=m;else for(;Me!==null;){d=Me;var f=d.sibling,p=d.return;if(T1(d),d===u){Me=null;break}if(f!==null){f.return=p,Me=f;break}Me=p}}}var v=o.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}Me=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,Me=i;else e:for(;Me!==null;){if(o=Me,o.flags&2048)switch(o.tag){case 0:case 11:case 15:bc(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,Me=y;break e}Me=o.return}}var x=e.current;for(Me=x;Me!==null;){i=Me;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,Me=w;else e:for(i=x;Me!==null;){if(l=Me,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:vm(9,l)}}catch(k){Kt(l,l.return,k)}if(l===i){Me=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Me=j;break e}Me=l.return}}if(vt=a,io(),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(dm,e)}catch{}n=!0}return n}finally{St=r,bs.transition=t}}return!1}function Zy(e,t,r){t=cl(r,t),t=y1(e,t,1),e=Fa(e,t,1),t=Or(),e!==null&&(jd(e,1,t),Xr(e,t))}function Kt(e,t,r){if(e.tag===3)Zy(e,e,r);else for(;t!==null;){if(t.tag===3){Zy(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&($a===null||!$a.has(n))){e=cl(r,e),e=w1(t,e,1),t=Fa(t,e,1),e=Or(),t!==null&&(jd(t,1,e),Xr(t,e));break}}t=t.return}}function cE(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Or(),e.pingedLanes|=e.suspendedLanes&r,ur===e&&(vr&r)===r&&(lr===4||lr===3&&(vr&130023424)===vr&&500>Zt()-l0?Lo(e,0):i0|=r),Xr(e,t)}function z1(e,t){t===0&&(e.mode&1?(t=cu,cu<<=1,!(cu&130023424)&&(cu=4194304)):t=1);var r=Or();e=Kn(e,t),e!==null&&(jd(e,t,r),Xr(e,r))}function dE(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),z1(e,r)}function uE(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ye(314))}n!==null&&n.delete(t),z1(e,r)}var U1;U1=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Zr.current)Gr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Gr=!1,QT(e,t,r);Gr=!!(e.flags&131072)}else Gr=!1,zt&&t.flags&1048576&&Hj(t,ph,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Hu(e,t),e=t.pendingProps;var a=al(t,Cr.current);Yi(t,r),a=t0(null,t,n,e,a,r);var o=r0();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qr(n)?(o=!0,mh(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Jx(t),a.updater=xm,t.stateNode=a,a._reactInternals=t,wg(t,n,e,r),t=Ng(null,t,n,!0,o,r)):(t.tag=0,zt&&o&&Vx(t),Er(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Hu(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=mE(n),e=Rs(n,e),a){case 0:t=jg(null,t,n,e,r);break e;case 1:t=Uy(null,t,n,e,r);break e;case 11:t=$y(null,t,n,e,r);break e;case 14:t=zy(null,t,n,Rs(n.type,e),r);break e}throw Error(ye(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Rs(n,a),jg(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Rs(n,a),Uy(e,t,n,a,r);case 3:e:{if(_1(t),e===null)throw Error(ye(387));n=t.pendingProps,o=t.memoizedState,a=o.element,Zj(e,t),vh(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=cl(Error(ye(423)),t),t=By(e,t,n,r,a);break e}else if(n!==a){a=cl(Error(ye(424)),t),t=By(e,t,n,r,a);break e}else for(as=La(t.stateNode.containerInfo.firstChild),os=t,zt=!0,Ls=null,r=Gj(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ol(),n===a){t=Gn(e,t,r);break e}Er(e,t,n,r)}t=t.child}return t;case 5:return Qj(t),e===null&&xg(t),n=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,hg(n,a)?i=null:o!==null&&hg(n,o)&&(t.flags|=32),N1(e,t),Er(e,t,i,r),t.child;case 6:return e===null&&xg(t),null;case 13:return k1(e,t,r);case 4:return Zx(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=il(t,null,n,r):Er(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Rs(n,a),$y(e,t,n,a,r);case 7:return Er(e,t,t.pendingProps,r),t.child;case 8:return Er(e,t,t.pendingProps.children,r),t.child;case 12:return Er(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Tt(gh,n._currentValue),n._currentValue=i,o!==null)if(Js(o.value,i)){if(o.children===a.children&&!Zr.current){t=Gn(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=Wn(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),vg(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(ye(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),vg(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Er(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Yi(t,r),a=ks(a),n=n(a),t.flags|=1,Er(e,t,n,r),t.child;case 14:return n=t.type,a=Rs(n,t.pendingProps),a=Rs(n.type,a),zy(e,t,n,a,r);case 15:return b1(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Rs(n,a),Hu(e,t),t.tag=1,Qr(n)?(e=!0,mh(t)):e=!1,Yi(t,r),v1(t,n,a),wg(t,n,a,r),Ng(null,t,n,!0,e,r);case 19:return S1(e,t,r);case 22:return j1(e,t,r)}throw Error(ye(156,t.tag))};function B1(e,t){return pj(e,t)}function hE(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vs(e,t,r,n){return new hE(e,t,r,n)}function h0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mE(e){if(typeof e=="function")return h0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ex)return 11;if(e===Mx)return 14}return 2}function Ua(e,t){var r=e.alternate;return r===null?(r=vs(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ku(e,t,r,n,a,o){var i=2;if(n=e,typeof e=="function")h0(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Di:return Fo(r.children,a,o,t);case Tx:i=8,a|=8;break;case Wp:return e=vs(12,r,t,a|2),e.elementType=Wp,e.lanes=o,e;case Hp:return e=vs(13,r,t,a),e.elementType=Hp,e.lanes=o,e;case qp:return e=vs(19,r,t,a),e.elementType=qp,e.lanes=o,e;case Qb:return wm(r,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Jb:i=10;break e;case Zb:i=9;break e;case Ex:i=11;break e;case Mx:i=14;break e;case ja:i=16,n=null;break e}throw Error(ye(130,e==null?e:typeof e,""))}return t=vs(i,r,t,a),t.elementType=e,t.type=n,t.lanes=o,t}function Fo(e,t,r,n){return e=vs(7,e,n,t),e.lanes=r,e}function wm(e,t,r,n){return e=vs(22,e,n,t),e.elementType=Qb,e.lanes=r,e.stateNode={isHidden:!1},e}function sp(e,t,r){return e=vs(6,e,null,t),e.lanes=r,e}function np(e,t,r){return t=vs(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fE(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ff(0),this.expirationTimes=Ff(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ff(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function m0(e,t,r,n,a,o,i,l,c){return e=new fE(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=vs(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jx(o),e}function pE(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ci,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function V1(e){if(!e)return Ya;e=e._reactInternals;e:{if(ei(e)!==e||e.tag!==1)throw Error(ye(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ye(171))}if(e.tag===1){var r=e.type;if(Qr(r))return Vj(e,r,t)}return t}function W1(e,t,r,n,a,o,i,l,c){return e=m0(r,n,!0,e,a,o,i,l,c),e.context=V1(null),r=e.current,n=Or(),a=za(r),o=Wn(n,a),o.callback=t??null,Fa(r,o,a),e.current.lanes=a,jd(e,a,n),Xr(e,n),e}function bm(e,t,r,n){var a=t.current,o=Or(),i=za(a);return r=V1(r),t.context===null?t.context=r:t.pendingContext=r,t=Wn(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Fa(a,t,i),e!==null&&(qs(e,a,i,o),Bu(e,a,i)),i}function Sh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function f0(e,t){Qy(e,t),(e=e.alternate)&&Qy(e,t)}function gE(){return null}var H1=typeof reportError=="function"?reportError:function(e){console.error(e)};function p0(e){this._internalRoot=e}jm.prototype.render=p0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ye(409));bm(e,t,null,null)};jm.prototype.unmount=p0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ho(function(){bm(null,e,null,null)}),t[Yn]=null}};function jm(e){this._internalRoot=e}jm.prototype.unstable_scheduleHydration=function(e){if(e){var t=jj();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Sa.length&&t!==0&&t<Sa[r].priority;r++);Sa.splice(r,0,e),r===0&&_j(e)}};function g0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Nm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xy(){}function xE(e,t,r,n,a){if(a){if(typeof n=="function"){var o=n;n=function(){var u=Sh(i);o.call(u)}}var i=W1(t,n,e,0,null,!1,!1,"",Xy);return e._reactRootContainer=i,e[Yn]=i.current,$c(e.nodeType===8?e.parentNode:e),Ho(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=Sh(c);l.call(u)}}var c=m0(e,0,!1,null,null,!1,!1,"",Xy);return e._reactRootContainer=c,e[Yn]=c.current,$c(e.nodeType===8?e.parentNode:e),Ho(function(){bm(t,c,r,n)}),c}function _m(e,t,r,n,a){var o=r._reactRootContainer;if(o){var i=o;if(typeof a=="function"){var l=a;a=function(){var c=Sh(i);l.call(c)}}bm(t,i,e,a)}else i=xE(r,t,e,a,n);return Sh(i)}wj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=oc(t.pendingLanes);r!==0&&(Ox(t,r|1),Xr(t,Zt()),!(vt&6)&&(dl=Zt()+500,io()))}break;case 13:Ho(function(){var n=Kn(e,1);if(n!==null){var a=Or();qs(n,e,1,a)}}),f0(e,1)}};Ix=function(e){if(e.tag===13){var t=Kn(e,134217728);if(t!==null){var r=Or();qs(t,e,134217728,r)}f0(e,134217728)}};bj=function(e){if(e.tag===13){var t=za(e),r=Kn(e,t);if(r!==null){var n=Or();qs(r,e,t,n)}f0(e,t)}};jj=function(){return St};Nj=function(e,t){var r=St;try{return St=e,t()}finally{St=r}};rg=function(e,t,r){switch(t){case"input":if(Gp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=fm(n);if(!a)throw Error(ye(90));ej(n),Gp(n,a)}}}break;case"textarea":rj(e,r);break;case"select":t=r.value,t!=null&&Vi(e,!!r.multiple,t,!1)}};cj=c0;dj=Ho;var vE={usingClientEntryPoint:!1,Events:[_d,Mi,fm,ij,lj,c0]},Zl={findFiberByHostInstance:Ro,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yE={bundleType:Zl.bundleType,version:Zl.version,rendererPackageName:Zl.rendererPackageName,rendererConfig:Zl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=mj(e),e===null?null:e.stateNode},findFiberByHostInstance:Zl.findFiberByHostInstance||gE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wu.isDisabled&&wu.supportsFiber)try{dm=wu.inject(yE),xn=wu}catch{}}hs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vE;hs.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g0(t))throw Error(ye(200));return pE(e,t,null,r)};hs.createRoot=function(e,t){if(!g0(e))throw Error(ye(299));var r=!1,n="",a=H1;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=m0(e,1,!1,null,null,r,!1,n,a),e[Yn]=t.current,$c(e.nodeType===8?e.parentNode:e),new p0(t)};hs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ye(188)):(e=Object.keys(e).join(","),Error(ye(268,e)));return e=mj(t),e=e===null?null:e.stateNode,e};hs.flushSync=function(e){return Ho(e)};hs.hydrate=function(e,t,r){if(!Nm(t))throw Error(ye(200));return _m(null,e,t,!0,r)};hs.hydrateRoot=function(e,t,r){if(!g0(e))throw Error(ye(405));var n=r!=null&&r.hydratedSources||null,a=!1,o="",i=H1;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=W1(t,null,e,1,r??null,a,!1,o,i),e[Yn]=t.current,$c(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new jm(t)};hs.render=function(e,t,r){if(!Nm(t))throw Error(ye(200));return _m(null,e,t,!1,r)};hs.unmountComponentAtNode=function(e){if(!Nm(e))throw Error(ye(40));return e._reactRootContainer?(Ho(function(){_m(null,null,e,!1,function(){e._reactRootContainer=null,e[Yn]=null})}),!0):!1};hs.unstable_batchedUpdates=c0;hs.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Nm(r))throw Error(ye(200));if(e==null||e._reactInternals===void 0)throw Error(ye(38));return _m(e,t,r,!1,n)};hs.version="18.3.1-next-f1338f8080-20240426";function q1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(q1)}catch(e){console.error(e)}}q1(),qb.exports=hs;var ti=qb.exports;const wE=Rb(ti);var Y1,ew=ti;Y1=ew.createRoot,ew.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kc(){return Kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kc.apply(this,arguments)}var Ra;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ra||(Ra={}));const tw="popstate";function bE(e){e===void 0&&(e={});function t(n,a){let{pathname:o,search:i,hash:l}=n.location;return Og("",{pathname:o,search:i,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Ch(a)}return NE(t,r,null,e)}function Ht(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function K1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jE(){return Math.random().toString(36).substr(2,8)}function rw(e,t){return{usr:e.state,key:e.key,idx:t}}function Og(e,t,r,n){return r===void 0&&(r=null),Kc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Pl(t):t,{state:r,key:t&&t.key||n||jE()})}function Ch(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Pl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function NE(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:o=!1}=n,i=a.history,l=Ra.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(Kc({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function m(){l=Ra.Pop;let b=d(),y=b==null?null:b-u;u=b,c&&c({action:l,location:g.location,delta:y})}function f(b,y){l=Ra.Push;let x=Og(g.location,b,y);u=d()+1;let w=rw(x,u),j=g.createHref(x);try{i.pushState(w,"",j)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(j)}o&&c&&c({action:l,location:g.location,delta:1})}function p(b,y){l=Ra.Replace;let x=Og(g.location,b,y);u=d();let w=rw(x,u),j=g.createHref(x);i.replaceState(w,"",j),o&&c&&c({action:l,location:g.location,delta:0})}function v(b){let y=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof b=="string"?b:Ch(b);return x=x.replace(/ $/,"%20"),Ht(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let g={get action(){return l},get location(){return e(a,i)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(tw,m),c=b,()=>{a.removeEventListener(tw,m),c=null}},createHref(b){return t(a,b)},createURL:v,encodeLocation(b){let y=v(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(b){return i.go(b)}};return g}var sw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(sw||(sw={}));function _E(e,t,r){return r===void 0&&(r="/"),kE(e,t,r,!1)}function kE(e,t,r,n){let a=typeof t=="string"?Pl(t):t,o=ul(a.pathname||"/",r);if(o==null)return null;let i=G1(e);SE(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=LE(o);l=OE(i[c],u,n)}return l}function G1(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(Ht(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Ba([n,c.relativePath]),d=r.concat(c);o.children&&o.children.length>0&&(Ht(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),G1(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:RE(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))a(o,i);else for(let c of J1(o.path))a(o,i,c)}),t}function J1(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let i=J1(n.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),a&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function SE(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:AE(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const CE=/^:[\w-]+$/,DE=3,PE=2,TE=1,EE=10,ME=-2,nw=e=>e==="*";function RE(e,t){let r=e.split("/"),n=r.length;return r.some(nw)&&(n+=ME),t&&(n+=PE),r.filter(a=>!nw(a)).reduce((a,o)=>a+(CE.test(o)?DE:o===""?TE:EE),n)}function AE(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function OE(e,t,r){let{routesMeta:n}=e,a={},o="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",m=Dh({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!m&&u&&r&&!n[n.length-1].route.index&&(m=Dh({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!m)return null;Object.assign(a,m.params),i.push({params:a,pathname:Ba([o,m.pathname]),pathnameBase:UE(Ba([o,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(o=Ba([o,m.pathnameBase]))}return i}function Dh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=IE(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let o=a[0],i=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,m)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let g=l[m]||"";i=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const v=l[m];return p&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function IE(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),K1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function LE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return K1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ul(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function FE(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Pl(e):e;return{pathname:r?r.startsWith("/")?r:$E(r,t):t,search:BE(n),hash:VE(a)}}function $E(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function ap(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zE(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function x0(e,t){let r=zE(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function v0(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Pl(e):(a=Kc({},e),Ht(!a.pathname||!a.pathname.includes("?"),ap("?","pathname","search",a)),Ht(!a.pathname||!a.pathname.includes("#"),ap("#","pathname","hash",a)),Ht(!a.search||!a.search.includes("#"),ap("#","search","hash",a)));let o=e===""||a.pathname==="",i=o?"/":a.pathname,l;if(i==null)l=r;else{let m=t.length-1;if(!n&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),m-=1;a.pathname=f.join("/")}l=m>=0?t[m]:"/"}let c=FE(a,l),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ba=e=>e.join("/").replace(/\/\/+/g,"/"),UE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),BE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,VE=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function WE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Z1=["post","put","patch","delete"];new Set(Z1);const HE=["get",...Z1];new Set(HE);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gc(){return Gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gc.apply(this,arguments)}const km=h.createContext(null),Q1=h.createContext(null),ea=h.createContext(null),Sm=h.createContext(null),Dn=h.createContext({outlet:null,matches:[],isDataRoute:!1}),X1=h.createContext(null);function qE(e,t){let{relative:r}=t===void 0?{}:t;Tl()||Ht(!1);let{basename:n,navigator:a}=h.useContext(ea),{hash:o,pathname:i,search:l}=Cm(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:Ba([n,i])),a.createHref({pathname:c,search:l,hash:o})}function Tl(){return h.useContext(Sm)!=null}function nn(){return Tl()||Ht(!1),h.useContext(Sm).location}function eN(e){h.useContext(ea).static||h.useLayoutEffect(e)}function lo(){let{isDataRoute:e}=h.useContext(Dn);return e?i4():YE()}function YE(){Tl()||Ht(!1);let e=h.useContext(km),{basename:t,future:r,navigator:n}=h.useContext(ea),{matches:a}=h.useContext(Dn),{pathname:o}=nn(),i=JSON.stringify(x0(a,r.v7_relativeSplatPath)),l=h.useRef(!1);return eN(()=>{l.current=!0}),h.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let m=v0(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Ba([t,m.pathname])),(d.replace?n.replace:n.push)(m,d.state,d)},[t,n,i,o,e])}const KE=h.createContext(null);function GE(e){let t=h.useContext(Dn).outlet;return t&&h.createElement(KE.Provider,{value:e},t)}function tN(){let{matches:e}=h.useContext(Dn),t=e[e.length-1];return t?t.params:{}}function Cm(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=h.useContext(ea),{matches:a}=h.useContext(Dn),{pathname:o}=nn(),i=JSON.stringify(x0(a,n.v7_relativeSplatPath));return h.useMemo(()=>v0(e,JSON.parse(i),o,r==="path"),[e,i,o,r])}function JE(e,t){return ZE(e,t)}function ZE(e,t,r,n){Tl()||Ht(!1);let{navigator:a}=h.useContext(ea),{matches:o}=h.useContext(Dn),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=nn(),d;if(t){var m;let b=typeof t=="string"?Pl(t):t;c==="/"||(m=b.pathname)!=null&&m.startsWith(c)||Ht(!1),d=b}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=_E(e,{pathname:p}),g=r4(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Ba([c,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Ba([c,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,r,n);return t&&g?h.createElement(Sm.Provider,{value:{location:Gc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ra.Pop}},g):g}function QE(){let e=o4(),t=WE(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),r?h.createElement("pre",{style:a},r):null,null)}const XE=h.createElement(QE,null);class e4 extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?h.createElement(Dn.Provider,{value:this.props.routeContext},h.createElement(X1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function t4(e){let{routeContext:t,match:r,children:n}=e,a=h.useContext(km);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),h.createElement(Dn.Provider,{value:t},n)}function r4(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=i.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);d>=0||Ht(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let m=i[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=d),m.route.id){let{loaderData:f,errors:p}=r,v=m.route.loader&&f[m.route.id]===void 0&&(!p||p[m.route.id]===void 0);if(m.route.lazy||v){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,m,f)=>{let p,v=!1,g=null,b=null;r&&(p=l&&m.route.id?l[m.route.id]:void 0,g=m.route.errorElement||XE,c&&(u<0&&f===0?(v=!0,b=null):u===f&&(v=!0,b=m.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,f+1)),x=()=>{let w;return p?w=g:v?w=b:m.route.Component?w=h.createElement(m.route.Component,null):m.route.element?w=m.route.element:w=d,h.createElement(t4,{match:m,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:w})};return r&&(m.route.ErrorBoundary||m.route.errorElement||f===0)?h.createElement(e4,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var rN=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(rN||{}),Ph=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ph||{});function s4(e){let t=h.useContext(km);return t||Ht(!1),t}function n4(e){let t=h.useContext(Q1);return t||Ht(!1),t}function a4(e){let t=h.useContext(Dn);return t||Ht(!1),t}function sN(e){let t=a4(),r=t.matches[t.matches.length-1];return r.route.id||Ht(!1),r.route.id}function o4(){var e;let t=h.useContext(X1),r=n4(Ph.UseRouteError),n=sN(Ph.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function i4(){let{router:e}=s4(rN.UseNavigateStable),t=sN(Ph.UseNavigateStable),r=h.useRef(!1);return eN(()=>{r.current=!0}),h.useCallback(function(a,o){o===void 0&&(o={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Gc({fromRouteId:t},o)))},[e,t])}function y0(e){let{to:t,replace:r,state:n,relative:a}=e;Tl()||Ht(!1);let{future:o,static:i}=h.useContext(ea),{matches:l}=h.useContext(Dn),{pathname:c}=nn(),u=lo(),d=v0(t,x0(l,o.v7_relativeSplatPath),c,a==="path"),m=JSON.stringify(d);return h.useEffect(()=>u(JSON.parse(m),{replace:r,state:n,relative:a}),[u,m,a,r,n]),null}function l4(e){return GE(e.context)}function Ut(e){Ht(!1)}function c4(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Ra.Pop,navigator:o,static:i=!1,future:l}=e;Tl()&&Ht(!1);let c=t.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:c,navigator:o,static:i,future:Gc({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof n=="string"&&(n=Pl(n));let{pathname:d="/",search:m="",hash:f="",state:p=null,key:v="default"}=n,g=h.useMemo(()=>{let b=ul(d,c);return b==null?null:{location:{pathname:b,search:m,hash:f,state:p,key:v},navigationType:a}},[c,d,m,f,p,v,a]);return g==null?null:h.createElement(ea.Provider,{value:u},h.createElement(Sm.Provider,{children:r,value:g}))}function nN(e){let{children:t,location:r}=e;return JE(Ig(t),r)}new Promise(()=>{});function Ig(e,t){t===void 0&&(t=[]);let r=[];return h.Children.forEach(e,(n,a)=>{if(!h.isValidElement(n))return;let o=[...t,a];if(n.type===h.Fragment){r.push.apply(r,Ig(n.props.children,o));return}n.type!==Ut&&Ht(!1),!n.props.index||!n.props.children||Ht(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Ig(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Th(){return Th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Th.apply(this,arguments)}function aN(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function d4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function u4(e,t){return e.button===0&&(!t||t==="_self")&&!d4(e)}const h4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m4=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],f4="6";try{window.__reactRouterVersion=f4}catch{}const p4=h.createContext({isTransitioning:!1}),g4="startTransition",aw=Wb[g4];function x4(e){let{basename:t,children:r,future:n,window:a}=e,o=h.useRef();o.current==null&&(o.current=bE({window:a,v5Compat:!0}));let i=o.current,[l,c]=h.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=h.useCallback(m=>{u&&aw?aw(()=>c(m)):c(m)},[c,u]);return h.useLayoutEffect(()=>i.listen(d),[i,d]),h.createElement(c4,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const v4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",y4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bs=h.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:o,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:m}=t,f=aN(t,h4),{basename:p}=h.useContext(ea),v,g=!1;if(typeof u=="string"&&y4.test(u)&&(v=u,v4))try{let w=new URL(window.location.href),j=u.startsWith("//")?new URL(w.protocol+u):new URL(u),k=ul(j.pathname,p);j.origin===w.origin&&k!=null?u=k+j.search+j.hash:g=!0}catch{}let b=qE(u,{relative:a}),y=b4(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:m});function x(w){n&&n(w),w.defaultPrevented||y(w)}return h.createElement("a",Th({},f,{href:v||b,onClick:g||o?n:x,ref:r,target:c}))}),Gi=h.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:o="",end:i=!1,style:l,to:c,viewTransition:u,children:d}=t,m=aN(t,m4),f=Cm(c,{relative:m.relative}),p=nn(),v=h.useContext(Q1),{navigator:g,basename:b}=h.useContext(ea),y=v!=null&&j4(f)&&u===!0,x=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,w=p.pathname,j=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;a||(w=w.toLowerCase(),j=j?j.toLowerCase():null,x=x.toLowerCase()),j&&b&&(j=ul(j,b)||j);const k=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let A=w===x||!i&&w.startsWith(x)&&w.charAt(k)==="/",C=j!=null&&(j===x||!i&&j.startsWith(x)&&j.charAt(x.length)==="/"),T={isActive:A,isPending:C,isTransitioning:y},B=A?n:void 0,$;typeof o=="function"?$=o(T):$=[o,A?"active":null,C?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let W=typeof l=="function"?l(T):l;return h.createElement(Bs,Th({},m,{"aria-current":B,className:$,ref:r,style:W,to:c,viewTransition:u}),typeof d=="function"?d(T):d)});var Lg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Lg||(Lg={}));var ow;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ow||(ow={}));function w4(e){let t=h.useContext(km);return t||Ht(!1),t}function b4(e,t){let{target:r,replace:n,state:a,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,c=lo(),u=nn(),d=Cm(e,{relative:i});return h.useCallback(m=>{if(u4(m,r)){m.preventDefault();let f=n!==void 0?n:Ch(u)===Ch(d);c(e,{replace:f,state:a,preventScrollReset:o,relative:i,viewTransition:l})}},[u,c,d,n,a,r,e,o,i,l])}function j4(e,t){t===void 0&&(t={});let r=h.useContext(p4);r==null&&Ht(!1);let{basename:n}=w4(Lg.useViewTransitionState),a=Cm(e,{relative:t.relative});if(!r.isTransitioning)return!1;let o=ul(r.currentLocation.pathname,n)||r.currentLocation.pathname,i=ul(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Dh(a.pathname,i)!=null||Dh(a.pathname,o)!=null}const N4={theme:"system",setTheme:()=>null},oN=h.createContext(N4);function _4({children:e,defaultTheme:t="system",storageKey:r="vite-ui-theme",...n}){const[a,o]=h.useState(()=>localStorage.getItem(r)||t);h.useEffect(()=>{const l=window.document.documentElement;if(l.classList.remove("light","dark"),a==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";l.classList.add(c)}else l.classList.add(a)},[a]),h.useEffect(()=>{const l=window.matchMedia("(prefers-color-scheme: dark)"),c=()=>{if(a==="system"){const u=window.document.documentElement;u.classList.remove("light","dark"),u.classList.add(l.matches?"dark":"light")}};return l.addEventListener("change",c),()=>l.removeEventListener("change",c)},[a]);const i={theme:a,setTheme:l=>{localStorage.setItem(r,l),o(l)}};return s.jsx(oN.Provider,{...n,value:i,children:e})}const k4=()=>{const e=h.useContext(oN);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e};var Gu=(e=>(e.SALES="sales",e.DEVELOPMENT="development",e.MANUFACTURING="manufacturing",e.QUALITY="quality",e.FINANCE="finance",e.ADMINISTRATION="administration",e.MANAGEMENT="management",e.ENGINEERING="engineering",e.RND="rnd",e.PRODUCTION="production",e.QA="qa",e))(Gu||{});const S4="modulepreload",C4=function(e){return"/"+e},iw={},hl=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=C4(c),c in iw)return;iw[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const m=document.createElement("link");if(m.rel=u?"stylesheet":S4,u||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),u)return new Promise((f,p)=>{m.addEventListener("load",f),m.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return a.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},D4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>hl(async()=>{const{default:n}=await Promise.resolve().then(()=>El);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class w0 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class P4 extends w0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class T4 extends w0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class E4 extends w0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Fg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Fg||(Fg={}));var M4=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(m){i(m)}}function c(d){try{u(n.throw(d))}catch(m){i(m)}}function u(d){d.done?o(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class R4{constructor(t,{headers:r={},customFetch:n,region:a=Fg.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=D4(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return M4(this,void 0,void 0,function*(){try{const{headers:a,method:o,body:i}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;i&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(l["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(l["Content-Type"]="application/json",u=JSON.stringify(i)));const d=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(v=>{throw new P4(v)}),m=d.headers.get("x-relay-error");if(m&&m==="true")throw new T4(d);if(!d.ok)throw new E4(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield d.json():f==="application/octet-stream"?p=yield d.blob():f==="text/event-stream"?p=d:f==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(a){return{data:null,error:a}}})}}var qr={},b0={},Dm={},Sd={},Pm={},Tm={},A4=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ml=A4();const O4=ml.fetch,iN=ml.fetch.bind(ml),lN=ml.Headers,I4=ml.Request,L4=ml.Response,El=Object.freeze(Object.defineProperty({__proto__:null,Headers:lN,Request:I4,Response:L4,default:iN,fetch:O4},Symbol.toStringTag,{value:"Module"})),F4=KD(El);var Em={};Object.defineProperty(Em,"__esModule",{value:!0});let $4=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Em.default=$4;var cN=_s&&_s.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tm,"__esModule",{value:!0});const z4=cN(F4),U4=cN(Em);let B4=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=z4.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c;let u=null,d=null,m=null,f=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){const y=await o.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const g=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),b=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");g&&b&&b.length>1&&(m=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,m=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await o.text();try{u=JSON.parse(g),Array.isArray(u)&&o.status===404&&(d=[],u=null,f=200,p="OK")}catch{o.status===404&&g===""?(f=204,p="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new U4.default(u)}return{error:u,data:d,count:m,status:f,statusText:p}});return this.shouldThrowOnError||(a=a.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}};Tm.default=B4;var V4=_s&&_s.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pm,"__esModule",{value:!0});const W4=V4(Tm);let H4=class extends W4.default{select(t){let r=!1;const n=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:o=a}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:a=n}={}){const o=typeof a>"u"?"offset":`${a}.offset`,i=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:o=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Pm.default=H4;var q4=_s&&_s.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sd,"__esModule",{value:!0});const Y4=q4(Pm);let K4=class extends Y4.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:a}={}){let o="";a==="plain"?o="pl":a==="phrase"?o="ph":a==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Sd.default=K4;var G4=_s&&_s.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dm,"__esModule",{value:!0});const Ql=G4(Sd);let J4=class{constructor(t,{headers:r={},schema:n,fetch:a}){this.url=t,this.headers=r,this.schema=n,this.fetch=a}select(t,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new Ql.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const a="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ql.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:o=!0}={}){const i="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ql.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new Ql.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Ql.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Dm.default=J4;var Mm={},Rm={};Object.defineProperty(Rm,"__esModule",{value:!0});Rm.version=void 0;Rm.version="0.0.0-automated";Object.defineProperty(Mm,"__esModule",{value:!0});Mm.DEFAULT_HEADERS=void 0;const Z4=Rm;Mm.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Z4.version}`};var dN=_s&&_s.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(b0,"__esModule",{value:!0});const Q4=dN(Dm),X4=dN(Sd),e5=Mm;let t5=class uN{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},e5.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(t){const r=new URL(`${this.url}/${t}`);return new Q4.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new uN(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:o}={}){let i;const l=new URL(`${this.url}/rpc/${t}`);let c;n||a?(i=n?"HEAD":"GET",Object.entries(r).filter(([d,m])=>m!==void 0).map(([d,m])=>[d,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([d,m])=>{l.searchParams.append(d,m)})):(i="POST",c=r);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new X4.default({method:i,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};b0.default=t5;var Ml=_s&&_s.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qr,"__esModule",{value:!0});qr.PostgrestError=qr.PostgrestBuilder=qr.PostgrestTransformBuilder=qr.PostgrestFilterBuilder=qr.PostgrestQueryBuilder=qr.PostgrestClient=void 0;const hN=Ml(b0);qr.PostgrestClient=hN.default;const mN=Ml(Dm);qr.PostgrestQueryBuilder=mN.default;const fN=Ml(Sd);qr.PostgrestFilterBuilder=fN.default;const pN=Ml(Pm);qr.PostgrestTransformBuilder=pN.default;const gN=Ml(Tm);qr.PostgrestBuilder=gN.default;const xN=Ml(Em);qr.PostgrestError=xN.default;var r5=qr.default={PostgrestClient:hN.default,PostgrestQueryBuilder:mN.default,PostgrestFilterBuilder:fN.default,PostgrestTransformBuilder:pN.default,PostgrestBuilder:gN.default,PostgrestError:xN.default};const{PostgrestClient:s5,PostgrestQueryBuilder:UB,PostgrestFilterBuilder:BB,PostgrestTransformBuilder:VB,PostgrestBuilder:WB,PostgrestError:HB}=r5,n5="2.11.2",a5={"X-Client-Info":`realtime-js/${n5}`},o5="1.0.0",vN=1e4,i5=1e3;var Ji;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ji||(Ji={}));var rs;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(rs||(rs={}));var Os;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Os||(Os={}));var $g;(function(e){e.websocket="websocket"})($g||($g={}));var Eo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Eo||(Eo={}));class l5{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+a));i=i+a;const c=n.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class yN{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Pt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Pt||(Pt={}));const lw=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,i)=>(o[i]=c5(i,e,t,a),o),{})},c5=(e,t,r,n)=>{const a=t.find(l=>l.name===e),o=a==null?void 0:a.type,i=r[e];return o&&!n.includes(o)?wN(o,i):zg(i)},wN=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return m5(t,r)}switch(e){case Pt.bool:return d5(t);case Pt.float4:case Pt.float8:case Pt.int2:case Pt.int4:case Pt.int8:case Pt.numeric:case Pt.oid:return u5(t);case Pt.json:case Pt.jsonb:return h5(t);case Pt.timestamp:return f5(t);case Pt.abstime:case Pt.date:case Pt.daterange:case Pt.int4range:case Pt.int8range:case Pt.money:case Pt.reltime:case Pt.text:case Pt.time:case Pt.timestamptz:case Pt.timetz:case Pt.tsrange:case Pt.tstzrange:return zg(t);default:return zg(t)}},zg=e=>e,d5=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},u5=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},h5=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},m5=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>wN(t,l))}return e},f5=e=>typeof e=="string"?e.replace(" ","T"):e,bN=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class op{constructor(t,r,n={},a=vN){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var cw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(cw||(cw={}));class _c{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_c.syncState(this.state,a,o,i),this.pendingDiffs.forEach(c=>{this.state=_c.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=_c.syncDiff(this.state,a,o,i),l())}),this.onJoin((a,o,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:i})}),this.onLeave((a,o,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const o=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const m=o[u];if(m){const f=d.map(b=>b.presence_ref),p=m.map(b=>b.presence_ref),v=d.filter(b=>p.indexOf(b.presence_ref)<0),g=m.filter(b=>f.indexOf(b.presence_ref)<0);v.length>0&&(l[u]=v),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const m=t[l].map(p=>p.presence_ref),f=d.filter(p=>m.indexOf(p.presence_ref)<0);t[l].unshift(...f)}n(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(m=>m.presence_ref);u=u.filter(m=>d.indexOf(m.presence_ref)<0),t[l]=u,a(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var dw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(dw||(dw={}));var uw;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(uw||(uw={}));var Ln;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ln||(Ln={}));class j0{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=rs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new op(this,Os.join,this.params,this.timeout),this.rejoinTimer=new yN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rs.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=rs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Os.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new _c(this),this.broadcastEndpointURL=bN(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Ln.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Ln.CLOSED));const c={},u={broadcast:o,presence:i,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var m;if(this.socket.setAuth(),d===void 0){t==null||t(Ln.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(m=f==null?void 0:f.length)!==null&&m!==void 0?m:0,v=[];for(let g=0;g<p;g++){const b=f[g],{filter:{event:y,schema:x,table:w,filter:j}}=b,k=d&&d[g];if(k&&k.event===y&&k.schema===x&&k.table===w&&k.filter===j)v.push(Object.assign(Object.assign({},b),{id:k.id}));else{this.unsubscribe(),t==null||t(Ln.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Ln.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Ln.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ln.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=rs.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Os.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const a=new op(this,Os.leave,{},t);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const a=new AbortController,o=setTimeout(()=>a.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new op(this,t,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Os;if(n&&[l,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let f=this._onMessage(i,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var v,g,b;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(g=p.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(p=>p.callback(f,n)):(o=this.bindings[i])===null||o===void 0||o.filter(p=>{var v,g,b,y,x,w;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const j=p.id,k=(v=p.filter)===null||v===void 0?void 0:v.event;return j&&((g=r.ids)===null||g===void 0?void 0:g.includes(j))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const j=(x=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return j==="*"||j===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:g,table:b,commit_timestamp:y,type:x,errors:w}=v;f=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:y,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(v))}p.callback(f,n)})}_isClosed(){return this.state===rs.closed}_isJoined(){return this.state===rs.joined}_isJoining(){return this.state===rs.joining}_isLeaving(){return this.state===rs.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),o={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&j0.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Os.close,{},t)}_onError(t){this._on(Os.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rs.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=lw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=lw(t.columns,t.old_record)),r}}const p5=()=>{},g5=typeof WebSocket<"u",x5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class v5{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=a5,this.params={},this.timeout=vN,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=p5,this.conn=null,this.sendBuffer=[],this.serializer=new l5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...l)=>hl(async()=>{const{default:c}=await Promise.resolve().then(()=>El);return{default:c}},void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${t}/${$g.websocket}`,this.httpEndpoint=bN(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,i)=>i(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new yN(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(g5){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new y5(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),hl(async()=>{const{default:t}=await import("./browser-B3TJCoHp.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:o5}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ji.connecting:return Eo.Connecting;case Ji.open:return Eo.Open;case Ji.closing:return Eo.Closing;default:return Eo.Closed}}isConnected(){return this.connectionState()===Eo.Open}channel(t,r={config:{}}){const n=new j0(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:a,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${o})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(a=>{r&&a.updateJoinPayload({access_token:r}),a.joinedOnce&&a._isJoined()&&a._push(Os.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(i5,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:a,payload:o,ref:i}=r;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${a} ${i&&"("+i+")"||""}`,o),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(a,o,i)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Os.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([x5],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class y5{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ji.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class N0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function cr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class w5 extends N0{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ug extends N0{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var b5=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(m){i(m)}}function c(d){try{u(n.throw(d))}catch(m){i(m)}}function u(d){d.done?o(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const jN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>hl(async()=>{const{default:n}=await Promise.resolve().then(()=>El);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},j5=()=>b5(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield hl(()=>Promise.resolve().then(()=>El),void 0)).Response:Response}),Bg=e=>{if(Array.isArray(e))return e.map(r=>Bg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[a]=Bg(n)}),t};var ri=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(m){i(m)}}function c(d){try{u(n.throw(d))}catch(m){i(m)}}function u(d){d.done?o(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const ip=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),N5=(e,t,r)=>ri(void 0,void 0,void 0,function*(){const n=yield j5();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new w5(ip(a),e.status||500))}).catch(a=>{t(new Ug(ip(a),a))}):t(new Ug(ip(e),e))}),_5=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function Cd(e,t,r,n,a,o){return ri(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,_5(t,n,a,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>N5(c,l,n))})})}function Eh(e,t,r,n){return ri(this,void 0,void 0,function*(){return Cd(e,"GET",t,r,n)})}function _a(e,t,r,n,a){return ri(this,void 0,void 0,function*(){return Cd(e,"POST",t,n,a,r)})}function k5(e,t,r,n,a){return ri(this,void 0,void 0,function*(){return Cd(e,"PUT",t,n,a,r)})}function S5(e,t,r,n){return ri(this,void 0,void 0,function*(){return Cd(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function NN(e,t,r,n,a){return ri(this,void 0,void 0,function*(){return Cd(e,"DELETE",t,n,a,r)})}var Ur=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(m){i(m)}}function c(d){try{u(n.throw(d))}catch(m){i(m)}}function u(d){d.done?o(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const C5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class D5{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=jN(a)}uploadOrUpdate(t,r,n,a){return Ur(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},hw),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),m=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:o,headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{})),f=yield m.json();return m.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(o){if(cr(o))return{data:null,error:o};throw o}})}upload(t,r,n){return Ur(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Ur(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:hw.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const m=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),f=yield m.json();return m.ok?{data:{path:o,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(cr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ur(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const o=yield _a(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new N0("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(cr(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ur(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ur(this,void 0,void 0,function*(){try{return{data:yield _a(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(cr(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Ur(this,void 0,void 0,function*(){try{return{data:{path:(yield _a(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(cr(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Ur(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),o=yield _a(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(a){if(cr(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Ur(this,void 0,void 0,function*(){try{const a=yield _a(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(a){if(cr(a))return{data:null,error:a};throw a}})}download(t,r){return Ur(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Eh(this.fetch,`${this.url}/${a}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(cr(l))return{data:null,error:l};throw l}})}info(t){return Ur(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Eh(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Bg(n),error:null}}catch(n){if(cr(n))return{data:null,error:n};throw n}})}exists(t){return Ur(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield S5(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(cr(n)&&n instanceof Ug){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&a.push(o);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Ur(this,void 0,void 0,function*(){try{return{data:yield NN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(cr(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ur(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},C5),r),{prefix:t||""});return{data:yield _a(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(cr(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const P5="2.7.1",T5={"X-Client-Info":`storage-js/${P5}`};var pi=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(m){i(m)}}function c(d){try{u(n.throw(d))}catch(m){i(m)}}function u(d){d.done?o(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class E5{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},T5),r),this.fetch=jN(n)}listBuckets(){return pi(this,void 0,void 0,function*(){try{return{data:yield Eh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(cr(t))return{data:null,error:t};throw t}})}getBucket(t){return pi(this,void 0,void 0,function*(){try{return{data:yield Eh(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(cr(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return pi(this,void 0,void 0,function*(){try{return{data:yield _a(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(cr(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return pi(this,void 0,void 0,function*(){try{return{data:yield k5(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(cr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return pi(this,void 0,void 0,function*(){try{return{data:yield _a(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(cr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return pi(this,void 0,void 0,function*(){try{return{data:yield NN(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(cr(r))return{data:null,error:r};throw r}})}}class M5 extends E5{constructor(t,r={},n){super(t,r,n)}from(t){return new D5(this.url,this.headers,t,this.fetch)}}const R5="2.49.8";let lc="";typeof Deno<"u"?lc="deno":typeof document<"u"?lc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?lc="react-native":lc="node";const A5={"X-Client-Info":`supabase-js-${lc}/${R5}`},O5={headers:A5},I5={schema:"public"},L5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},F5={};var $5=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(m){i(m)}}function c(d){try{u(n.throw(d))}catch(m){i(m)}}function u(d){d.done?o(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const z5=e=>{let t;return e?t=e:typeof fetch>"u"?t=iN:t=fetch,(...r)=>t(...r)},U5=()=>typeof Headers>"u"?lN:Headers,B5=(e,t,r)=>{const n=z5(r),a=U5();return(o,i)=>$5(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new a(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},i),{headers:u}))})};var V5=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(m){i(m)}}function c(d){try{u(n.throw(d))}catch(m){i(m)}}function u(d){d.done?o(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function W5(e){return e.endsWith("/")?e:e+"/"}function H5(e,t){var r,n;const{db:a,auth:o,realtime:i,global:l}=e,{db:c,auth:u,realtime:d,global:m}=t,f={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),i),global:Object.assign(Object.assign(Object.assign({},m),l),{headers:Object.assign(Object.assign({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>V5(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const _N="2.69.1",_i=30*1e3,Vg=3,lp=Vg*_i,q5="http://localhost:9999",Y5="supabase.auth.token",K5={"X-Client-Info":`gotrue-js/${_N}`},Wg="X-Supabase-Api-Version",kN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},G5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,J5=6e5;class _0 extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function at(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Z5 extends _0{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Q5(e){return at(e)&&e.name==="AuthApiError"}class SN extends _0{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class co extends _0{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class ya extends co{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function X5(e){return at(e)&&e.name==="AuthSessionMissingError"}class cp extends co{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bu extends co{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ju extends co{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function eM(e){return at(e)&&e.name==="AuthImplicitGrantRedirectError"}class mw extends co{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hg extends co{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function dp(e){return at(e)&&e.name==="AuthRetryableFetchError"}class fw extends co{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class kc extends co{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const pw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),gw=` 	
\r=`.split(""),tM=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<gw.length;t+=1)e[gw[t].charCodeAt(0)]=-2;for(let t=0;t<pw.length;t+=1)e[pw[t].charCodeAt(0)]=t;return e})();function CN(e,t,r){const n=tM[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function xw(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=i=>{nM(i,n,r)};for(let i=0;i<e.length;i+=1)CN(e.charCodeAt(i),a,o);return t.join("")}function rM(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function sM(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}rM(n,t)}}function nM(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function aM(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)CN(e.charCodeAt(a),r,n);return new Uint8Array(t)}function oM(e){const t=[];return sM(e,r=>t.push(r)),new Uint8Array(t)}function iM(e){return Math.round(Date.now()/1e3)+e}function lM(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ln=()=>typeof window<"u"&&typeof document<"u",_o={tested:!1,writable:!1},Sc=()=>{if(!ln())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_o.tested)return _o.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),_o.tested=!0,_o.writable=!0}catch{_o.tested=!0,_o.writable=!1}return _o.writable};function cM(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,o)=>{t[o]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const DN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>hl(async()=>{const{default:n}=await Promise.resolve().then(()=>El);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},dM=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",PN=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Nu=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},_u=async(e,t)=>{await e.removeItem(t)};class Am{constructor(){this.promise=new Am.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Am.promiseConstructor=Promise;function up(e){const t=e.split(".");if(t.length!==3)throw new kc("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!G5.test(t[n]))throw new kc("JWT not in base64url format");return{header:JSON.parse(xw(t[0])),payload:JSON.parse(xw(t[1])),signature:aM(t[2]),raw:{header:t[0],payload:t[1]}}}async function uM(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function hM(e,t){return new Promise((n,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){a(i);return}}})()})}function mM(e){return("0"+e.toString(16)).substr(-2)}function fM(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let o=0;o<56;o++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,mM).join("")}async function pM(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function gM(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await pM(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gi(e,t,r=!1){const n=fM();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await PN(e,`${t}-code-verifier`,a);const o=await gM(n);return[o,n===o?"plain":"s256"]}const xM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vM(e){const t=e.headers.get(Wg);if(!t||!t.match(xM))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function yM(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function wM(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var bM=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Co=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),jM=[502,503,504];async function vw(e){var t;if(!dM(e))throw new Hg(Co(e),0);if(jM.includes(e.status))throw new Hg(Co(e),e.status);let r;try{r=await e.json()}catch(o){throw new SN(Co(o),o)}let n;const a=vM(e);if(a&&a.getTime()>=kN["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new fw(Co(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ya}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new fw(Co(r),e.status,r.weak_password.reasons);throw new Z5(Co(r),e.status||500,n)}const NM=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function mt(e,t,r,n){var a;const o=Object.assign({},n==null?void 0:n.headers);o[Wg]||(o[Wg]=kN["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await _M(e,t,r+l,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function _M(e,t,r,n,a,o){const i=NM(t,n,a,o);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new Hg(Co(c),0)}if(l.ok||await vw(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await vw(c)}}function wa(e){var t;let r=null;DM(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=iM(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function yw(e){const t=wa(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Da(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function kM(e){return{data:e,error:null}}function SM(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:o}=e,i=bM(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function CM(e){return e}function DM(e){return e.access_token&&e.refresh_token&&e.expires_in}var PM=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class TM{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=DN(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await mt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(at(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await mt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Da})}catch(n){if(at(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=PM(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await mt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:SM,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(at(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await mt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Da})}catch(r){if(at(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await mt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:CM});if(d.error)throw d.error;const m=await d.json(),f=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(at(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await mt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Da})}catch(r){if(at(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await mt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Da})}catch(n){if(at(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await mt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Da})}catch(n){if(at(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await mt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(at(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await mt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(at(r))return{data:null,error:r};throw r}}}const EM={getItem:e=>Sc()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Sc()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Sc()&&globalThis.localStorage.removeItem(e)}};function ww(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function MM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const xi={debug:!!(globalThis&&Sc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class TN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class RM extends TN{}async function AM(e,t,r){xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),xi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new RM(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(xi.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}MM();const OM={url:q5,storageKey:Y5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:K5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function bw(e,t,r){return await r()}class Jc{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Jc.nextInstanceID,Jc.nextInstanceID+=1,this.instanceID>0&&ln()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},OM),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new TM({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=DN(a.fetch),this.lock=a.lock||bw,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:ln()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=AM:this.lock=bw,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:Sc()?this.storage=EM:(this.memoryStorage={},this.storage=ww(this.memoryStorage)):(this.memoryStorage={},this.storage=ww(this.memoryStorage)),ln()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${_N}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=cM(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ln()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),eM(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return at(r)?{error:r}:{error:new SN("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const o=await mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:wa}),{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(at(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,a;try{let o;if("email"in t){const{email:d,password:m,options:f}=t;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await gi(this.storage,this.storageKey)),o=await mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:m,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:v},xform:wa})}else if("phone"in t){const{phone:d,password:m,options:f}=t;o=await mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:m,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(a=f==null?void 0:f.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:wa})}else throw new bu("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(at(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:l}=t;r=await mt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:yw})}else if("phone"in t){const{phone:o,password:i,options:l}=t;r=await mt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:yw})}else throw new bu("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new cp}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(at(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Nu(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:o,error:i}=await mt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:wa});if(await _u(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new cp}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:i})}catch(o){if(at(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:o,nonce:i}=t,l=await mt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:wa}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new cp}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(at(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,o,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await gi(this.storage,this.storageKey));const{error:m}=await mt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await mt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new bu("You must provide either an email or phone number.")}catch(l){if(at(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,o;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await mt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:wa});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(at(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await gi(this.storage,this.storageKey)),await mt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:kM})}catch(o){if(at(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ya;const{error:a}=await mt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(at(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:o}=t,{error:i}=await mt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:a,options:o}=t,{data:i,error:l}=await mt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new bu("You must provide either an email or phone number and a type")}catch(r){if(at(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Nu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<lp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await mt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Da}):await this._useSession(async r=>{var n,a,o;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ya}:await mt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:Da})})}catch(r){if(at(r))return X5(r)&&(await this._removeSession(),await _u(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:o}=n;if(o)throw o;if(!a.session)throw new ya;const i=a.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await gi(this.storage,this.storageKey));const{data:u,error:d}=await mt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Da});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(at(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ya;const r=Date.now()/1e3;let n=r,a=!0,o=null;const{payload:i}=up(t.access_token);if(i.exp&&(n=i.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(at(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ya;const{session:a,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(at(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!ln())throw new ju("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ju(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new mw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ju("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new mw("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!i||!u)throw new ju("No session defined in URL");const d=Math.round(Date.now()/1e3),m=parseInt(l);let f=d+m;c&&(f=parseInt(c));const p=f-d;p*1e3<=_i&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${m}s`);const v=f-m;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:g,error:b}=await this._getUser(o);if(b)throw b;const y={provider_token:n,provider_refresh_token:a,access_token:o,expires_in:m,expires_at:f,refresh_token:i,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(at(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Nu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:o}=r;if(o)return{error:o};const i=(n=a.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(Q5(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await _u(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=lM(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await gi(this.storage,this.storageKey,!0));try{return await mt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(at(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(at(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async o=>{var i,l,c,u,d;const{data:m,error:f}=o;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await mt(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return ln()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(at(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:o,error:i}=r;if(i)throw i;return await mt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(at(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await hM(async a=>(a>0&&await uM(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await mt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:wa})),(a,o)=>{const i=200*Math.pow(2,a);return o&&dp(o)&&Date.now()+i-n<_i})}catch(n){if(this._debug(r,"error",n),at(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ln()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Nu(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<lp;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${lp}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),dp(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ya;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Am;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new ya;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(a,"error",o),at(o)){const i={session:null,error:o};return dp(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await PN(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await _u(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ln()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),_i);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/_i);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${_i}ms, refresh threshold is ${Vg} ticks`),a<=Vg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof TN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ln()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await gi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);a.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;return o?{data:null,error:o}:await mt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(at(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:o,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await mt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(at(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:l}=await mt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(r){if(at(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;return o?{data:null,error:o}:await mt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(at(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:a,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:o}=t;if(o)return{data:null,error:o};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=up(a.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(i=>i.kid===t);if(n||(n=this.jwks.keys.find(i=>i.kid===t),n&&this.jwks_cached_at+J5>Date.now()))return n;const{data:a,error:o}=await mt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!a.keys||a.keys.length===0)throw new kc("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(i=>i.kid===t),!n)throw new kc("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:p,error:v}=await this.getSession();if(v||!p.session)return{data:null,error:v};n=p.session.access_token}const{header:a,payload:o,signature:i,raw:{header:l,payload:c}}=up(n);if(yM(o.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:o,header:a,signature:i},error:null}}const u=wM(a.alg),d=await this.fetchJwk(a.kid,r),m=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,m,i,oM(`${l}.${c}`)))throw new kc("Invalid JWT signature");return{data:{claims:o,header:a,signature:i},error:null}}catch(n){if(at(n))return{data:null,error:n};throw n}}}Jc.nextInstanceID=0;const IM=Jc;class LM extends IM{constructor(t){super(t)}}var FM=function(e,t,r,n){function a(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(m){i(m)}}function c(d){try{u(n.throw(d))}catch(m){i(m)}}function u(d){d.done?o(d.value):a(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class $M{constructor(t,r,n){var a,o,i;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=W5(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:I5,realtime:F5,auth:Object.assign(Object.assign({},L5),{storageKey:u}),global:O5},m=H5(n??{},d);this.storageKey=(a=m.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=m.global.headers)!==null&&o!==void 0?o:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=m.auth)!==null&&i!==void 0?i:{},this.headers,m.global.fetch),this.fetch=B5(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new s5(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),m.accessToken||this._listenForAuthEvents()}get functions(){return new R4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new M5(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return FM(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:o,flowType:i,lock:l,debug:c},u,d){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new LM({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:i,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new v5(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const zM=(e,t,r)=>new $M(e,t,r),UM="https://ojqhiqkxdskbjnhzpemt.supabase.co",BM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9qcWhpcWt4ZHNrYmpuaHpwZW10Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc3MzY3MDcsImV4cCI6MjA2MzMxMjcwN30.7DWuGn_Nn_m2w88p4wDnv1z8_LZrhKR4CGJEDOj-Ong",re=zM(UM,BM);function gt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ds(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Mr(e,t){const r=gt(e);return isNaN(t)?ds(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Zs(e,t){const r=gt(e);if(isNaN(t))return ds(e,NaN);if(!t)return r;const n=r.getDate(),a=ds(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const o=a.getDate();return n>=o?a:(r.setFullYear(a.getFullYear(),a.getMonth(),n),r)}const k0=6048e5,VM=864e5,EN=6e4,MN=36e5;let WM={};function Dd(){return WM}function jn(e,t){var l,c,u,d;const r=Dd(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=gt(e),o=a.getDay(),i=(o<n?7:0)+o-n;return a.setDate(a.getDate()-i),a.setHours(0,0,0,0),a}function qo(e){return jn(e,{weekStartsOn:1})}function RN(e){const t=gt(e),r=t.getFullYear(),n=ds(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=qo(n),o=ds(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const i=qo(o);return t.getTime()>=a.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function fl(e){const t=gt(e);return t.setHours(0,0,0,0),t}function Mh(e){const t=gt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Vs(e,t){const r=fl(e),n=fl(t),a=+r-Mh(r),o=+n-Mh(n);return Math.round((a-o)/VM)}function HM(e){const t=RN(e),r=ds(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),qo(r)}function qg(e,t){const r=t*7;return Mr(e,r)}function qM(e,t){return Zs(e,t*12)}function YM(e){let t;return e.forEach(function(r){const n=gt(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function KM(e){let t;return e.forEach(r=>{const n=gt(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function Jr(e,t){const r=fl(e),n=fl(t);return+r==+n}function S0(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Om(e){if(!S0(e)&&typeof e!="number")return!1;const t=gt(e);return!isNaN(Number(t))}function Zc(e,t){const r=gt(e),n=gt(t),a=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return a*12+o}function GM(e,t,r){const n=jn(e,r),a=jn(t,r),o=+n-Mh(n),i=+a-Mh(a);return Math.round((o-i)/k0)}function ku(e,t){const r=gt(e),n=gt(t),a=jw(r,n),o=Math.abs(Vs(r,n));r.setDate(r.getDate()-a*o);const i=+(jw(r,n)===-a),l=a*(o-i);return l===0?0:l}function jw(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function C0(e){const t=gt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function es(e){const t=gt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function AN(e){const t=gt(e),r=ds(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function D0(e,t){var l,c,u,d;const r=Dd(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=gt(e),o=a.getDay(),i=(o<n?-7:0)+6-(o-n);return a.setDate(a.getDate()+i),a.setHours(23,59,59,999),a}function ON(e){return D0(e,{weekStartsOn:1})}const JM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ZM=(e,t,r)=>{let n;const a=JM[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Zi(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const QM={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},XM={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},e3={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},t3={date:Zi({formats:QM,defaultWidth:"full"}),time:Zi({formats:XM,defaultWidth:"full"}),dateTime:Zi({formats:e3,defaultWidth:"full"})},r3={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},s3=(e,t,r,n)=>r3[e];function un(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;a=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return a[o]}}const n3={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},a3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},o3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},i3={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},l3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},c3={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},d3=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},u3={ordinalNumber:d3,era:un({values:n3,defaultWidth:"wide"}),quarter:un({values:a3,defaultWidth:"wide",argumentCallback:e=>e-1}),month:un({values:o3,defaultWidth:"wide"}),day:un({values:i3,defaultWidth:"wide"}),dayPeriod:un({values:l3,defaultWidth:"wide",formattingValues:c3,defaultFormattingWidth:"wide"})};function hn(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;const i=o[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?m3(l,m=>m.test(i)):h3(l,m=>m.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function h3(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function m3(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function IN(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const l=t.slice(a.length);return{value:i,rest:l}}}const f3=/^(\d+)(th|st|nd|rd)?/i,p3=/\d+/i,g3={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},x3={any:[/^b/i,/^(a|c)/i]},v3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},y3={any:[/1/i,/2/i,/3/i,/4/i]},w3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},b3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},j3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},N3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},k3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},S3={ordinalNumber:IN({matchPattern:f3,parsePattern:p3,valueCallback:e=>parseInt(e,10)}),era:hn({matchPatterns:g3,defaultMatchWidth:"wide",parsePatterns:x3,defaultParseWidth:"any"}),quarter:hn({matchPatterns:v3,defaultMatchWidth:"wide",parsePatterns:y3,defaultParseWidth:"any",valueCallback:e=>e+1}),month:hn({matchPatterns:w3,defaultMatchWidth:"wide",parsePatterns:b3,defaultParseWidth:"any"}),day:hn({matchPatterns:j3,defaultMatchWidth:"wide",parsePatterns:N3,defaultParseWidth:"any"}),dayPeriod:hn({matchPatterns:_3,defaultMatchWidth:"any",parsePatterns:k3,defaultParseWidth:"any"})},LN={code:"en-US",formatDistance:ZM,formatLong:t3,formatRelative:s3,localize:u3,match:S3,options:{weekStartsOn:0,firstWeekContainsDate:1}};function C3(e){const t=gt(e);return Vs(t,AN(t))+1}function FN(e){const t=gt(e),r=+qo(t)-+HM(t);return Math.round(r/k0)+1}function $N(e,t){var d,m,f,p;const r=gt(e),n=r.getFullYear(),a=Dd(),o=(t==null?void 0:t.firstWeekContainsDate)??((m=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(f=a.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,i=ds(e,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const l=jn(i,t),c=ds(e,0);c.setFullYear(n,0,o),c.setHours(0,0,0,0);const u=jn(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function D3(e,t){var l,c,u,d;const r=Dd(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=$N(e,t),o=ds(e,0);return o.setFullYear(a,0,n),o.setHours(0,0,0,0),jn(o,t)}function zN(e,t){const r=gt(e),n=+jn(r,t)-+D3(r,t);return Math.round(n/k0)+1}function _t(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const ga={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return _t(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):_t(r+1,2)},d(e,t){return _t(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return _t(e.getHours()%12||12,t.length)},H(e,t){return _t(e.getHours(),t.length)},m(e,t){return _t(e.getMinutes(),t.length)},s(e,t){return _t(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return _t(a,t.length)}},vi={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Nw={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return ga.y(e,t)},Y:function(e,t,r,n){const a=$N(e,n),o=a>0?a:1-a;if(t==="YY"){const i=o%100;return _t(i,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):_t(o,t.length)},R:function(e,t){const r=RN(e);return _t(r,t.length)},u:function(e,t){const r=e.getFullYear();return _t(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return _t(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return _t(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return ga.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return _t(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=zN(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):_t(a,t.length)},I:function(e,t,r){const n=FN(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):_t(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ga.d(e,t)},D:function(e,t,r){const n=C3(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):_t(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return _t(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return _t(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return _t(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=vi.noon:n===0?a=vi.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=vi.evening:n>=12?a=vi.afternoon:n>=4?a=vi.morning:a=vi.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ga.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ga.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):_t(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):_t(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ga.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ga.s(e,t)},S:function(e,t){return ga.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return kw(n);case"XXXX":case"XX":return Do(n);case"XXXXX":case"XXX":default:return Do(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return kw(n);case"xxxx":case"xx":return Do(n);case"xxxxx":case"xxx":default:return Do(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+_w(n,":");case"OOOO":default:return"GMT"+Do(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+_w(n,":");case"zzzz":default:return"GMT"+Do(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return _t(n,t.length)},T:function(e,t,r){const n=e.getTime();return _t(n,t.length)}};function _w(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),o=n%60;return o===0?r+String(a):r+String(a)+t+_t(o,2)}function kw(e,t){return e%60===0?(e>0?"-":"+")+_t(Math.abs(e)/60,2):Do(e,t)}function Do(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=_t(Math.trunc(n/60),2),o=_t(n%60,2);return r+a+t+o}const Sw=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},UN=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},P3=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return Sw(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Sw(n,t)).replace("{{time}}",UN(a,t))},T3={p:UN,P:P3},E3=/^D+$/,M3=/^Y+$/,R3=["D","DD","YY","YYYY"];function A3(e){return E3.test(e)}function O3(e){return M3.test(e)}function I3(e,t,r){const n=L3(e,t,r);if(console.warn(n),R3.includes(e))throw new RangeError(n)}function L3(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const F3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,z3=/^'([^]*?)'?$/,U3=/''/g,B3=/[a-zA-Z]/;function Ke(e,t,r){var d,m,f,p,v,g,b,y;const n=Dd(),a=(r==null?void 0:r.locale)??n.locale??LN,o=(r==null?void 0:r.firstWeekContainsDate)??((m=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((g=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((y=(b=n.locale)==null?void 0:b.options)==null?void 0:y.weekStartsOn)??0,l=gt(e);if(!Om(l))throw new RangeError("Invalid time value");let c=t.match($3).map(x=>{const w=x[0];if(w==="p"||w==="P"){const j=T3[w];return j(x,a.formatLong)}return x}).join("").match(F3).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const w=x[0];if(w==="'")return{isToken:!1,value:V3(x)};if(Nw[w])return{isToken:!0,value:x};if(w.match(B3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:a};return c.map(x=>{if(!x.isToken)return x.value;const w=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&O3(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&A3(w))&&I3(w,t,String(e));const j=Nw[w[0]];return j(l,w,a.localize,u)}).join("")}function V3(e){const t=e.match(z3);return t?t[1].replace(U3,"'"):e}function W3(e){const t=gt(e),r=t.getFullYear(),n=t.getMonth(),a=ds(e,0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function H3(e){return Math.trunc(+gt(e)/1e3)}function q3(e){const t=gt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function Y3(e,t){return GM(q3(e),es(e),t)+1}function Yg(e,t){const r=gt(e),n=gt(t);return r.getTime()>n.getTime()}function P0(e,t){const r=gt(e),n=gt(t);return+r<+n}function T0(e,t){const r=gt(e),n=gt(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function K3(e,t){const r=gt(e),n=gt(t);return r.getFullYear()===n.getFullYear()}function hp(e,t){return Mr(e,-t)}function E0(e,t){const n=Q3(e);let a;if(n.date){const c=X3(n.date,2);a=eR(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const o=a.getTime();let i=0,l;if(n.time&&(i=tR(n.time),isNaN(i)))return new Date(NaN);if(n.timezone){if(l=rR(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(o+i),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(o+i+l)}const Su={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},G3=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,J3=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Z3=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Q3(e){const t={},r=e.split(Su.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Su.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Su.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=Su.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function X3(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?a:o*100,restDateString:e.slice((n[1]||n[2]).length)}}function eR(e,t){if(t===null)return new Date(NaN);const r=e.match(G3);if(!r)return new Date(NaN);const n=!!r[4],a=Xl(r[1]),o=Xl(r[2])-1,i=Xl(r[3]),l=Xl(r[4]),c=Xl(r[5])-1;if(n)return iR(t,l,c)?sR(t,l,c):new Date(NaN);{const u=new Date(0);return!aR(t,o,i)||!oR(t,a)?new Date(NaN):(u.setUTCFullYear(t,o,Math.max(a,i)),u)}}function Xl(e){return e?parseInt(e):1}function tR(e){const t=e.match(J3);if(!t)return NaN;const r=mp(t[1]),n=mp(t[2]),a=mp(t[3]);return lR(r,n,a)?r*MN+n*EN+a*1e3:NaN}function mp(e){return e&&parseFloat(e.replace(",","."))||0}function rR(e){if(e==="Z")return 0;const t=e.match(Z3);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return cR(n,a)?r*(n*MN+a*EN):NaN}function sR(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,o=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+o),n}const nR=[31,null,31,30,31,30,31,31,30,31,30,31];function BN(e){return e%400===0||e%4===0&&e%100!==0}function aR(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(nR[t]||(BN(e)?29:28))}function oR(e,t){return t>=1&&t<=(BN(e)?366:365)}function iR(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function lR(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function cR(e,t){return t>=0&&t<=59}function fp(e,t){const r=gt(e),n=r.getFullYear(),a=r.getDate(),o=ds(e,0);o.setFullYear(n,t,15),o.setHours(0,0,0,0);const i=W3(o);return r.setMonth(t,Math.min(a,i)),r}function Cw(e,t){const r=gt(e);return isNaN(+r)?ds(e,NaN):(r.setFullYear(t),r)}const dR={lessThanXSeconds:{one:"1초 미만",other:"{{count}}초 미만"},xSeconds:{one:"1초",other:"{{count}}초"},halfAMinute:"30초",lessThanXMinutes:{one:"1분 미만",other:"{{count}}분 미만"},xMinutes:{one:"1분",other:"{{count}}분"},aboutXHours:{one:"약 1시간",other:"약 {{count}}시간"},xHours:{one:"1시간",other:"{{count}}시간"},xDays:{one:"1일",other:"{{count}}일"},aboutXWeeks:{one:"약 1주",other:"약 {{count}}주"},xWeeks:{one:"1주",other:"{{count}}주"},aboutXMonths:{one:"약 1개월",other:"약 {{count}}개월"},xMonths:{one:"1개월",other:"{{count}}개월"},aboutXYears:{one:"약 1년",other:"약 {{count}}년"},xYears:{one:"1년",other:"{{count}}년"},overXYears:{one:"1년 이상",other:"{{count}}년 이상"},almostXYears:{one:"거의 1년",other:"거의 {{count}}년"}},uR=(e,t,r)=>{let n;const a=dR[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?n+" 후":n+" 전":n},hR={full:"y년 M월 d일 EEEE",long:"y년 M월 d일",medium:"y.MM.dd",short:"y.MM.dd"},mR={full:"a H시 mm분 ss초 zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},fR={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},pR={date:Zi({formats:hR,defaultWidth:"full"}),time:Zi({formats:mR,defaultWidth:"full"}),dateTime:Zi({formats:fR,defaultWidth:"full"})},gR={lastWeek:"'지난' eeee p",yesterday:"'어제' p",today:"'오늘' p",tomorrow:"'내일' p",nextWeek:"'다음' eeee p",other:"P"},xR=(e,t,r,n)=>gR[e],vR={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["기원전","서기"]},yR={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1분기","2분기","3분기","4분기"]},wR={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],wide:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},bR={narrow:["일","월","화","수","목","금","토"],short:["일","월","화","수","목","금","토"],abbreviated:["일","월","화","수","목","금","토"],wide:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},jR={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},NR={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},_R=(e,t)=>{const r=Number(e);switch(String(t==null?void 0:t.unit)){case"minute":case"second":return String(r);case"date":return r+"일";default:return r+"번째"}},kR={ordinalNumber:_R,era:un({values:vR,defaultWidth:"wide"}),quarter:un({values:yR,defaultWidth:"wide",argumentCallback:e=>e-1}),month:un({values:wR,defaultWidth:"wide"}),day:un({values:bR,defaultWidth:"wide"}),dayPeriod:un({values:jR,defaultWidth:"wide",formattingValues:NR,defaultFormattingWidth:"wide"})},SR=/^(\d+)(일|번째)?/i,CR=/\d+/i,DR={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(기원전|서기)/i},PR={any:[/^(bc|기원전)/i,/^(ad|서기)/i]},TR={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]사?분기/i},ER={any:[/1/i,/2/i,/3/i,/4/i]},MR={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])월/i,wide:/^(1[012]|[123456789])월/i},RR={any:[/^1월?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},AR={narrow:/^[일월화수목금토]/,short:/^[일월화수목금토]/,abbreviated:/^[일월화수목금토]/,wide:/^[일월화수목금토]요일/},OR={any:[/^일/,/^월/,/^화/,/^수/,/^목/,/^금/,/^토/]},IR={any:/^(am|pm|오전|오후|자정|정오|아침|저녁|밤)/i},LR={any:{am:/^(am|오전)/i,pm:/^(pm|오후)/i,midnight:/^자정/i,noon:/^정오/i,morning:/^아침/i,afternoon:/^오후/i,evening:/^저녁/i,night:/^밤/i}},FR={ordinalNumber:IN({matchPattern:SR,parsePattern:CR,valueCallback:e=>parseInt(e,10)}),era:hn({matchPatterns:DR,defaultMatchWidth:"wide",parsePatterns:PR,defaultParseWidth:"any"}),quarter:hn({matchPatterns:TR,defaultMatchWidth:"wide",parsePatterns:ER,defaultParseWidth:"any",valueCallback:e=>e+1}),month:hn({matchPatterns:MR,defaultMatchWidth:"wide",parsePatterns:RR,defaultParseWidth:"any"}),day:hn({matchPatterns:AR,defaultMatchWidth:"wide",parsePatterns:OR,defaultParseWidth:"any"}),dayPeriod:hn({matchPatterns:IR,defaultMatchWidth:"any",parsePatterns:LR,defaultParseWidth:"any"})},Yr={code:"ko",formatDistance:uR,formatLong:pR,formatRelative:xR,localize:kR,match:FR,options:{weekStartsOn:0,firstWeekContainsDate:1}},VN=h.createContext({}),$R=({children:e})=>{const[t,r]=h.useState(null),[n,a]=h.useState([]),[o,i]=h.useState([]),[l,c]=h.useState([]),[u,d]=h.useState([]),[m,f]=h.useState([]),[p,v]=h.useState([]),[g,b]=h.useState([]),[y,x]=h.useState([]),[w,j]=h.useState([]),[k,A]=h.useState([]),[C,T]=h.useState([]),[B,$]=h.useState([]),[W,_]=h.useState([]),[R,O]=h.useState([]),ne=D=>{if(!D||D.trim()===""||D==="unassigned")return"미할당";const N=n.find(Fe=>Fe.id===D);if(N)return N.name;const Z=n.find(Fe=>Fe.name===D);if(Z)return Z.name;const J=C.find(Fe=>Fe.id===D);if(J)return J.name;const pe=C.find(Fe=>Fe.name===D);return pe?pe.name:D},P=D=>{if(!D||D.trim()===""||D==="unassigned")return null;const N=n.find(Fe=>Fe.id===D);if(N)return N;const Z=n.find(Fe=>Fe.name===D);if(Z)return Z;const J=C.find(Fe=>Fe.id===D);if(J)return J;const pe=C.find(Fe=>Fe.name===D);return pe||null},H=()=>{const D=new Map;return n.forEach(N=>{N.email&&N.isActive!==!1&&D.set(N.email,{id:N.id,name:N.name,email:N.email,department:typeof N.department=="string"?N.department:"",role:N.role||"user",type:"user",avatar:N.avatar})}),C.forEach(N=>{var Z;N.email&&!D.has(N.email)&&D.set(N.email,{id:N.id,name:N.name,email:N.email,department:((Z=N.department)==null?void 0:Z.name)||"",role:"manager",type:"manager"})}),Array.from(D.values()).sort((N,Z)=>N.name.localeCompare(Z.name))},L=D=>{if(D.assignees&&Array.isArray(D.assignees)&&D.assignees.length>0){const Z=D.assignees.find(pe=>pe.is_primary)||D.assignees[0],J=D.assignees.length-1;return J>0?`${Z.user_name} 외 ${J}명`:Z.user_name}return ne(D.assignedTo)},M=D=>{var pe;if(C.find(Fe=>Fe.id===D))return"리더";const Z=k.find(Fe=>Fe.id===D);if((pe=Z==null?void 0:Z.position)!=null&&pe.name)return Z.position.name;const J=n.find(Fe=>Fe.id===D);return J!=null&&J.position?J.position:"사원"};h.useEffect(()=>((async()=>{console.log("Setting up real-time subscriptions..."),B.forEach(I=>I.unsubscribe());const N=re.channel("clients_changes").on("postgres_changes",{event:"*",schema:"public",table:"clients"},I=>{console.log("Client data changed:",I),ie()}).subscribe(),Z=re.channel("managers_changes").on("postgres_changes",{event:"*",schema:"public",table:"managers"},I=>{console.log("Manager data changed:",I),le()}).subscribe(),J=re.channel("projects_changes").on("postgres_changes",{event:"*",schema:"public",table:"projects"},I=>{console.log("Project data changed:",I),ve()}).subscribe(),pe=re.channel("tasks_changes").on("postgres_changes",{event:"*",schema:"public",table:"tasks"},I=>{console.log("Task data changed:",I),$e()}).subscribe(),Fe=re.channel("users_changes").on("postgres_changes",{event:"*",schema:"public",table:"users"},I=>{console.log("Users data changed:",I),Y()}).subscribe(),Tr=re.channel("departments_changes").on("postgres_changes",{event:"*",schema:"public",table:"departments"},I=>{console.log("🏢 부서 데이터 변경 감지:",I),Ze()}).subscribe();$([N,Z,J,pe,Fe,Tr]),console.log("Real-time subscriptions set up successfully")})(),()=>{console.log("Cleaning up subscriptions..."),B.forEach(N=>N.unsubscribe())}),[]),h.useEffect(()=>{console.log("==== AppProvider useEffect 실행 ===="),ie(),Y(),ve(),Ze(),Qe(),V(),E(),ae(),le(),hi(),Ps(),console.log("==== 데이터 로드 함수들 호출 완료 ====")},[]),h.useEffect(()=>{console.log("==== 인증 상태 확인 시작 ===="),(async()=>{var N,Z;try{const{data:{user:J},error:pe}=await re.auth.getUser();if(console.log("=== AppContext 인증 확인 ==="),console.log("Supabase auth user:",J),console.log("Auth error:",pe),J&&!pe){console.log("실제 로그인된 사용자 발견, users 테이블에서 정보 조회");const{data:Fe,error:Tr}=await re.from("users").select(`
              *,
              department:department_id(id, name, code),
              corporation:corporation_id(id, name, code),
              position:position_id(id, name, code)
            `).eq("id",J.id).single();if(Fe&&!Tr){console.log("users 테이블에서 사용자 정보 찾음:",Fe),r(Fe);try{const{error:I}=await re.from("users").update({is_online:!0,last_seen:new Date().toISOString(),updated_at:new Date().toISOString(),current_page:"대시보드"}).eq("id",J.id);I?I.code==="42703"?console.log("온라인 상태 추적 컬럼들(is_online, last_seen, current_page)이 존재하지 않습니다."):console.error("온라인 상태 업데이트 오류:",I):console.log("✅ 사용자 온라인 상태로 변경 완료")}catch(I){console.error("온라인 상태 업데이트 중 오류:",I)}localStorage.setItem("currentUser",JSON.stringify(Fe)),localStorage.setItem("lastUserLogin",new Date().toISOString())}else{console.log("users 테이블에 사용자 정보 없음, auth 정보로 기본 사용자 생성");const I={id:J.id,name:((N=J.user_metadata)==null?void 0:N.name)||((Z=J.email)==null?void 0:Z.split("@")[0])||"사용자",email:J.email||"",role:"user",department:Gu.MANAGEMENT};r(I),localStorage.setItem("currentUser",JSON.stringify(I)),localStorage.setItem("lastUserLogin",new Date().toISOString())}}else{console.log("Supabase 로그인 상태 없음, localStorage 확인 중...");const Fe=localStorage.getItem("currentUser"),Tr=localStorage.getItem("lastUserLogin");if(Fe&&Tr)try{const I=JSON.parse(Fe),me=new Date(Tr);if((new Date().getTime()-me.getTime())/(1e3*60*60)<48){console.log("localStorage에서 최근 사용자 복원:",I),r(I);return}else console.log("localStorage 사용자 데이터가 너무 오래됨 (48시간 이상)"),localStorage.removeItem("currentUser"),localStorage.removeItem("lastUserLogin")}catch(I){console.error("localStorage 사용자 데이터 파싱 오류:",I),localStorage.removeItem("currentUser"),localStorage.removeItem("lastUserLogin")}if(!t){const I={id:"default-user-001",name:"관리자",email:"admin@coilmaster.com",department:Gu.MANAGEMENT,role:"admin"};r(I),console.log("기본 더미 사용자 설정:",I)}}console.log("==============================")}catch(J){if(console.error("인증 상태 확인 중 오류:",J),!t){const pe={id:"default-user-001",name:"관리자",email:"admin@coilmaster.com",department:Gu.MANAGEMENT,role:"admin"};r(pe),console.log("오류로 인한 기본 더미 사용자 설정:",pe)}}})()},[]),h.useEffect(()=>{n.length>0&&!t&&r(n[0])},[n,t]);const F=async D=>{try{const N={created_at:new Date().toISOString(),updated_at:new Date().toISOString()};D.name!==void 0&&(N.name=D.name),D.description!==void 0&&(N.description=D.description),D.status!==void 0&&(N.status=D.status),D.promotionStatus!==void 0&&(N.promotion_status=D.promotionStatus),D.progress!==void 0&&(N.progress=D.progress),D.startDate!==void 0&&(N.start_date=D.startDate),D.dueDate!==void 0&&(N.due_date=D.dueDate),D.clientId!==void 0&&(N.client_id=D.clientId||null),D.manager!==void 0&&(N.pic_name=D.manager),D.managerId!==void 0&&(N.manager_id=D.managerId||null),D.department!==void 0&&(N.department_id=D.department||null),D.projectType!==void 0&&(N.project_type=D.projectType),D.annualQuantity!==void 0&&(N.annual_quantity=D.annualQuantity),D.averageAmount!==void 0&&(N.average_amount=D.averageAmount),D.annualAmount!==void 0&&(N.annual_amount=D.annualAmount),D.competitor!==void 0&&(N.competitor=D.competitor),D.issueCorporation!==void 0&&(N.issue_corporation_id=D.issueCorporation||null),D.requestDate!==void 0&&(N.request_date=D.requestDate),D.targetSOPDate!==void 0&&(N.target_sop_date=D.targetSOPDate),D.currentPhase!==void 0&&(N.current_phase=D.currentPhase),D.completed!==void 0&&(N.completed=D.completed),D.team!==void 0&&(N.team=D.team),D.image!==void 0&&(N.image=D.image),["client_id","manager_id","department_id","issue_corporation_id"].forEach(Tr=>{N[Tr]===""&&(N[Tr]=null)}),console.log("Sanitized insert data for Supabase:",N);const Z=await re.from("projects").insert([N]).select().single();if(Z.error)throw console.error("프로젝트 생성 오류:",Z.error),new Error(Z.error.message);const J=Z.data;i([...o,J]);const pe=(t==null?void 0:t.name)||"사용자",Fe=M((t==null?void 0:t.id)||"");await Se("project",`${pe} ${Fe}님이 프로젝트를 등록하였습니다. (${Ke(new Date,"yyyy-MM-dd HH:mm",{locale:Yr})})`,t==null?void 0:t.id),console.log("프로젝트가 성공적으로 생성되었습니다:",J)}catch(N){throw console.error("프로젝트 생성 실패:",N),N}},G=async(D,N)=>{try{console.log("Updating project in Supabase:",D,N);const Z={updated_at:new Date().toISOString()};N.name!==void 0&&(Z.name=N.name),N.description!==void 0&&(Z.description=N.description),N.status!==void 0&&(Z.status=N.status),N.promotionStatus!==void 0&&(Z.promotion_status=N.promotionStatus),N.progress!==void 0&&(Z.progress=N.progress),N.startDate!==void 0&&(Z.start_date=N.startDate),N.dueDate!==void 0&&(Z.due_date=N.dueDate),N.clientId!==void 0&&(Z.client_id=N.clientId||null),N.manager!==void 0&&(Z.pic_name=N.manager),N.managerId!==void 0&&(Z.manager_id=N.managerId||null),N.department!==void 0&&(Z.department_id=N.department||null),N.projectType!==void 0&&(Z.project_type=N.projectType),N.annualQuantity!==void 0&&(Z.annual_quantity=N.annualQuantity),N.averageAmount!==void 0&&(Z.average_amount=N.averageAmount),N.annualAmount!==void 0&&(Z.annual_amount=N.annualAmount),N.competitor!==void 0&&(Z.competitor=N.competitor),N.issueCorporation!==void 0&&(Z.issue_corporation_id=N.issueCorporation||null),N.requestDate!==void 0&&(Z.request_date=N.requestDate),N.targetSOPDate!==void 0&&(Z.target_sop_date=N.targetSOPDate),N.currentPhase!==void 0&&(Z.current_phase=N.currentPhase),N.completed!==void 0&&(Z.completed=N.completed),N.team!==void 0&&(Z.team=N.team),N.image!==void 0&&(Z.image=N.image),["client_id","manager_id","department_id","issue_corporation_id"].forEach(pe=>{Z[pe]===""&&(Z[pe]=null)}),console.log("Sanitized update data for Supabase:",Z);const{error:J}=await re.from("projects").update(Z).eq("id",D);if(J)throw console.error("Error updating project in Supabase:",J),J;console.log("Project updated successfully in Supabase"),i(o.map(pe=>pe.id===D?{...pe,...N,updatedAt:new Date().toISOString()}:pe))}catch(Z){throw console.error("Error in updateProject:",Z),Z}},q=D=>{i(o.filter(N=>N.id!==D))},de=async D=>{try{console.log("Deleting project from Supabase:",D),console.log("Deleting related tasks first...");const{error:N}=await re.from("tasks").delete().eq("project_id",D);if(N)throw console.error("Error deleting related tasks:",N),N;console.log("Related tasks deleted successfully");const{error:Z}=await re.from("projects").delete().eq("id",D);if(Z)throw console.error("Error deleting project from Supabase:",Z),Z;console.log("Project deleted successfully from Supabase"),i(o.filter(Fe=>Fe.id!==D)),c(l.filter(Fe=>Fe.projectId!==D));const J=(t==null?void 0:t.name)||"사용자",pe=M((t==null?void 0:t.id)||"");await Se("project",`${J} ${pe}님이 프로젝트를 삭제하였습니다. (${Ke(new Date,"yyyy-MM-dd HH:mm",{locale:Yr})})`,t==null?void 0:t.id)}catch(N){throw console.error("Error in deleteProject:",N),N}},z=async D=>{try{console.log("🚀 addTask 시작 - 입력 데이터:",D);const N={title:D.title,description:D.description||"",status:D.status,priority:D.priority,progress:D.progress||0,start_date:D.startDate||Ke(new Date,"yyyy-MM-dd"),due_date:D.dueDate,project_id:D.projectId,assigned_to:D.assignedTo,department:D.department,task_phase:D.taskPhase,parent_task_id:D.parentTaskId,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:Z,error:J}=await re.from("tasks").insert([{title:D.title,description:D.description||"",status:D.status,priority:D.priority,progress:D.progress||0,start_date:D.startDate||Ke(new Date,"yyyy-MM-dd"),due_date:D.dueDate,project_id:D.projectId,assigned_to:D.assignedTo,department:D.department,task_phase:D.taskPhase,parent_task_id:D.parentTaskId,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(J)throw console.error("Error creating task:",J),J;console.log("Task created successfully:",Z),await $e();const pe=(t==null?void 0:t.name)||"사용자",Fe=M((t==null?void 0:t.id)||"");return await Se("task",`${pe} ${Fe}님이 업무 관리에 업무를 등록하였습니다. (${Ke(new Date,"yyyy-MM-dd HH:mm",{locale:Yr})})`,t==null?void 0:t.id),Z.id}catch(N){throw console.error("Error in addTask:",N),N}},ee=async(D,N)=>{try{console.log("Updating task in Supabase:",D,N);const Z={updated_at:new Date().toISOString()};if(N.title!==void 0&&(Z.title=N.title),N.description!==void 0&&(Z.description=N.description),N.status!==void 0&&(Z.status=N.status),N.priority!==void 0&&(Z.priority=N.priority),N.progress!==void 0&&(Z.progress=N.progress),N.startDate!==void 0&&(Z.start_date=N.startDate),N.dueDate!==void 0&&(Z.due_date=N.dueDate),N.projectId!==void 0&&(Z.project_id=N.projectId),N.assignedTo!==void 0&&(Z.assigned_to=N.assignedTo===""?null:N.assignedTo),N.department!==void 0&&(Z.department=N.department),N.taskPhase!==void 0&&(Z.task_phase=N.taskPhase),N.parentTaskId!==void 0&&(Z.parent_task_id=N.parentTaskId),N.status==="완료"&&N.progress===void 0)Z.progress=100,console.log("상태가 완료로 변경됨 - 진행률을 100%로 자동 설정");else if(N.status&&N.status!=="완료"&&N.progress===void 0){const pe=l.find(Fe=>Fe.id===D);pe&&pe.progress===100&&(Z.progress=80,console.log("완료 상태에서 다른 상태로 변경됨 - 진행률을 80%로 자동 조정"))}console.log("Sanitized update data for Supabase:",Z);const{error:J}=await re.from("tasks").update(Z).eq("id",D);if(J)throw console.error("Error updating task in Supabase:",J),J;console.log("Task updated successfully in Supabase"),c(l.map(pe=>pe.id===D?{...pe,...N,updatedAt:new Date().toISOString()}:pe))}catch(Z){throw console.error("Error in updateTask:",Z),Z}},U=async D=>{try{console.log("Deleting task from Supabase:",D);const{error:N}=await re.from("tasks").delete().eq("id",D);if(N)throw console.error("Error deleting task from Supabase:",N),N;console.log("Task deleted successfully from Supabase"),c(l.filter(Z=>Z.id!==D))}catch(N){throw console.error("Error in deleteTask:",N),N}},S=D=>{c(l.filter(N=>N.id!==D))},K=async D=>{try{console.log("Adding client to Supabase:",D);const N={name:D.name,country:D.country||"",contact_person:D.contact_person||D.contactPerson||"",contact_email:D.contact_email||D.contactEmail||D.email||"",contact_number:D.contact_number||D.phone||"",sales_rep_id:D.sales_rep_id||D.salesRepId||null,manager_id:D.manager_id||null,requirements:D.requirements||"",homepage:D.homepage||"",flag:D.flag||"",remark:D.remark||"",files:D.files||[],created_at:new Date().toISOString(),updated_at:new Date().toISOString()};N.sales_rep_id===""&&(N.sales_rep_id=null),N.manager_id===""&&(N.manager_id=null),console.log("Sanitized insert data:",N);const{data:Z,error:J}=await re.from("clients").insert([N]).select().single();if(J)throw console.error("Error creating client in Supabase:",J),J;console.log("Client created successfully:",Z)}catch(N){throw console.error("Error in addClient:",N),N}},te=async(D,N)=>{try{console.log("Updating client in Supabase:",D,N);const Z={name:N.name,country:N.country,contact_person:N.contact_person||N.contactPerson,contact_email:N.contact_email||N.contactEmail||N.email,contact_number:N.contact_number||N.phone,sales_rep_id:N.sales_rep_id||N.salesRepId,manager_id:N.manager_id,requirements:N.requirements,homepage:N.homepage,flag:N.flag,remark:N.remark,files:N.files,updated_at:new Date().toISOString()};Object.keys(Z).forEach(pe=>{Z[pe]===void 0?delete Z[pe]:((pe==="sales_rep_id"||pe==="manager_id")&&Z[pe]===""||typeof Z[pe]=="string"&&Z[pe]==="")&&(Z[pe]=null)}),console.log("Sanitized update data:",Z);const{error:J}=await re.from("clients").update(Z).eq("id",D);if(J)throw console.error("Error updating client in Supabase:",J),console.error("Error details:",J.message,J.details,J.hint),J;console.log("Client updated successfully")}catch(Z){throw console.error("Error in updateClient:",Z),Z}},Q=async D=>{try{const{error:N}=await re.from("clients").delete().eq("id",D);if(N)throw console.error("Error deleting client from Supabase:",N),N;console.log("Client deleted successfully")}catch(N){throw console.error("Error in removeClient:",N),N}},oe=D=>{f(m.map(N=>N.id===D?{...N,read:!0}:N))},xe=()=>{f(m.map(D=>({...D,read:!0})))},Ne=D=>{const N={...D,id:`notification-${Date.now()}`,createdAt:new Date().toISOString(),isRead:!1};f([N,...m])},Se=async(D,N,Z,J)=>{const pe={id:`notification-${Date.now()}`,type:D,message:N,userId:Z,read:!1,timestamp:new Date().toISOString(),createdAt:new Date().toISOString()};f([pe,...m])},Je=async D=>{f(m.filter(N=>N.id!==D))},Ze=async()=>{try{console.log("🏢 부서 목록 로딩 시작...");const{data:D,error:N}=await re.from("departments").select("*").order("created_at",{ascending:!1});if(N){console.error("❌ 부서 로딩 오류:",N);return}console.log("📊 Supabase에서 로드된 부서 데이터:",D),console.log("📊 부서 개수:",(D==null?void 0:D.length)||0),v(D||[]),console.log("✅ 부서 목록 상태 업데이트 완료")}catch(D){console.error("❌ loadDepartments 함수 오류:",D)}},Qe=async()=>{const{data:D,error:N}=await re.from("positions").select("*");if(N){console.error("Error loading positions:",N);return}b(D)},V=async()=>{try{const{data:D,error:N}=await re.from("phases").select("*").eq("is_active",!0).order("order_index",{ascending:!0});if(N){console.error("Error loading phases:",N);return}const Z=(D||[]).map(J=>({id:J.id,name:J.name,description:J.description||"",color:J.color||"#3b82f6",order:J.order_index,created_at:J.created_at,updated_at:J.updated_at}));x(Z)}catch(D){console.error("Error in loadPhases:",D)}},E=async()=>{const{data:D,error:N}=await re.from("corporations").select("*");if(N){console.error("Error loading corporations:",N);return}j(D)},Y=async()=>{const{data:D,error:N}=await re.from("users").select(`
        *,
        department:department_id(id, name, code),
        corporation:corporation_id(id, name, code),
        position:position_id(id, name, code)
      `);if(N){console.error("Error loading users:",N);return}a(D)},ae=async()=>{const{data:D,error:N}=await re.from("employees").select(`
        *,
        department:department_id(id, name, code),
        corporation:corporation_id(id, name, code),
        position:position_id(id, name, code)
      `);if(N){console.error("Error loading employees:",N);return}A(D)},le=async()=>{const{data:D}=await re.from("managers").select("*, department:department_id(id, name)");D?T(D):console.error("Error loading managers:",D)},ie=async()=>{try{console.log("Loading clients from Supabase...");const{data:D,error:N}=await re.from("clients").select(`
        *,
        manager:manager_id(id, name, email)
      `);if(N){console.error("Error loading clients:",N);return}console.log("Raw client data from Supabase:",D);const Z=(D||[]).map(J=>{var pe;return{id:J.id,name:J.name,manager_id:J.manager_id,country:J.country||"",contact_number:J.contact_number||"",contact_person:J.contact_person||"",contact_email:J.contact_email||"",sales_rep_id:(J.sales_rep_id||J.salesRepId||null)===""?null:J.sales_rep_id||J.salesRepId||null,requirements:J.requirements||"",homepage:J.homepage||"",flag:J.flag||"",remark:J.remark||"",files:J.files||[],created_at:J.created_at,updated_at:J.updated_at,manager:J.manager,contactPerson:J.contact_person||"",contactEmail:J.contact_email||"",salesRepId:J.sales_rep_id,salesRepName:((pe=J.manager)==null?void 0:pe.name)||"",email:J.contact_email||"",phone:J.contact_number||"",address:"",createdAt:J.created_at,updatedAt:J.updated_at}});console.log("Mapped client data:",Z),console.log("Setting clients list with",Z.length,"clients"),d(Z)}catch(D){console.error("Error in loadClients:",D)}},ve=async()=>{try{console.log("Loading projects from Supabase...");const{data:D,error:N}=await re.from("projects").select("*");if(N){console.error("Error loading projects:",N);return}console.log("Raw project data from Supabase:",D);const Z=(D||[]).map(J=>{const pe=u.find(me=>me.id===J.client_id),Fe=J.pic_name||"",Tr=y.find(me=>me.id===J.current_phase),I=(Tr==null?void 0:Tr.name)||J.current_phase||"planning";return{id:J.id,name:J.name,description:J.description||"",status:J.promotion_status||J.status||"planned",progress:J.progress||0,startDate:J.start_date,dueDate:J.due_date,clientId:J.client_id,clientName:(pe==null?void 0:pe.name)||"",manager:Fe,managerId:J.manager_id,department:J.department_id,phase:I,currentPhase:I,requestDate:J.request_date,targetSOPDate:J.target_sop_date,projectType:J.project_type,type:J.project_type,annualQuantity:J.annual_quantity||0,averageAmount:J.average_amount||0,annualAmount:J.annual_amount||0,promotionStatus:J.promotion_status||"planned",promotionStage:J.promotion_stage||"Promotion",competitor:J.competitor,issueCorporation:J.issue_corporation_id,completed:J.completed||!1,team:J.team||[],createdAt:J.created_at,updatedAt:J.updated_at,image:J.image||""}});console.log("Mapped project data:",Z),console.log("Setting projects list with",Z.length,"projects"),i(Z),$e()}catch(D){console.error("Error in loadProjects:",D)}},De=async()=>{try{console.log("🔧 완료 상태 업무들의 진행률 수정 시작...");const{data:D,error:N}=await re.from("tasks").select("id, title, status, progress").eq("status","완료").neq("progress",100);if(N){console.error("완료 상태 업무 조회 오류:",N);return}if(!D||D.length===0){console.log("✅ 수정이 필요한 완료 상태 업무가 없습니다.");return}console.log(`🔧 수정이 필요한 완료 상태 업무: ${D.length}개`),console.log("수정 대상 업무들:",D.map(J=>({id:J.id,title:J.title,progress:J.progress})));const{error:Z}=await re.from("tasks").update({progress:100,updated_at:new Date().toISOString()}).eq("status","완료").neq("progress",100);if(Z){console.error("완료 상태 업무 진행률 수정 오류:",Z);return}console.log(`✅ ${D.length}개 완료 상태 업무의 진행률을 100%로 수정 완료`)}catch(D){console.error("완료 상태 업무 진행률 수정 중 오류:",D)}},$e=async()=>{try{console.log("🔄 loadTasks 시작 - Supabase에서 업무 로드 중..."),await De();const{data:D,error:N}=await re.from("tasks").select("*").order("created_at",{ascending:!1});if(N){console.error("❌ Supabase 업무 로드 오류:",N),console.error("❌ 오류 상세:",{message:N.message,details:N.details,hint:N.hint,code:N.code}),console.log("🔄 더미 데이터로 폴백"),c(ct());return}if(console.log("✅ Supabase에서 업무 로드 성공:",(D==null?void 0:D.length)||0,"개"),console.log("📋 로드된 원본 데이터:",D),D&&D.length>0){const Z=D.map(J=>{const pe={id:J.id,title:J.title,description:J.description||"",status:J.status||"not-started",priority:J.priority||"medium",progress:J.progress||0,startDate:J.start_date,dueDate:J.due_date,projectId:J.project_id,assignedTo:J.assigned_to,department:J.department||"",taskPhase:J.task_phase,parentTaskId:J.parent_task_id,createdAt:J.created_at,updatedAt:J.updated_at};return console.log("🔄 업무 매핑:",{원본:{id:J.id,title:J.title,task_phase:J.task_phase},변환:{id:pe.id,title:pe.title,taskPhase:pe.taskPhase}}),pe});console.log("Mapped task data:",Z),console.log("Tasks with parent_task_id:",Z.filter(J=>J.parentTaskId)),console.log("Setting tasks list with",Z.length,"tasks"),c(Z),console.log("Tasks state updated successfully")}else console.log("No data from Supabase, using dummy task data"),c(ct())}catch(D){console.error("Error in loadTasks:",D),console.log("Using dummy task data due to exception"),c(ct())}},ct=()=>{const D=[{id:"dummy-1",title:"데이터베이스 설계",description:"새 프로젝트를 위한 데이터베이스 스키마 설계",status:"할 일",priority:"높음",progress:0,startDate:"2024-01-01",dueDate:"2024-01-15",projectId:"project-1",assignedTo:n.length>0?n[0].id:"default-user-001",department:p.length>0?p[0].id:"development",taskPhase:"phase-1",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"dummy-1-1",title:"ERD 작성",description:"엔티티 관계 다이어그램 작성",status:"진행중",priority:"높음",progress:50,startDate:"2024-01-01",dueDate:"2024-01-10",projectId:"project-1",assignedTo:n.length>0?n[0].id:"default-user-001",department:p.length>0?p[0].id:"development",taskPhase:"phase-1",parentTaskId:"dummy-1",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"dummy-1-2",title:"테이블 스키마 정의",description:"각 테이블의 컬럼과 제약조건 정의",status:"할 일",priority:"보통",progress:0,startDate:"2024-01-05",dueDate:"2024-01-12",projectId:"project-1",assignedTo:n.length>1?n[1].id:n.length>0?n[0].id:"default-user-001",department:p.length>0?p[0].id:"development",taskPhase:"phase-1",parentTaskId:"dummy-1",createdAt:"2024-01-02T00:00:00Z",updatedAt:"2024-01-02T00:00:00Z"},{id:"dummy-2",title:"API 개발",description:"사용자 인증 API 개발",status:"진행중",priority:"높음",progress:60,startDate:"2024-01-02",dueDate:"2024-01-20",projectId:"project-1",assignedTo:n.length>1?n[1].id:n.length>0?n[0].id:"default-user-001",department:p.length>0?p[0].id:"development",taskPhase:"phase-2",createdAt:"2024-01-02T00:00:00Z",updatedAt:"2024-01-02T00:00:00Z",completionFiles:[{id:"file-1",name:"API_문서.pdf",size:1024e3,type:"pdf",url:"#"}],completionLinks:[{id:"link-1",title:"API 테스트 결과",url:"https://example.com/api-test"}]},{id:"dummy-2-1",title:"로그인 API",description:"사용자 로그인 엔드포인트 개발",status:"완료",priority:"높음",progress:100,startDate:"2024-01-02",dueDate:"2024-01-10",projectId:"project-1",assignedTo:n.length>1?n[1].id:n.length>0?n[0].id:"default-user-001",department:p.length>0?p[0].id:"development",taskPhase:"phase-2",parentTaskId:"dummy-2",createdAt:"2024-01-02T00:00:00Z",updatedAt:"2024-01-02T00:00:00Z"},{id:"dummy-2-2",title:"회원가입 API",description:"사용자 회원가입 엔드포인트 개발",status:"진행중",priority:"보통",progress:70,startDate:"2024-01-05",dueDate:"2024-01-15",projectId:"project-1",assignedTo:n.length>2?n[2].id:n.length>0?n[0].id:"default-user-001",department:p.length>0?p[0].id:"development",taskPhase:"phase-2",parentTaskId:"dummy-2",createdAt:"2024-01-03T00:00:00Z",updatedAt:"2024-01-03T00:00:00Z"},{id:"dummy-3",title:"프론트엔드 구현",description:"사용자 인터페이스 구현",status:"검토중",priority:"보통",progress:85,startDate:"2024-01-03",dueDate:"2024-01-25",projectId:"project-1",assignedTo:n.length>2?n[2].id:n.length>0?n[0].id:"default-user-001",department:p.length>0?p[0].id:"development",taskPhase:"phase-2",createdAt:"2024-01-03T00:00:00Z",updatedAt:"2024-01-03T00:00:00Z"},{id:"dummy-4",title:"테스트 케이스 작성",description:"단위 테스트 및 통합 테스트 케이스 작성",status:"완료",priority:"보통",progress:100,startDate:"2024-01-04",dueDate:"2024-01-30",projectId:"project-1",assignedTo:C.length>0?C[0].id:n.length>0?n[0].id:"default-user-001",department:p.length>1?p[1].id:p.length>0?p[0].id:"quality",taskPhase:"phase-3",createdAt:"2024-01-04T00:00:00Z",updatedAt:"2024-01-04T00:00:00Z",completionFiles:[{id:"file-2",name:"테스트케이스.xlsx",size:512e3,type:"document",url:"#"},{id:"file-3",name:"테스트결과.pdf",size:2048e3,type:"pdf",url:"#"}],completionLinks:[{id:"link-2",title:"테스트 환경",url:"https://test.example.com"},{id:"link-3",title:"테스트 보고서",url:"https://reports.example.com"}]},{id:"dummy-5",title:"품질 검수",description:"완성된 제품의 품질 검수",status:"할 일",priority:"낮음",progress:0,startDate:"2024-01-05",dueDate:"2024-02-01",projectId:"project-2",assignedTo:C.length>1?C[1].id:C.length>0?C[0].id:n.length>0?n[0].id:"default-user-001",department:p.length>1?p[1].id:p.length>0?p[0].id:"quality",taskPhase:"phase-3",createdAt:"2024-01-05T00:00:00Z",updatedAt:"2024-01-05T00:00:00Z"},{id:"dummy-6",title:"고객 미팅",description:"신규 고객과의 요구사항 협의",status:"진행중",priority:"긴급",progress:30,startDate:"2024-01-06",dueDate:"2024-01-10",projectId:"project-2",assignedTo:n.length>3?n[3].id:n.length>0?n[0].id:"default-user-001",department:p.length>2?p[2].id:p.length>0?p[0].id:"sales",taskPhase:"phase-1",createdAt:"2024-01-06T00:00:00Z",updatedAt:"2024-01-06T00:00:00Z"}];return console.log("Generated dummy tasks:",D),console.log("Dummy tasks with parentTaskId:",D.filter(N=>N.parentTaskId)),console.log("Available users for assignment:",n.map(N=>({id:N.id,name:N.name}))),console.log("Available managers for assignment:",C.map(N=>({id:N.id,name:N.name}))),console.log("Available departments:",p.map(N=>({id:N.id,name:N.name}))),D},Xe=async D=>{const{error:N}=await re.from("users").insert([D]);if(N)throw N;Y()},We=async D=>{const{error:N}=await re.from("employees").insert([D]);if(N)throw N;ae()},Rt=async D=>{const{error:N}=await re.from("managers").insert([D]);if(N)throw N;le()},mr=async D=>{try{const{data:N,error:Z}=await re.from("clients").insert([{...D,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(Z)throw console.error("Error creating client:",Z),Z;console.log("Client created successfully:",N),await ie();const J=(t==null?void 0:t.name)||"사용자",pe=M((t==null?void 0:t.id)||"");await Se("customer",`${J} ${pe}님이 새로운 고객을 추가하였습니다. (${Ke(new Date,"yyyy-MM-dd HH:mm",{locale:Yr})})`,t==null?void 0:t.id)}catch(N){throw console.error("Error in createClient:",N),N}},zr=async D=>{try{console.log("🏢 부서 생성 시작:",D);const{data:N,error:Z}=await re.from("departments").insert([{name:D.name,code:D.code,description:D.description||"",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(Z)throw console.error("❌ 부서 생성 오류:",Z),Z;console.log("✅ 부서 생성 성공:",N),await Ze(),console.log("🔄 부서 목록 새로고침 완료")}catch(N){throw console.error("❌ createDepartment 함수 오류:",N),N}},ma=async D=>{const{error:N}=await re.from("positions").insert([D]);if(N)throw N;Qe()},yo=async D=>{try{const N={name:D.name,description:D.description||null,color:D.color||"#3b82f6",order_index:D.order,is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:Z,error:J}=await re.from("phases").insert([N]).select().single();if(J)throw console.error("Error creating phase:",J),J;console.log("Phase created successfully:",Z),await V()}catch(N){throw console.error("Error in createPhase:",N),N}},En=async D=>{const{error:N}=await re.from("corporations").insert([D]);if(N)throw N;E()},Bl=async(D,N)=>{const{error:Z}=await re.from("users").update(N).eq("id",D);if(Z)throw Z;Y()},eu=async(D,N)=>{const{error:Z}=await re.from("employees").update(N).eq("id",D);if(Z)throw Z;ae()},wf=async(D,N)=>{const{error:Z}=await re.from("managers").update(N).eq("id",D);if(Z)throw Z;le()},bf=async(D,N)=>{const{error:Z}=await re.from("departments").update(N).eq("id",D);if(Z)throw Z;Ze()},jf=async(D,N)=>{const{error:Z}=await re.from("positions").update(N).eq("id",D);if(Z)throw Z;Qe()},Nf=async(D,N)=>{try{const Z={updated_at:new Date().toISOString()};N.name!==void 0&&(Z.name=N.name),N.description!==void 0&&(Z.description=N.description||null),N.color!==void 0&&(Z.color=N.color),N.order!==void 0&&(Z.order_index=N.order);const{error:J}=await re.from("phases").update(Z).eq("id",D);if(J)throw console.error("Error updating phase:",J),J;console.log("Phase updated successfully"),await V()}catch(Z){throw console.error("Error in updatePhase:",Z),Z}},_f=async(D,N)=>{const{error:Z}=await re.from("corporations").update(N).eq("id",D);if(Z)throw Z;E()},ci=async D=>{const{error:N}=await re.from("users").delete().eq("id",D);if(N)throw N;Y()},di=async D=>{const{error:N}=await re.from("employees").delete().eq("id",D);if(N)throw N;ae()},tu=async D=>{const{error:N}=await re.from("managers").delete().eq("id",D);if(N)throw N;le()},kf=async D=>{const{error:N}=await re.from("clients").delete().eq("id",D);if(N)throw N;ie()},Vl=async D=>{const{error:N}=await re.from("departments").delete().eq("id",D);if(N)throw N;Ze()},ru=async D=>{const{error:N}=await re.from("positions").delete().eq("id",D);if(N)throw N;Qe()},Sf=async D=>{try{const{error:N}=await re.from("phases").update({is_active:!1,updated_at:new Date().toISOString()}).eq("id",D);if(N)throw console.error("Error deleting phase:",N),N;console.log("Phase deleted successfully"),await V()}catch(N){throw console.error("Error in deletePhase:",N),N}},Cf=async D=>{const{error:N}=await re.from("corporations").delete().eq("id",D);if(N)throw N;E()},Df=async D=>{try{const{error:N}=await re.from("subtasks").insert([{project_id:D.projectId,parent_task_id:D.parentTaskId,title:D.title,description:D.description,status:D.status,priority:D.priority,progress:0,start_date:new Date().toISOString(),due_date:D.dueDate,assigned_to:D.assignedTo,department:D.department}]);if(N)throw N}catch(N){throw console.error("Error creating subtask:",N),N}},Pf=D=>{const N=l.filter(J=>J.projectId===D);if(N.length===0)return 0;const Z=N.reduce((J,pe)=>{let Fe=pe.progress||0;switch(pe.status){case"completed":Fe=100;break;case"in-progress":break;case"not-started":case"pending":Fe=0;break}return J+Fe},0);return Math.round(Z/N.length)},Tf=async D=>{try{const{data:N,error:Z}=await re.from("work_journals").insert([{project_id:D.project_id,task_id:D.task_id,content:D.content,status:D.status,author_id:D.author_id,author_name:D.author_name,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(Z)throw console.error("Error creating work journal:",Z),Z;console.log("Work journal created successfully:",N),await hi();const J=(t==null?void 0:t.name)||"사용자",pe=M((t==null?void 0:t.id)||"");await Se("journal",`${J} ${pe}님이 금일 업무 일지를 작성하였습니다. (${Ke(new Date,"yyyy-MM-dd HH:mm",{locale:Yr})})`,t==null?void 0:t.id)}catch(N){throw console.error("Error in createWorkJournal:",N),N}},ui=async(D,N)=>{try{const Z={updated_at:new Date().toISOString()};N.content!==void 0&&(Z.content=N.content),N.status!==void 0&&(Z.status=N.status);const{error:J}=await re.from("work_journals").update(Z).eq("id",D);if(J)throw J;await hi()}catch(Z){throw console.error("Error updating work journal:",Z),Z}},Ef=async D=>{try{const{error:N}=await re.from("work_journals").delete().eq("id",D);if(N)throw N;await hi()}catch(N){throw console.error("Error deleting work journal:",N),N}},hi=async()=>{try{const{data:D,error:N}=await re.from("work_journals").select(`
          *,
          files:work_journal_files(*),
          collaborators:work_journal_collaborators(*)
        `).order("created_at",{ascending:!1});if(N){console.error("Error loading work journals:",N);return}console.log("Raw work journal data from Supabase:",D);const Z=(D||[]).map(J=>({id:J.id,project_id:J.project_id,task_id:J.task_id,content:J.content||"",status:J.status,author_id:J.author_id,author_name:J.author_name,created_at:J.created_at,updated_at:J.updated_at,files:J.files||[],collaborators:J.collaborators||[]}));console.log("Mapped work journal data:",Z),_(Z)}catch(D){console.error("Error in loadWorkJournals:",D)}},Ps=async()=>{try{console.log("🔍 상태 목록 로딩 시작..."),console.log("🔍 statuses 테이블에서 데이터 조회 중...");const{data:D,error:N}=await re.from("statuses").select("*").eq("is_active",!0).order("status_type_id, order_index");if(console.log("🔍 Supabase 조회 결과:",{data:(D==null?void 0:D.length)||0,error:N}),D&&!N&&D.length>0){console.log("📊 Supabase 원본 데이터:",D);const J=D.map(pe=>{let Fe="project";return pe.status_type_id==="2"?Fe="task":pe.status_type_id==="3"?Fe="priority":pe.status_type_id==="4"&&(Fe="promotion"),{id:pe.id,name:pe.name,description:pe.description||"",color:pe.color,order_index:pe.order_index,is_active:pe.is_active,status_type_id:pe.status_type_id,status_type:Fe,created_at:pe.created_at,updated_at:pe.updated_at}});console.log("📊 매핑된 상태 데이터:",J),O(J),console.log("✅ Supabase에서 상태 데이터 로드 성공:",J.length,"개"),console.log("📈 프로젝트 상태:",J.filter(pe=>pe.status_type==="project").length,"개"),console.log("📈 업무 상태:",J.filter(pe=>pe.status_type==="task").length,"개"),console.log("📈 우선순위:",J.filter(pe=>pe.status_type==="priority").length,"개"),console.log("📈 프로모션 단계:",J.filter(pe=>pe.status_type==="promotion").length,"개");return}console.log("⚠️ Supabase 상태 테이블에서 데이터를 가져올 수 없습니다. 기본 상태를 사용합니다."),console.log("⚠️ 오류 원인:",N);const Z=[{id:"1",name:"계획중",description:"Project planning phase",color:"#3b82f6",order_index:1,is_active:!0,status_type_id:"1",status_type:"project",translationKey:"statusPlanning",descriptionKey:"statusPlanningDesc",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"2",name:"진행중",description:"Project in progress",color:"#f59e0b",order_index:2,is_active:!0,status_type_id:"1",status_type:"project",translationKey:"statusInProgress",descriptionKey:"statusInProgressDesc",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"3",name:"완료",description:"Project completed",color:"#10b981",order_index:3,is_active:!0,status_type_id:"1",status_type:"project",translationKey:"statusCompleted",descriptionKey:"statusCompletedDesc",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"4",name:"보류",description:"Project on hold",color:"#6b7280",order_index:4,is_active:!0,status_type_id:"1",status_type:"project",translationKey:"statusOnHold",descriptionKey:"statusOnHoldDesc",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"5",name:"할 일",description:"Tasks to be performed",color:"#8b5cf6",order_index:1,is_active:!0,status_type_id:"2",status_type:"task",translationKey:"statusTodo",descriptionKey:"statusTodoDesc",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"6",name:"진행중",description:"Currently in progress",color:"#f59e0b",order_index:2,is_active:!0,status_type_id:"2",status_type:"task",translationKey:"statusDoing",descriptionKey:"statusDoingDesc",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"7",name:"검토중",description:"Tasks under review",color:"#06b6d4",order_index:3,is_active:!0,status_type_id:"2",status_type:"task",translationKey:"statusReviewing",descriptionKey:"statusReviewingDesc",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"8",name:"완료",description:"Completed tasks",color:"#10b981",order_index:4,is_active:!0,status_type_id:"2",status_type:"task",translationKey:"statusDone",descriptionKey:"statusDoneDesc",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"9",name:"낮음",description:"Low priority",color:"#6b7280",order_index:1,is_active:!0,status_type_id:"3",status_type:"priority",translationKey:"priorityLow",descriptionKey:"priorityLowDesc",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"10",name:"보통",description:"Normal priority",color:"#3b82f6",order_index:2,is_active:!0,status_type_id:"3",status_type:"priority",translationKey:"priorityNormal",descriptionKey:"priorityNormalDesc",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"11",name:"높음",description:"High priority",color:"#f59e0b",order_index:3,is_active:!0,status_type_id:"3",status_type:"priority",translationKey:"priorityHigh",descriptionKey:"priorityHighDesc",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"12",name:"긴급",description:"Urgent priority",color:"#ef4444",order_index:4,is_active:!0,status_type_id:"3",status_type:"priority",translationKey:"priorityUrgent",descriptionKey:"priorityUrgentDesc",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}];O(Z)}catch(D){console.error("❌ 상태 로드 중 오류 발생:",D);const N=[{id:"1",name:"계획중",description:"Project planning phase",color:"#3b82f6",order_index:1,is_active:!0,status_type_id:"1",status_type:"project",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"2",name:"진행중",description:"Project in progress",color:"#f59e0b",order_index:2,is_active:!0,status_type_id:"1",status_type:"project",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"3",name:"완료",description:"Project completed",color:"#10b981",order_index:3,is_active:!0,status_type_id:"1",status_type:"project",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}];O(N)}},Mf={currentUser:t,setCurrentUser:r,users:n,projects:o,tasks:l,clients:u,notifications:m,departments:p,positions:g,phases:y,corporations:w,employees:k,managers:C,workJournals:W,statuses:R,addProject:F,updateProject:G,removeProject:q,deleteProject:de,addTask:z,updateTask:ee,deleteTask:U,removeTask:S,addClient:K,updateClient:te,removeClient:Q,markNotificationAsRead:oe,markAllNotificationsAsRead:xe,addNotification:Ne,createUser:Xe,createEmployee:We,createManager:Rt,createClient:mr,createDepartment:zr,createPosition:ma,createPhase:yo,createCorporation:En,updateUser:Bl,updateEmployee:eu,updateManager:wf,updateDepartment:bf,updatePosition:jf,updatePhase:Nf,updateCorporation:_f,deleteUser:ci,deleteEmployee:di,deleteManager:tu,deleteClient:kf,deleteDepartment:Vl,deletePosition:ru,deletePhase:Sf,deleteCorporation:Cf,createSubTask:Df,calculateProjectProgress:Pf,createWorkJournal:Tf,updateWorkJournal:ui,deleteWorkJournal:Ef,loadWorkJournals:hi,loadStatuses:Ps,createStatus:async D=>{try{console.log("🔍 상태 생성 함수 시작"),console.log("입력 데이터:",D);const N={name:D.name,description:D.description,color:D.color,order_index:D.order_index,is_active:D.is_active,status_type_id:D.status_type_id};console.log("🔍 Supabase 삽입 데이터:",N);const{data:Z,error:J}=await re.from("statuses").insert([N]).select().single();if(console.log("🔍 Supabase 응답 데이터:",Z),console.log("🔍 Supabase 오류:",J),Z&&!J){console.log("✅ Supabase에 상태 생성 성공:",Z),console.log("🔄 상태 목록 새로고침 중..."),await Ps(),console.log("✅ 상태 목록 새로고침 완료");return}else console.log("⚠️ Supabase 상태 생성 실패, 로컬에만 저장"),console.log("⚠️ 오류 상세:",J);const pe={id:`local-${Date.now()}`,...D,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};console.log("📝 로컬 상태 저장:",pe),O(Fe=>[...Fe,pe])}catch(N){console.error("❌ 상태 생성 중 예외 발생:",N);const Z={id:`local-${Date.now()}`,...D,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};console.log("📝 예외 발생 시 로컬 상태 저장:",Z),O(J=>[...J,Z])}},updateStatus:async(D,N)=>{try{console.log("🔍 상태 수정 시작:",D,N);const Z={updated_at:new Date().toISOString()};N.name!==void 0&&(Z.name=N.name),N.description!==void 0&&(Z.description=N.description),N.color!==void 0&&(Z.color=N.color),N.order_index!==void 0&&(Z.order_index=N.order_index),N.is_active!==void 0&&(Z.is_active=N.is_active),console.log("🔍 Supabase 업데이트 데이터:",Z);const{error:J}=await re.from("statuses").update(Z).eq("id",D);J?(console.log("⚠️ Supabase 상태 업데이트 실패:",J),O(pe=>pe.map(Fe=>Fe.id===D?{...Fe,...N,updated_at:new Date().toISOString()}:Fe))):(console.log("✅ Supabase에서 상태 업데이트 성공"),await Ps())}catch(Z){console.error("❌ 상태 업데이트 중 오류:",Z),O(J=>J.map(pe=>pe.id===D?{...pe,...N,updated_at:new Date().toISOString()}:pe))}},deleteStatus:async D=>{try{console.log("🔍 상태 삭제 시작:",D);const{error:N}=await re.from("statuses").delete().eq("id",D);N?(console.log("⚠️ Supabase 상태 삭제 실패:",N),O(Z=>Z.filter(J=>J.id!==D))):(console.log("✅ Supabase에서 상태 삭제 성공"),await Ps())}catch(N){console.error("❌ 상태 삭제 중 오류:",N),O(Z=>Z.filter(J=>J.id!==D))}},getProjectStatuses:()=>R.filter(D=>D.status_type==="project"&&D.is_active).sort((D,N)=>D.order_index-N.order_index),getTaskStatuses:()=>R.filter(D=>D.status_type==="task"&&D.is_active).sort((D,N)=>D.order_index-N.order_index),getPriorityStatuses:()=>R.filter(D=>D.status_type==="priority"&&D.is_active).sort((D,N)=>D.order_index-N.order_index),createNotification:Se,deleteNotification:Je,getUserNameById:ne,getUserById:P,getAssigneeNames:L,getIntegratedAssignees:H};return s.jsx(VN.Provider,{value:Mf,children:e})},yt=()=>{const e=h.useContext(VN);if(e===void 0)throw new Error("useAppContext must be used within an AppProvider");return e},zR={global:{searchPlaceholder:"Search...",dashboard:"Dashboard",projects:"Projects",tasks:"Tasks",team:"Team",calendar:"Calendar",reports:"Reports",clients:"Clients",settings:"Settings",logout:"Logout",profile:"Profile",admin:"Admin",notifications:"Notifications",language:"Language",save:"Save",cancel:"Cancel",edit:"Edit",delete:"Delete",add:"Add",filter:"Filter",sort:"Sort",status:"Status",priority:"Priority",deadline:"Deadline",search:"Search",loading:"Loading...",checkingAuth:"Checking authentication...",actions:"Actions",country:"Country",update:"Update",error:"Error",name:"Name",description:"Description",createdAt:"Created At",updatedAt:"Updated At",confirm:"Confirm",success:"Success",home:"Home",new:"New",viewAll:"View All",view:"View",noData:"No Data",details:"Details",progress:"Progress",client:"client",unset:"unset",department:"Department",sales:"Sales",development:"Development",manufacturing:"Manufacturing",quality:"Quality",finance:"Finance",administration:"Administration",management:"Management",engineering:"Engineering",rnd:"R&D",production:"Production",qa:"QA",adminPanel:"Admin Panel",userManagement:"User Management",employeeManagement:"Employee Management",managerManagement:"Manager Management",clientManagement:"Client Management",corporationManagement:"Corporation Management",positionManagement:"Position Management",departmentManagement:"Department Management",dataManagement:"Data Management",settingsManagement:"Settings Management",competitorManagement:"Competitor Management",statusManagement:"Status Management",create:"Create",register:"Register",modify:"Modify",remove:"Remove",submit:"Submit",reset:"Reset",backup:"Backup",restore:"Restore",optimize:"Optimize",export:"Export",import:"Import",cleanup:"Cleanup",saving:"Saving...",processing:"Processing...",deleting:"Deleting...",creating:"Creating...",updating:"Updating...",selectDepartment:"Select Department",selectPosition:"Select Position",selectCorporation:"Select Corporation",selectCountry:"Select Country",noDataAvailable:"No data available",noResultsFound:"No results found",required:"This field is required",minLength:"Minimum {0} characters required",invalidEmail:"Please enter a valid email address",passwordMismatch:"Passwords do not match",headquarters:"Headquarters",salesOffice:"Sales Office",factory:"Factory",manageCorporationInfo:"Manage corporation information.",registerNewCorporation:"Register New Corporation",searchCorporation:"Search corporations...",corporationType:"Corporation Type",all:"All",corporationName:"Corporation Name",code:"Code",type:"Type",modifyCorporation:"Modify Corporation",enterCorporationName:"Enter corporation name",enterCode:"Enter code",enterCountry:"Enter country",selectCorporationType:"Select corporation type",deleteCorporation:"Delete Corporation",confirmDeleteCorporation:"Are you sure you want to delete this corporation? This action cannot be undone.",projectStatus:"Project Status",taskStatus:"Task Status",priorityLevel:"Priority Level",statusName:"Status Name",statusColor:"Status Color",statusDescription:"Status Description",statusOrder:"Order",statusActive:"Active",statusInactive:"Inactive",addNewStatus:"Add New Status",editStatus:"Edit Status",deleteStatus:"Delete Status",confirmDeleteStatus:"Are you sure you want to delete this status?",statusAddedSuccess:"Status added successfully",statusUpdatedSuccess:"Status updated successfully",statusDeletedSuccess:"Status deleted successfully",enterStatusName:"Enter status name",enterStatusDescription:"Enter status description",selectStatusColor:"Select status color",projectStatusManagement:"Project Status Management",taskStatusManagement:"Task Status Management",priorityManagement:"Priority Management",manageProjectStatuses:"Manage project statuses",manageTaskStatuses:"Manage task statuses",managePriorities:"Manage priority levels",statusPlanning:"Planning",statusInProgress:"In Progress",statusCompleted:"Completed",statusOnHold:"On Hold",statusTodo:"To Do",statusDoing:"In Progress",statusReviewing:"Reviewing",statusDone:"Done",priorityLow:"Low",priorityNormal:"Normal",priorityHigh:"High",priorityUrgent:"Urgent",statusPlanningDesc:"Project planning phase",statusInProgressDesc:"Project in progress",statusCompletedDesc:"Project completed",statusOnHoldDesc:"Project on hold",statusTodoDesc:"Tasks to be performed",statusDoingDesc:"Currently in progress",statusReviewingDesc:"Tasks under review",statusDoneDesc:"Completed tasks",priorityLowDesc:"Low priority",priorityNormalDesc:"Normal priority",priorityHighDesc:"High priority",priorityUrgentDesc:"Urgent priority"},login:{title:"Login",description:"Sign in to your account",email:"Email",password:"Password",rememberMe:"Remember me",forgotPassword:"Forgot password?",login:"Login",noAccount:"Don't have an account?",register:"Register",processing:"Processing...",or:"or",registerAccount:"Register Account"},register:{title:"Create an Account",description:"Register a new account",name:"Name",email:"Email",password:"Password",confirmPassword:"Confirm Password",department:"Department",position:"Position",terms:"I agree to the terms and conditions",register:"Register",haveAccount:"Already have an account?",alreadyHaveAccount:"Already have an account?",login:"Login",processing:"Processing...",namePlaceholder:"John Doe",emailPlaceholder:"your_email@example.com",passwordPlaceholder:"********",acceptTerms:"I accept the terms and conditions",passwordStrength:"Password strength",veryWeak:"Very weak",weak:"Weak",medium:"Medium",strong:"Strong",veryStrong:"Very strong"},forgotPassword:{title:"Forgot Password",description:"We'll send you a link to reset your password",email:"Email",submit:"Submit",sendLink:"Send Link",backToLogin:"Back to Login",processing:"Processing...",success:"Success",successMessage:"Password reset link sent",successDescription:"Please check your email",errorMessage:"An error occurred. Please try again"},team:{title:"Team Status",subTitle:"Department Team Status",corporation:"Corporation",executive:"Executive",employeeList:"Employee List",position:"Position",contact:"Contact",actions:"Actions",viewDetails:"View Details",sendMessage:"Send Message",completionRate:"Completion Rate",progressRate:"Progress Rate",departmentDistribution:"Department Distribution",staffCount:"Staff Count",completionRateByDepartment:"Completion Rate by Department",progressRateByDepartment:"Progress Rate by Department",employees:"Employees",details:"Details",message:"Message",email:"Email",noData:"No data",byDepartment:"By Department",byExecutive:"By Executive",byEmployee:"By Employee",byCompany:"By Company",teamCorporation:"Team Corporation",teamDepartment:"Team Department",teamExecutive:"Team Executive",members:"Members",tasks:"Tasks",projects:"Projects",performance:"Performance",name:"Name",role:"Role",department:"Department",phone:"Phone",taskProgress:"Task Progress",assignedTasks:"Assigned Tasks",completedTasks:"Completed Tasks",pendingTasks:"Pending Tasks",overduePercent:"Overdue Percent",noDepartmentData:"No Department Data"},profile:{title:"Profile",personalInfo:"Personal Information",personalInfoDescription:"Manage your personal information and account settings",name:"Name",email:"Email",department:"Department",position:"Position",contact:"Contact",changePassword:"Change Password",currentPassword:"Current Password",newPassword:"New Password",confirmPassword:"Confirm Password",update:"Update",cancel:"Cancel",passwordChange:"Password Change",accountSettings:"Account Settings",accountSettingsDescription:"Manage account-related settings.",loginInfo:"Login Information",loginMethod:"Login Method",lastLogin:"Last Login",saving:"Saving...",save:"Save",deleteAccount:"Delete Account",deleteWarning:"Deleting your account will remove all your data. This action cannot be undone.",deleteConfirm:"Are you sure you want to delete your account?"},sidebar:{profile:"Profile",logout:"Logout",home:"Home",dashboard:"Dashboard",projects:"Projects",tasks:"Tasks",team:"Team",teamCorporation:"By Corporation",teamDepartment:"By Department",teamExecutive:"By Executive",calendar:"Calendar",reports:"Reports",clients:"Clients",settings:"Settings",admin:"Admin",clientsAndPartners:"Clients & Partners",taskManagement:"Task Management",taskJournal:"Task Journal",taskJournalList:"Task Journal List",byCompany:"By Company",byDepartment:"By Department",byExecutive:"By Executive",byEmployee:"By Employee",adminPanel:"Admin Panel",notifications:"Notifications",online:"Online",systemStatus:"System Normal",serverStatus:"Server Status: Good",currentPage:"Current"},intro:{start:"Get Started",login:"Login",teamCollaboration:"A New Way to Collaborate",description:"Manage your tasks and projects efficiently while collaborating with your team",keyFeatures:"Key Features",taskJournal:"Task Journal",taskJournalDesc:"Record and share daily tasks",calendar:"Calendar",calendarDesc:"Schedule management and reminders",teamManagement:"Team Management",teamManagementDesc:"Team organization and task assignment",dataManagement:"Data Management",dataManagementDesc:"Client and partner management",allRightsReserved:"All Rights Reserved"},dashboard:{welcomeBack:"Welcome Back",summary:"Summary",recentTasks:"Recent Tasks",upcomingDeadlines:"Upcoming Deadlines",projectProgress:"Project Progress",tasksByDepartment:"Tasks by Department",recentDocuments:"Recent Documents",productSchedule:"Product Schedule",viewAll:"View All",taskStatus:"Task Status",pending:"Pending",inProgress:"In Progress",completed:"Completed",overdue:"overdue",today:"Today",noTasks:"No tasks",noDeadlines:"No deadlines",noDocuments:"No documents",totalProgress:"Total Progress",completedTasks:"Completed Tasks",inProgressTasks:"In Progress Tasks",delayedTasks:"Delayed Tasks",outOf:"out of",recentFiles:"Recent Files",byDepartment:"By Department",overview:"Overview",schedule:"Schedule",daysLeft:"days left",daysOverdue:"days overdue",dueToday:"due today",projectPhases:"Project Phases",todaysTasks:"Today's Tasks",upcomingTasks:"Upcoming Tasks",departmentStatistics:"Department Statistics",salesDepartment:"Sales Department",developmentDepartment:"Development Department",qualityDepartment:"Quality Department",manufacturingDepartment:"Manufacturing Department",productionDepartment:"Production Department",managementDepartment:"Management Department",administrationDepartment:"Administration Department",financeDepartment:"Finance Department",engineeringDepartment:"Engineering Department",rndDepartment:"R&D Department",qaDepatment:"QA Department",tasksCompleted:"Tasks Completed",tasksInProgress:"Tasks In Progress",tasksDelayed:"Tasks Delayed",tasksPending:"Tasks Pending",departments:"Departments",deadlinesToday:"Deadlines Today",deadlinesThisWeek:"Deadlines This Week",staffStatus:"Staff Status",staffCount:"Staff Count",staffByDepartment:"Staff by Department",staffProjects:"Staff Projects",staffSchedule:"Staff Schedule",staffWorkload:"Staff Workload",staffMembers:"Staff Members",staffNoTasks:"No tasks assigned",staffWorkloadByDepartment:"Staff Workload by Department",staffWorkloadByIndividual:"Staff Workload by Individual",memberCount:"Members",projectComplete:"Complete",projectProgressAverage:"Average project progress",documentTypeMarketResearch:"Market Research",documentTypeCostAnalysis:"Cost Analysis",documentTypeDrawing:"Drawing",documentTypeCertification:"Certification",documentTypeEquipment:"Equipment",documentTypeRawMaterial:"Raw Material",documentTypeOther:"Other",view:"View",staffProjectOverview:"Staff Project Overview",allDepartments:"All Departments",allStatus:"All Status",staffName:"Staff Name",clientName:"Client",period:"Period",duration:"Duration",unassigned:"Unassigned",planned:"Planned",noMatchingProjects:"No matching projects found.",recentProjects:"Recent Projects",completionRateLabel:"Completion Rate",dueDate:"Due Date",staffProjectRegistrationRate:"Staff Project Registration Rate",staffTaskRegistrationRate:"Staff Task Registration Rate",staffProjectCompletionRate:"Staff Project Completion Rate",staffTaskCompletionRate:"Staff Task Completion Rate",staffWorkDetails:"Staff Work Details",projectsRegistered:"Projects Registered",tasksRegistered:"Tasks Registered",projectsCompleted:"Projects Completed",overallProgress:"Overall Progress",workloadAnalysis:"Workload Analysis",registrationStats:"Registration Statistics",completionStats:"Completion Statistics",goodMorning:"Good morning",goodAfternoon:"Good afternoon",goodEvening:"Good evening",hello:"Hello",teamCollaborationMessage:"Achieve better results together with your team",staffProjectProgress:"Staff Project Progress",staffWorkPerformanceRanking:"Staff Work Performance Ranking",realTimeUpdate:"Real-time Update",departmentTaskStatus:"Department Task Status",staffProjectStatus:"Staff Project Status",staffWorkTab:"Staff Work",staffRankingTab:"Staff Ranking"},notification:{title:"Notifications",markAllAsRead:"Mark All as Read",noNotifications:"No notifications",showMore:"Show More",showLess:"Show Less",all:"All",unread:"Unread",today:"Today",thisWeek:"This Week",thisMonth:"This Month",journal:{created:"New journal entry created",createdAt:"Created at"}},projects:{title:"Projects",subtitle:"All Projects",new:"New Project",filter:"Filter",status:"Status",progress:"Progress",deadline:"Deadline",members:"Members",viewDetails:"View Details",edit:"Edit",delete:"Delete",allProjects:"All Projects",activeProjects:"Active Projects",completedProjects:"Completed Projects",name:"Name",description:"Description",client:"Client",department:"Department",startDate:"Start Date",dueDate:"Due Date",manager:"Manager",createProject:"Create Project",updateProject:"Update Project",details:"Details",tasks:"Tasks",team:"Team",addTask:"Add Task",addMember:"Add Member",noProjects:"No projects",createFirst:"Create your first project",type:"Type",requestDate:"Request Date",targetSOPDate:"Target SOP Date",phase:"Phase",assignee:"Assignee",statusCompleted:"Completed",statusActive:"Active",statusDelayed:"Delayed",statusOnHold:"On Hold",phasePlanning:"Planning",phaseDevelopment:"Development",phaseManufacturing:"Manufacturing",phaseQuality:"Quality",phaseProduction:"Production",phaseSales:"Sales",clientName:"Client",projectType:"Project Type",assignedDepartment:"Assigned Department",currentPhase:"Current Phase",targetProductionDate:"Target Production Date",projectCompletionRate:"Project Completion Rate",parentProject:"Parent Project",subProjects:"Sub Projects",relatedTasks:"Related Tasks",noRelatedTasks:"No related tasks.",unassigned:"Unassigned",subtaskProgress:"Subtask Progress",priority:"Priority",priorityHigh:"High",priorityMedium:"Medium",priorityLow:"Low",subtasks:"Subtasks",add:"Add",moreItems:"more",count:"count",days:"days",remaining:"remaining",overdue:"overdue",dueToday:"due today",completionRateLabel:"Completion Rate",recentProjects:"Recent Projects"},clients:{title:"Clients",description:"Manage client and partner information",new:"New Client",filter:"Filter",viewDetails:"View Details",edit:"Edit",delete:"Delete",allClients:"All Clients",activeClients:"Active Clients",inactiveClients:"Inactive Clients",name:"Name",company:"Company",email:"Email",phone:"Phone",address:"Address",createClient:"Create Client",updateClient:"Update Client",details:"Details",projects:"Projects",contacts:"Contacts",addProject:"Add Project",addContact:"Add Contact",noClients:"No clients",createFirst:"Create your first client",clientsList:"Clients List",partnersList:"Partners List",newPartner:"New Partner",contactPerson:"Contact Person",contactEmail:"Contact Email",salesRep:"Sales Rep",country:"Country",requirements:"Requirements",clientDB:"Client Database",addClient:"Add Client",clientList:"Client List",searchClientOrRep:"Search by client name or rep",noCustomersFound:"No customers found. Add your first customer!",addNewClient:"Add New Client",editClientInfo:"Edit Client Information",clientAddSuccess:"Client Added Successfully",clientAddedDescription:"client has been added.",clientUpdateSuccess:"Client Updated Successfully",clientUpdatedDescription:"client information has been updated.",clientProjects:"Client Projects",clientProjectDescription:"View project progress status for each client",searchClientsPlaceholder:"Search clients..."},calendar:{title:"Calendar",subtitle:"Schedule Management",new:"New Event",filter:"Filter",day:"Day",week:"Week",month:"Month",agenda:"Agenda",today:"Today",previous:"Previous",next:"Next",addEvent:"Add Event",editEvent:"Edit Event",deleteEvent:"Delete Event",eventName:"Event Name",startDate:"Start Date",endDate:"End Date",description:"Description",save:"Save",cancel:"Cancel",delete:"Delete",noEvents:"No events",createFirst:"Create your first event"},reports:{title:"Reports",subtitle:"Reports and Analytics",taskStatus:"Task Status",projectProgress:"Project Progress",byDepartment:"By Department",byCorporation:"By Corporation",timeFrame:"Time Frame",lastWeek:"Last Week",lastMonth:"Last Month",lastQuarter:"Last Quarter",lastYear:"Last Year",custom:"Custom",exportPDF:"Export to PDF",exportExcel:"Export to Excel",summary:"Summary",details:"Details",noData:"No data available",generateReport:"Generate Report",loading:"Loading...",completed:"Completed",inProgress:"In Progress",notStarted:"Not Started",pending:"Pending"},admin:{title:"Admin",subtitle:"System Management",userManagement:"User Management",dataManagement:"Data Management",systemSettings:"System Settings",systemInfo:"System Information",users:"Users",newUser:"New User",editUser:"Edit User",deleteUser:"Delete User",userDetails:"User Details",database:"Database",backup:"Backup",restore:"Restore",settings:"Settings",general:"General",security:"Security",notifications:"Notifications",system:"System",version:"Version",lastUpdated:"Last Updated",status:"Status",logs:"Logs",permissions:"Permissions",roles:"Roles",newRole:"New Role",editRole:"Edit Role",deleteRole:"Delete Role",roleDetails:"Role Details"},tasks:{title:"Tasks",subtitle:"All tasks list and progress status",new:"New Task",newTask:"New Task",filter:"Filter",filterByStatus:"Filter by Status",filterByPriority:"Filter by Priority",filterByAssignee:"Filter by Assignee",sort:"Sort",sortByDueDate:"Sort by Due Date",sortByPriority:"Sort by Priority",sortByStatus:"Sort by Status",viewDetails:"View Details",edit:"Edit",delete:"Delete",allTasks:"All Tasks",myTasks:"My Tasks",name:"Name",description:"Description",status:"Status",priority:"Priority",dueDate:"Due Date",assignedTo:"Assignee",project:"Project",createTask:"Create Task",updateTask:"Update Task",details:"Details",subtasks:"Subtasks",comments:"Comments",files:"Files",addSubtask:"Add Subtask",addComment:"Add Comment",uploadFile:"Upload File",noTasks:"No tasks",createFirst:"Create your first task",department:"Department",search:"Search",all:"All",completed:"Completed",inProgress:"In Progress",delayed:"Delayed",overdue:"Overdue",taskDetails:"Task Details",taskJournal:"Task Journal",taskJournalList:"Task Journal List",searchPlaceholder:"Search task name or content...",allDepartments:"All Departments",allStatus:"All Status",statusNotStarted:"Not Started",statusInProgress:"In Progress",statusCompleted:"Completed",statusDelayed:"Delayed",taskJournalDescription:"Create and manage journals for registered tasks",createJournal:"Create Task Journal",totalJournals:"Total Journals",urgent:"Urgent",databaseConnectionProgress:"Database Connection Progress",sqlConnectionProgress:"SQL Connection Progress",competitorAnalysis:"Competitor Analysis",competitorAnalysisDescription:"Competitor sample received and analysis completed comparing competitor and Coilmaster samples",daysRemaining:"days remaining",progressPercent:"Progress",completionRate:"Completion Rate",진행중:"In Progress",완료:"Completed",지연:"Delayed"},taskDetails:{description:"View and manage detailed task information",completionRate:"Completion Rate",assignedTo:"Assigned To",startDate:"Start Date",dueDate:"Due Date",taskDescription:"Task Description",attachments:"Attachments",dependencies:"Dependencies",subtasks:"Subtasks",addSubtask:"Add Subtask",noSubtasks:"No subtasks. Add a new task.",daysLeft:"days left",daysOverdue:"days overdue",dueToday:"due today",overdue:"overdue",priorityHigh:"High",priorityMedium:"Medium",priorityLow:"Low",statusCompleted:"Completed",statusInProgress:"In Progress",statusDelayed:"Delayed",statusNotStarted:"Not Started",taskJournalDescription:"Create and manage journals for registered tasks",createJournal:"Create Task Journal"},taskCreate:{title:"Create New Task",name:"Task Name",description:"Description",project:"Project",department:"Department",status:"Status",priority:"Priority",startDate:"Start Date",dueDate:"Due Date",assignTo:"Assign To",dependencies:"Dependencies",save:"Save",cancel:"Cancel",selectProject:"Select Project",selectDepartment:"Select Department",selectStatus:"Select Status",selectPriority:"Select Priority",selectAssignee:"Select Assignee",selectDependencies:"Select Dependencies"},subtaskCreate:{title:"Create Subtask",parentTask:"Parent Task",createSubtask:"Create Subtask",name:"Task Name",description:"Description",department:"Department",status:"Status",priority:"Priority",startDate:"Start Date",dueDate:"Due Date",assignTo:"Assign To",save:"Save",cancel:"Cancel",high:"High",medium:"Medium",low:"Low",selectDepartment:"Select Department",urgent:"Urgent"}},UR={searchPlaceholder:"검색...",dashboard:"대시보드",projects:"프로젝트",tasks:"업무",team:"팀",calendar:"일정",reports:"보고서",clients:"고객",settings:"설정",logout:"로그아웃",profile:"프로필",admin:"관리자",department:"부서",notifications:"알림",language:"언어",save:"저장",cancel:"취소",edit:"수정",delete:"삭제",add:"추가",filter:"필터",sort:"정렬",status:"상태",priority:"우선순위",deadline:"마감일",search:"검색",loading:"로딩중...",checkingAuth:"인증 확인 중...",actions:"작업",country:"국가",update:"업데이트",error:"오류",name:"이름",description:"설명",createdAt:"생성일",updatedAt:"수정일",confirm:"확인",success:"성공",home:"홈",new:"새로 만들기",viewAll:"전체 보기",view:"보기",noData:"데이터 없음",details:"상세보기",progress:"진행률",client:"고객",unset:"미정",sales:"영업부",development:"개발부",manufacturing:"제조부",quality:"품질부",finance:"재무부",administration:"관리부",management:"경영부",engineering:"엔지니어링부",rnd:"연구개발부",production:"생산부",qa:"품질관리부",adminPanel:"관리자 패널",userManagement:"사용자 관리",employeeManagement:"직원 관리",managerManagement:"담당자 관리",clientManagement:"고객사 관리",corporationManagement:"법인 관리",positionManagement:"직책 관리",departmentManagement:"부서 관리",dataManagement:"데이터 관리",settingsManagement:"설정 관리",competitorManagement:"경쟁사 관리",statusManagement:"상태 관리",create:"생성",register:"등록",modify:"수정",remove:"삭제",submit:"제출",reset:"재설정",backup:"백업",restore:"복원",optimize:"최적화",export:"내보내기",import:"가져오기",cleanup:"정리",saving:"저장 중...",processing:"처리 중...",deleting:"삭제 중...",creating:"생성 중...",updating:"업데이트 중...",selectDepartment:"부서 선택",selectPosition:"직책 선택",selectCorporation:"법인 선택",selectCountry:"국가 선택",noDataAvailable:"데이터가 없습니다",noResultsFound:"검색 결과가 없습니다",required:"필수 입력 항목입니다",minLength:"최소 {0}자 이상 입력해주세요",invalidEmail:"올바른 이메일 주소를 입력해주세요",passwordMismatch:"비밀번호가 일치하지 않습니다",headquarters:"본사",salesOffice:"영업소",factory:"공장",manageCorporationInfo:"법인 정보를 관리합니다.",registerNewCorporation:"새 법인 등록",searchCorporation:"법인 검색...",corporationType:"법인 유형",all:"전체",corporationName:"법인명",code:"코드",type:"유형",modifyCorporation:"법인 수정",enterCorporationName:"법인명을 입력하세요",enterCode:"코드를 입력하세요",enterCountry:"국가를 입력하세요",selectCorporationType:"법인 유형을 선택하세요",deleteCorporation:"법인 삭제",confirmDeleteCorporation:"정말로 이 법인을 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.",projectStatus:"프로젝트 상태",taskStatus:"업무 상태",priorityLevel:"우선순위",statusName:"상태명",statusColor:"상태 색상",statusDescription:"상태 설명",statusOrder:"순서",statusActive:"활성",statusInactive:"비활성",addNewStatus:"새 상태 추가",editStatus:"상태 수정",deleteStatus:"상태 삭제",confirmDeleteStatus:"정말로 이 상태를 삭제하시겠습니까?",statusAddedSuccess:"상태가 성공적으로 추가되었습니다",statusUpdatedSuccess:"상태가 성공적으로 수정되었습니다",statusDeletedSuccess:"상태가 성공적으로 삭제되었습니다",enterStatusName:"상태명을 입력하세요",enterStatusDescription:"상태 설명을 입력하세요",selectStatusColor:"상태 색상을 선택하세요",projectStatusManagement:"프로젝트 상태 관리",taskStatusManagement:"업무 상태 관리",priorityManagement:"우선순위 관리",manageProjectStatuses:"프로젝트 상태를 관리합니다",manageTaskStatuses:"업무 상태를 관리합니다",managePriorities:"우선순위를 관리합니다",statusPlanning:"계획",statusInProgress:"진행중",statusCompleted:"완료",statusOnHold:"보류",statusTodo:"할 일",statusDoing:"진행중",statusReviewing:"검토중",statusDone:"완료",priorityLow:"낮음",priorityNormal:"보통",priorityHigh:"높음",priorityUrgent:"긴급",statusPlanningDesc:"프로젝트 계획 단계",statusInProgressDesc:"프로젝트 진행 중",statusCompletedDesc:"프로젝트 완료",statusOnHoldDesc:"프로젝트 보류",statusTodoDesc:"수행해야 할 업무",statusDoingDesc:"현재 진행 중인 업무",statusReviewingDesc:"검토가 필요한 업무",statusDoneDesc:"완료된 업무",priorityLowDesc:"낮은 우선순위",priorityNormalDesc:"보통 우선순위",priorityHighDesc:"높은 우선순위",priorityUrgentDesc:"긴급 우선순위"},BR={dashboard:"대시보드",projects:"프로젝트",tasks:"업무",team:"팀",calendar:"일정",reports:"보고서",clients:"고객사",admin:"관리자",adminPanel:"관리자 패널",settings:"설정",profile:"프로필",logout:"로그아웃",taskManagement:"업무 관리",taskJournal:"업무 일지",taskJournalList:"업무 일지 목록",chat:"채팅",chatRooms:"채팅방",directMessages:"개인 메시지",byCompany:"법인별",teamCorporation:"법인별",byDepartment:"부서별",teamDepartment:"부서별",byExecutive:"임원별",teamExecutive:"임원별",byEmployee:"직원별",notifications:"알림",online:"온라인",systemStatus:"시스템 정상",serverStatus:"서버 상태: 양호",currentPage:"현재"},VR={markAllAsRead:"모두 읽음으로 표시",noNotifications:"새 알림이 없습니다",viewAll:"모든 알림 보기",title:"알림"},WR={summary:"요약",totalProgress:"전체 진행률",projectProgress:"프로젝트 진행 상황",completedTasks:"완료된 업무",inProgressTasks:"진행 중인 업무",delayedTasks:"지연된 업무",outOf:"중",recentTasks:"최근 업무",todaysTasks:"최근 생성된 업무",upcomingDeadlines:"다가오는 마감일",noDeadlines:"마감일 없음",deadlinesToday:"오늘 마감",deadlinesThisWeek:"이번 주 마감",daysLeft:"일 남음",dueToday:"오늘 마감",viewAll:"전체 보기",recentDocuments:"최근 문서",noDocuments:"문서 없음",view:"보기",tasksByDepartment:"부서별 업무",noTasks:"업무 없음",productSchedule:"제품 일정",staffStatus:"직원 현황",staffWorkloadByIndividual:"직원별 업무량",byDepartment:"부서별",byIndividual:"개인별",projectComplete:"완료",staffProjectOverview:"직원별 프로젝트 진행 현황",allDepartments:"전체 부서",allStatus:"전체 상태",staffName:"직원명",clientName:"고객사",period:"기간",duration:"기간",unset:"미정",unassigned:"미지정",planned:"예정",noMatchingProjects:"선택한 조건에 맞는 프로젝트가 없습니다.",schedule:"일정",registrationStats:"등록 통계",completionStats:"완료 통계",staffProjectRegistrationRate:"직원 프로젝트 등록율",staffTaskRegistrationRate:"직원 하위업무 등록율",staffProjectCompletionRate:"직원 프로젝트 완료율",staffTaskCompletionRate:"직원 하위업무 완료율",staffWorkDetails:"직원별 업무 상세",projectsRegistered:"등록한 프로젝트",tasksRegistered:"등록한 하위업무",projectsCompleted:"완료한 프로젝트",tasksCompleted:"완료한 하위업무",overallProgress:"전체 진행률",workloadAnalysis:"업무량 분석",goodMorning:"좋은 아침입니다",goodAfternoon:"좋은 오후입니다",goodEvening:"좋은 저녁입니다",hello:"안녕하세요",teamCollaborationMessage:"팀과 함께 더 나은 성과를 만들어가세요",staffProjectProgress:"직원별 프로젝트 진행 현황",staffWorkPerformanceRanking:"직원별 업무 성과 및 순위",realTimeUpdate:"실시간 업데이트",departmentTaskStatus:"부서별 업무 현황",staffProjectStatus:"직원별 프로젝트 진행 현황",staffWorkTab:"직원별 업무",staffRankingTab:"직원 순위"},pp={login:{title:"로그인",description:"계정에 로그인하여 계속하세요",email:"이메일",password:"비밀번호",rememberMe:"로그인 상태 유지",forgotPassword:"비밀번호를 잊으셨나요?",login:"로그인",noAccount:"계정이 없으신가요?",register:"회원가입",processing:"처리 중...",or:"또는",registerAccount:"계정 등록"},register:{title:"회원가입",description:"계정을 만들어 시작하세요",name:"이름",namePlaceholder:"성명을 입력하세요",email:"이메일",emailPlaceholder:"email@company.com",password:"비밀번호",passwordPlaceholder:"••••••••",confirmPassword:"비밀번호 확인",department:"부서",position:"직책",terms:"이용약관에 동의합니다",register:"가입하기",haveAccount:"이미 계정이 있으신가요?",alreadyHaveAccount:"이미 계정이 있으신가요?",login:"로그인",processing:"처리 중...",passwordStrength:"비밀번호 강도",veryWeak:"매우 약함",weak:"약함",medium:"보통",strong:"강함",veryStrong:"매우 강함"},forgotPassword:{title:"비밀번호 재설정",description:"가입 시 사용한 이메일을 입력하시면 비밀번호 재설정 링크를 보내드립니다.",sendLink:"재설정 링크 보내기",processing:"처리 중...",backToLogin:"로그인으로 돌아가기",successMessage:"재설정 링크가 이메일로 전송되었습니다",successDescription:"이메일을 확인하시고 링크를 클릭하여 비밀번호를 재설정하세요.",errorMessage:"오류가 발생했습니다"}},HR={title:"프로젝트",subtitle:"전체 프로젝트 목록 및 현황",new:"새 프로젝트",filter:"필터",status:"상태",department:"부서",progress:"진행률",deadline:"마감일",members:"멤버",viewDetails:"상세보기",edit:"수정",delete:"삭제",allProjects:"전체 프로젝트",createProject:"프로젝트 생성",projectName:"프로젝트명",name:"이름",description:"설명",client:"고객사",startDate:"시작일",dueDate:"마감일",manager:"매니저",team:"팀",addMember:"멤버 추가",save:"저장",cancel:"취소",projectDetails:"프로젝트 상세",tasks:"업무",documents:"문서",phase:"단계",noProjects:"프로젝트가 없습니다.",createFirst:"새 프로젝트를 만들어보세요.",requestDate:"요청일",targetSOPDate:"목표 SOP일",type:"타입",statusCompleted:"완료",statusActive:"진행중",statusDelayed:"지연",statusOnHold:"보류",phasePlanning:"기획",phaseDevelopment:"개발",phaseManufacturing:"제조",phaseQuality:"품질",phaseProduction:"양산",phaseSales:"영업",clientName:"고객사",projectType:"프로젝트 타입",assignedDepartment:"담당 부서",currentPhase:"현재 단계",targetProductionDate:"목표 양산일",assignee:"담당자",projectCompletionRate:"프로젝트 완료율",parentProject:"상위 프로젝트",subProjects:"하위 프로젝트",relatedTasks:"관련 업무",addTask:"업무 추가",noRelatedTasks:"관련된 업무가 없습니다.",unassigned:"미할당",subtaskProgress:"하위 업무 진행율",priority:"우선순위",priorityHigh:"높음",priorityMedium:"중간",priorityLow:"낮음",subtasks:"하위 업무",add:"추가",moreItems:"더 있음",count:"개",days:"일",remaining:"남음",overdue:"지남",dueToday:"오늘 마감",completionRateLabel:"완료율",recentProjects:"최근 등록된 프로젝트"},qR={title:"업무 관리",subtitle:"전체 업무 목록 및 현황",newTask:"새 업무",filter:"필터",status:"상태",department:"부서",priority:"우선순위",assignedTo:"담당자",dueDate:"마감일",search:"검색",all:"전체",completed:"완료",inProgress:"진행 중",delayed:"지연",overdue:"기한 초과",taskDetails:"업무 상세",edit:"수정",delete:"삭제",noTasks:"업무가 없습니다.",createFirst:"새 업무를 생성하세요.",taskJournal:"업무 일지",taskJournalList:"업무 일지 목록",viewDetails:"상세 정보 보기",totalJournals:"전체 일지",urgent:"긴급",databaseConnectionProgress:"데이터베이스 연결 진행",sqlConnectionProgress:"SQL 연결 진행",competitorAnalysis:"경쟁사 분석",competitorAnalysisDescription:"경쟁사 샘플 입고 완료 경쟁사 샘플 및 Coilmaster 샘플 비교 분석",daysRemaining:"일 남음",progressPercent:"진행률",completionRate:"완료율",진행중:"진행중",완료:"완료",지연:"지연"},YR={description:"업무 상세 정보를 확인하고 관리할 수 있습니다.",completionRate:"완료율",assignedTo:"담당자",startDate:"시작일",dueDate:"마감일",taskDescription:"업무 설명",attachments:"첨부 자료",dependencies:"선행 업무",subtasks:"하위 업무",addSubtask:"하위 업무 추가",noSubtasks:"하위 업무가 없습니다. 새로운 업무를 추가하세요.",daysLeft:"일 남음",daysOverdue:"일 지남",dueToday:"오늘 마감",overdue:"기간경과",priorityHigh:"높음",priorityMedium:"중간",priorityLow:"낮음",statusCompleted:"완료",statusInProgress:"진행중",statusDelayed:"지연",statusNotStarted:"미시작",taskJournalDescription:"등록된 업무에 대한 일지를 작성하고 관리하세요",createJournal:"업무 일지 작성"},KR={title:"새 업무 생성",name:"업무명",description:"설명",project:"프로젝트",department:"부서",status:"상태",priority:"우선순위",startDate:"시작일",dueDate:"마감일",assignTo:"담당자",dependencies:"선행 업무",save:"저장",cancel:"취소",selectProject:"프로젝트 선택",selectDepartment:"부서 선택",selectStatus:"상태 선택",selectPriority:"우선순위 선택",selectAssignee:"담당자 선택",selectDependencies:"선행 업무 선택"},GR={title:"하위 업무 생성",parentTask:"상위 업무",createSubtask:"하위 업무 생성",name:"업무명",description:"설명",department:"부서",status:"상태",priority:"우선순위",startDate:"시작일",dueDate:"마감일",assignTo:"담당자",save:"저장",cancel:"취소",high:"높음",medium:"중간",low:"낮음",selectDepartment:"부서 선택",urgent:"긴급"},JR={title:"팀 현황",subTitle:"부서별 팀 현황",staffCount:"전체 인원",completionRate:"완료율",progressRate:"진행률",viewDetails:"상세 정보 보기",noData:"데이터가 없습니다",teamCorporation:"법인별",teamDepartment:"부서별",teamExecutive:"임원별",byDepartment:"부서별",byExecutive:"임원별",byEmployee:"직원별",byCompany:"법인별",members:"구성원",tasks:"업무",projects:"프로젝트",performance:"성과",details:"세부사항",name:"이름",role:"역할",department:"부서",email:"이메일",phone:"전화번호",taskProgress:"업무 진행상황",assignedTasks:"배정된 업무",completedTasks:"완료된 업무",pendingTasks:"대기중인 업무",overduePercent:"지연율",noDepartmentData:"부서 데이터가 없습니다"},ZR={clientDB:"고객 DB",addClient:"고객 추가",clientList:"고객 목록",searchClientOrRep:"고객명 또는 담당자 검색",name:"고객명",salesRep:"영업담당자(PIC)",addNewClient:"신규 고객 추가",editClientInfo:"고객 정보 수정",clientAddSuccess:"고객 추가 성공",clientAddedDescription:"고객이 추가되었습니다.",clientUpdateSuccess:"고객 정보 업데이트 성공",clientUpdatedDescription:"고객 정보가 업데이트되었습니다.",noCustomersFound:"고객을 찾을 수 없습니다. 첫 번째 고객을 추가하세요!",title:"고객 관리",description:"고객 및 파트너사 관리",newPartner:"신규 파트너사 추가",new:"신규 고객",partnersList:"파트너사 목록",contactPerson:"담당자",contactEmail:"담당자 이메일",requirements:"요구사항",client:"고객",partner:"파트너사",company:"회사",country:"국가",contact:"연락처",email:"이메일",phone:"전화번호",address:"주소",actions:"작업",viewDetails:"상세 정보 보기",cancel:"취소",save:"저장",homepage:"홈페이지"},QR={noData:"데이터가 없습니다",title:"보고서",subtitle:"프로젝트 및 업무 현황 분석",exportReport:"보고서 내보내기",filterByDate:"날짜별 필터링",filterByDepartment:"부서별 필터링",thisWeek:"이번 주",thisMonth:"이번 달",thisQuarter:"이번 분기",thisYear:"올해",projectReport:"프로젝트 보고서",taskReport:"업무 보고서",teamReport:"팀 보고서",projectProgress:"프로젝트 진행상황",projectByStatus:"상태별 프로젝트",tasksByDepartment:"부서별 업무",tasksByStatus:"상태별 업무",taskCompletion:"업무 완료율",teamPerformance:"팀 성과",topPerformers:"최고 성과자",lowPerformers:"저성과자",departmentComparison:"부서별 비교",weeklyProgress:"주간 진행상황",monthlyProgress:"월간 진행상황",quarterlyProgress:"분기별 진행상황",yearlyProgress:"연간 진행상황",companyOverview:"회사 개요",projectOverview:"프로젝트 개요",taskOverview:"업무 개요",peopleOverview:"인력 개요",exportToPDF:"PDF로 내보내기",exportToExcel:"Excel로 내보내기",generateReport:"보고서 생성",projectProgressReport:"프로젝트 진행현황",departmentTaskReport:"부서별 업무 현황",taskStatusReport:"업무 상태 분석",corporationTaskReport:"법인별 업무 현황",period:"기간",weekly:"주간",monthly:"월간",quarterly:"분기별",yearly:"연간",filter:"필터",export:"내보내기",completionRate:"완료율",progressRate:"진행률",taskCount:"업무 수",projectCount:"프로젝트 수",notStarted:"미시작",inProgress:"진행 중",completed:"완료",delayed:"지연",departmentName:"부서명",taskDistribution:"업무 분포",documentTypeMarketResearch:"시장 조사",documentTypeCostAnalysis:"비용 분석",documentTypeDrawing:"도면",documentTypeCertification:"인증",documentTypeEquipment:"장비",documentTypeRawMaterial:"원재료",documentTypeOther:"기타"},XR={},eA={title:"일정 관리",subtitle:"업무 및 프로젝트 일정을 관리합니다",today:"오늘",month:"월",week:"주",day:"일",agenda:"일정목록",addEvent:"일정 추가",editEvent:"일정 수정",deleteEvent:"일정 삭제",eventName:"일정명",startDate:"시작일",endDate:"종료일",allDay:"종일",description:"설명",repeat:"반복",save:"저장",cancel:"취소",delete:"삭제",confirmDelete:"정말로 이 일정을 삭제하시겠습니까?",noEvents:"표시할 일정이 없습니다",previousMonth:"이전 달",nextMonth:"다음 달",projectEvent:"프로젝트 일정",taskEvent:"업무 일정",personalEvent:"개인 일정",holidayEvent:"공휴일",filter:"필터",filterAll:"모든 일정",filterProjects:"프로젝트",filterTasks:"업무",filterPersonal:"개인",filterHolidays:"공휴일"},tA={title:"관리자 패널",subtitle:"시스템 설정 및 데이터 관리",users:"사용자",clients:"고객사",data:"데이터 관리",settings:"설정",userManagement:"사용자 관리",clientManagement:"고객사 관리",dataManagement:"데이터 관리",systemSettings:"시스템 설정",addUser:"사용자 추가",editUser:"사용자 편집",deleteUser:"사용자 삭제",resetPassword:"비밀번호 재설정",userName:"이름",userEmail:"이메일",userDepartment:"부서",userRole:"직책",userStatus:"상태",active:"활성",inactive:"비활성",suspended:"정지",userPermissions:"권한",admin:"관리자",manager:"매니저",user:"일반 사용자",guest:"게스트",lastLogin:"마지막 로그인",actions:"작업",confirmDelete:"정말로 이 사용자를 삭제하시겠습니까?",userAddSuccess:"사용자 추가 성공",userAddedDescription:"사용자가 추가되었습니다",userUpdateSuccess:"사용자 정보 업데이트 성공",userUpdatedDescription:"사용자 정보가 업데이트되었습니다",userDeleteSuccess:"사용자 삭제 성공",userDeletedDescription:"사용자가 삭제되었습니다",passwordResetSuccess:"비밀번호 재설정 성공",passwordResetDescription:"비밀번호가 재설정되었습니다",addClient:"고객사 추가",editClient:"고객사 편집",deleteClient:"고객사 삭제",clientName:"고객사명",country:"국가",contactPerson:"담당자",projects:"프로젝트",confirmDeleteClient:"정말로 이 고객사를 삭제하시겠습니까?",dataExport:"데이터 내보내기",dataImport:"데이터 가져오기",backup:"백업",restore:"복원",deleteOldData:"오래된 데이터 삭제",exportFormat:"내보내기 형식",csv:"CSV",excel:"Excel",json:"JSON",selectData:"데이터 선택",projectData:"프로젝트 데이터",taskData:"업무 데이터",clientData:"고객사 데이터",userData:"사용자 데이터",backupData:"데이터 백업",restoreData:"데이터 복원",selectBackupFile:"백업 파일 선택",dangerZone:"위험 영역",deleteOldTasks:"지난 작업 삭제",archiveCompletedProjects:"완료된 프로젝트 보관",deleteAllLogs:"모든 로그 데이터 삭제",companySettings:"회사 설정",companyName:"회사명",timezone:"시간대",defaultLanguage:"기본 언어",dateFormat:"날짜 형식",saveSettings:"설정 저장",systemInfo:"시스템 정보",version:"버전",lastUpdate:"마지막 업데이트",databaseSize:"데이터베이스 크기",totalProjects:"총 프로젝트",totalTasks:"총 업무",totalUsers:"사용자 수",totalClients:"고객사 수",refresh:"새로고침"},rA={title:"프로필",personalInfo:"개인 정보",personalInfoDescription:"개인 정보와 계정 설정을 관리하세요",passwordChange:"비밀번호 변경",accountSettings:"계정 설정",accountSettingsDescription:"계정과 관련된 설정을 관리합니다.",name:"이름",email:"이메일",department:"부서",position:"직책",loginInfo:"로그인 정보",loginMethod:"로그인 방식",lastLogin:"마지막 로그인",save:"저장",saving:"저장 중...",currentPassword:"현재 비밀번호",newPassword:"새 비밀번호",confirmPassword:"비밀번호 확인",changePassword:"비밀번호 변경",deleteAccount:"계정 삭제",deleteWarning:"이 작업은 되돌릴 수 없습니다. 계정과 모든 데이터가 영구적으로 삭제됩니다.",deleteConfirm:"정말로 계정을 삭제하시겠습니까?",cancel:"취소",emailReset:"이메일 재설정",sendEmailReset:"이메일 재설정 링크 보내기",passwordReset:"비밀번호 재설정",sendPasswordReset:"비밀번호 재설정 링크 보내기",profileUpdateSuccess:"프로필이 성공적으로 업데이트되었습니다.",profileUpdateError:"프로필 업데이트에 실패했습니다.",passwordChangeSuccess:"비밀번호가 성공적으로 변경되었습니다.",passwordChangeError:"비밀번호 변경에 실패했습니다.",emailResetSuccess:"이메일 재설정 링크가 전송되었습니다.",emailResetError:"이메일 재설정 링크 전송에 실패했습니다.",passwordResetSuccess:"비밀번호 재설정 링크가 전송되었습니다.",passwordResetError:"비밀번호 재설정 링크 전송에 실패했습니다.",passwordMismatch:"비밀번호가 일치하지 않습니다.",passwordTooShort:"비밀번호는 최소 6자 이상이어야 합니다.",currentPasswordRequired:"현재 비밀번호를 입력해주세요.",nameRequired:"이름을 입력해주세요.",emailRequired:"이메일을 입력해주세요.",invalidEmail:"올바른 이메일 형식을 입력해주세요.",updateProfileInfo:"프로필 정보를 업데이트하세요.",emailResetDescription:"이메일 재설정 버튼을 클릭하면 새 이메일로 확인 링크가 전송됩니다.",selectDepartment:"부서 선택",securityDescription:"보안을 위해 정기적으로 비밀번호를 변경하세요.",directPasswordChange:"직접 비밀번호 변경",passwordResetDescription:"이메일로 비밀번호 재설정 링크를 받으실 수 있습니다.",sendingInProgress:"전송 중...",changingInProgress:"변경 중...",currentAccountInfo:"현재 계정 정보",role:"역할",dangerZone:"위험 구역",microsoftLogin:"Microsoft",emailPasswordLogin:"이메일/비밀번호"},sA={global:UR,sidebar:BR,notification:VR,dashboard:WR,login:pp.login,register:pp.register,forgotPassword:pp.forgotPassword,projects:HR,tasks:qR,taskDetails:YR,taskCreate:KR,subtaskCreate:GR,team:JR,clients:ZR,reports:QR,intro:XR,calendar:eA,admin:tA,profile:rA},nA={global:{searchPlaceholder:"搜索...",dashboard:"仪表盘",projects:"项目",tasks:"任务",team:"团队",calendar:"日历",reports:"报告",clients:"客户",settings:"设置",logout:"退出",profile:"个人资料",admin:"管理员",notifications:"通知",language:"语言",save:"保存",cancel:"取消",edit:"编辑",delete:"删除",add:"添加",filter:"筛选",sort:"排序",status:"状态",priority:"优先级",deadline:"截止日期",search:"搜索",loading:"加载中...",checkingAuth:"验证身份...",actions:"操作",country:"国家",update:"更新",error:"错误",name:"姓名",description:"描述",createdAt:"创建时间",updatedAt:"更新时间",confirm:"确认",success:"成功",home:"首页",new:"新建",viewAll:"查看全部",view:"查看",noData:"无数据",details:"详情",progress:"进度",client:"客户",unset:"待定",department:"部门",sales:"销售",development:"开发",manufacturing:"制造",quality:"质量",finance:"财务",administration:"行政",management:"管理",engineering:"工程",rnd:"研发",production:"生产",qa:"质量保证",adminPanel:"管理面板",userManagement:"用户管理",employeeManagement:"员工管理",managerManagement:"经理管理",clientManagement:"客户管理",corporationManagement:"公司管理",positionManagement:"职位管理",departmentManagement:"部门管理",dataManagement:"数据管理",settingsManagement:"设置管理",competitorManagement:"竞争对手管理",statusManagement:"状态管理",create:"创建",register:"注册",modify:"修改",remove:"删除",submit:"提交",reset:"重置",backup:"备份",restore:"恢复",optimize:"优化",export:"导出",import:"导入",cleanup:"清理",saving:"保存中...",processing:"处理中...",deleting:"删除中...",creating:"创建中...",updating:"更新中...",selectDepartment:"选择部门",selectPosition:"选择职位",selectCorporation:"选择公司",selectCountry:"选择国家",noDataAvailable:"无可用数据",noResultsFound:"未找到结果",required:"此字段为必填项",minLength:"至少需要 {0} 个字符",invalidEmail:"请输入有效的电子邮件地址",passwordMismatch:"密码不匹配",headquarters:"总部",salesOffice:"销售办事处",factory:"工厂",manageCorporationInfo:"管理公司信息",registerNewCorporation:"注册新公司",searchCorporation:"搜索公司...",corporationType:"公司类型",all:"全部",corporationName:"公司名称",code:"代码",type:"类型",modifyCorporation:"修改公司",enterCorporationName:"输入公司名称",enterCode:"输入代码",enterCountry:"输入国家",selectCorporationType:"选择公司类型",deleteCorporation:"删除公司",confirmDeleteCorporation:"您确定要删除这家公司吗？此操作无法撤销。",projectStatus:"项目状态",taskStatus:"任务状态",priorityLevel:"优先级",statusName:"状态名称",statusColor:"状态颜色",statusDescription:"状态描述",statusOrder:"顺序",statusActive:"活跃",statusInactive:"非活跃",addNewStatus:"添加新状态",editStatus:"编辑状态",deleteStatus:"删除状态",confirmDeleteStatus:"您确定要删除此状态吗？",statusAddedSuccess:"状态添加成功",statusUpdatedSuccess:"状态更新成功",statusDeletedSuccess:"状态删除成功",enterStatusName:"输入状态名称",enterStatusDescription:"输入状态描述",selectStatusColor:"选择状态颜色",projectStatusManagement:"项目状态管理",taskStatusManagement:"任务状态管理",priorityManagement:"优先级管理",manageProjectStatuses:"管理项目状态",manageTaskStatuses:"管理任务状态",managePriorities:"管理优先级",statusPlanning:"计划中",statusInProgress:"进行中",statusCompleted:"已完成",statusOnHold:"暂停",statusTodo:"待办",statusDoing:"进行中",statusReviewing:"审核中",statusDone:"已完成",priorityLow:"低",priorityNormal:"普通",priorityHigh:"高",priorityUrgent:"紧急",statusPlanningDesc:"项目规划阶段",statusInProgressDesc:"项目进行中",statusCompletedDesc:"项目已完成",statusOnHoldDesc:"项目暂停",statusTodoDesc:"待执行的任务",statusDoingDesc:"正在进行中",statusReviewingDesc:"正在审核的任务",statusDoneDesc:"已完成的任务",priorityLowDesc:"低优先级",priorityNormalDesc:"普通优先级",priorityHighDesc:"高优先级",priorityUrgentDesc:"紧急优先级"},login:{title:"欢迎回来",description:"登录您的账户以继续",email:"电子邮件",password:"密码",rememberMe:"记住我",forgotPassword:"忘记密码？",login:"登录",noAccount:"没有账户？",register:"注册",processing:"登录中...",or:"或注册新账户",registerAccount:"注册新账户"},register:{title:"创建账户",description:"填写表格以开始",name:"全名",email:"电子邮件",password:"密码",confirmPassword:"确认密码",department:"部门",position:"职位",terms:"条款",register:"注册",haveAccount:"已有账户？",alreadyHaveAccount:"已有账户？",login:"登录",processing:"创建账户中...",namePlaceholder:"张三",emailPlaceholder:"zhang@example.com",passwordPlaceholder:"••••••••",acceptTerms:"我接受条款和条件",passwordStrength:"密码强度",veryWeak:"非常弱",weak:"弱",medium:"中等",strong:"强",veryStrong:"非常强"},forgotPassword:{title:"忘记密码",description:"输入您的电子邮件重置密码",email:"电子邮件",submit:"发送重置链接",sendLink:"发送重置链接",backToLogin:"返回登录",processing:"发送中...",success:"邮件已发送",successMessage:"请查收您的电子邮件以获取密码重置说明",successDescription:"检查您的电子邮件并点击链接重置密码。",errorMessage:"发生错误"},team:{title:"团队状态",subTitle:"部门团队状态",corporation:"公司",executive:"执行官",employeeList:"员工列表",position:"职位",contact:"联系方式",actions:"操作",viewDetails:"查看详情",sendMessage:"发送信息",completionRate:"完成率",progressRate:"进度",departmentDistribution:"部门分布",staffCount:"员工数量",completionRateByDepartment:"各部门完成率",progressRateByDepartment:"各部门进度",employees:"员工",details:"详情",message:"消息",email:"电子邮件",noData:"无数据",byDepartment:"按部门",byExecutive:"按主管",byEmployee:"按员工",byCompany:"按公司",teamCorporation:"团队公司",teamDepartment:"团队部门",teamExecutive:"团队主管",members:"成员",tasks:"任务",projects:"项目",performance:"绩效",name:"姓名",role:"角色",phone:"电话",taskProgress:"任务进度",assignedTasks:"分配的任务",completedTasks:"已完成任务",pendingTasks:"待处理任务",overduePercent:"逾期百分比",noDepartmentData:"无部门数据"},profile:{title:"您的个人资料",personalInfo:"个人信息",personalInfoDescription:"管理您的个人信息和账户设置",name:"姓名",email:"电子邮件",department:"部门",position:"职位",contact:"联系方式",changePassword:"更改密码",currentPassword:"当前密码",newPassword:"新密码",confirmPassword:"确认密码",update:"更新资料",cancel:"取消",passwordChange:"更改密码",accountSettings:"账户设置",loginInfo:"登录信息",loginMethod:"登录方式",lastLogin:"上次登录",saving:"保存中...",save:"保存",deleteAccount:"删除账户",deleteWarning:"此操作无法撤消。您的账户将被永久删除。",deleteConfirm:"是的，删除我的账户"},sidebar:{profile:"个人资料",logout:"退出登录",home:"首页",dashboard:"仪表板",projects:"项目",tasks:"任务",team:"团队",teamCorporation:"按公司",teamDepartment:"按部门",teamExecutive:"按主管",calendar:"日历",reports:"报告",clients:"客户",settings:"设置",admin:"管理员",clientsAndPartners:"客户 & 合作伙伴",taskManagement:"任务管理",taskJournal:"任务日志",taskJournalList:"日志列表",byCompany:"按公司",byDepartment:"按部门",byExecutive:"按主管",byEmployee:"按员工",adminPanel:"管理员面板",notifications:"通知",online:"在线",systemStatus:"系统正常",serverStatus:"服务器状态: 良好",currentPage:"当前"},intro:{start:"开始使用",login:"登录",teamCollaboration:"简化的团队协作",description:"Coilmaster Notion是团队协作、项目管理和任务跟踪的一体化解决方案。轻松组织和管理跨部门和公司的工作。",keyFeatures:"主要功能",taskJournal:"任务日志管理",taskJournalDesc:"创建每日工作日志并与团队共享。实时跟踪工作进度。",calendar:"日程安排与日历",calendarDesc:"按公司管理日程并跟踪重要事件。一目了然地查看所有日程安排。",teamManagement:"团队与部门管理",teamManagementDesc:"按公司、部门和管理层设置和管理团队。可视化组织结构。",dataManagement:"数据管理",dataManagementDesc:"项目和文档处理功能强大的组织工具。",allRightsReserved:"版权所有。"},dashboard:{welcomeBack:"欢迎回来",summary:"概述",recentTasks:"最近任务",upcomingDeadlines:"即将到期",projectProgress:"项目进度",tasksByDepartment:"按部门划分的任务",recentDocuments:"最近文档",productSchedule:"产品进度管理",viewAll:"查看全部",taskStatus:"任务状态",pending:"待处理",inProgress:"进行中",completed:"已完成",overdue:"已逾期",today:"今天",noTasks:"没有可用任务",noDeadlines:"没有即将到期的截止日期",noDocuments:"没有最近文档",totalProgress:"总体进度",completedTasks:"已完成任务",inProgressTasks:"进行中任务",delayedTasks:"延迟任务",outOf:"总计",recentFiles:"最近文件",byDepartment:"按部门",overview:"概览",schedule:"日程",daysLeft:"天剩余",daysOverdue:"天逾期",dueToday:"今天到期",projectPhases:"项目阶段",todaysTasks:"今天的任务",upcomingTasks:"即将到来的任务",departmentStatistics:"部门统计",salesDepartment:"销售部门",developmentDepartment:"开发部门",qualityDepartment:"质量部门",manufacturingDepartment:"制造部门",productionDepartment:"生产部门",managementDepartment:"管理部门",administrationDepartment:"行政部门",financeDepartment:"财务部门",engineeringDepartment:"工程部门",rndDepartment:"研发部门",qaDepatment:"质量保证部门",tasksCompleted:"已完成任务",tasksInProgress:"进行中任务",tasksDelayed:"延迟任务",tasksPending:"待处理任务",departments:"部门",deadlinesToday:"今日截止",deadlinesThisWeek:"本周截止",staffStatus:"员工状态",staffCount:"员工数量",staffByDepartment:"按部门划分的员工",staffProjects:"员工项目",staffSchedule:"员工日程",staffWorkload:"员工工作量",staffMembers:"员工成员",staffNoTasks:"没有分配任务",staffWorkloadByDepartment:"按部门划分的工作量",staffWorkloadByIndividual:"按个人划分的工作量",memberCount:"成员数",projectComplete:"完成",projectProgressAverage:"项目平均进度",documentTypeMarketResearch:"市场调研",documentTypeCostAnalysis:"成本分析",documentTypeDrawing:"图纸",documentTypeCertification:"认证",documentTypeEquipment:"设备",documentTypeRawMaterial:"原材料",documentTypeOther:"其他",view:"查看",staffProjectOverview:"员工项目进度概览",allDepartments:"所有部门",allStatus:"所有状态",staffName:"员工姓名",clientName:"客户",period:"期间",duration:"持续时间",unassigned:"未分配",planned:"计划中",noMatchingProjects:"未找到匹配的项目。",recentProjects:"最近项目",completionRateLabel:"完成率",dueDate:"截止日期",goodMorning:"早上好",goodAfternoon:"下午好",goodEvening:"晚上好",hello:"您好",teamCollaborationMessage:"与团队一起创造更好的成果",staffProjectProgress:"员工项目进度",staffWorkPerformanceRanking:"员工工作绩效排名",realTimeUpdate:"实时更新",departmentTaskStatus:"部门任务状态",staffProjectStatus:"员工项目状态",staffWorkTab:"员工工作",staffRankingTab:"员工排名"},notification:{title:"通知",markAllAsRead:"标记所有为已读",noNotifications:"没有通知",showMore:"显示更多",showLess:"显示更少",all:"全部",unread:"未读",today:"今天",thisWeek:"本周",thisMonth:"本月",journal:{created:"{name}于{date}创建了日志条目",createdAt:"创建时间：{time}"}},projects:{title:"项目",subtitle:"所有项目",new:"新项目",filter:"筛选项目",status:"状态",progress:"进度",deadline:"截止日期",members:"成员",viewDetails:"查看详情",edit:"编辑项目",delete:"删除项目",allProjects:"所有项目",activeProjects:"活跃项目",completedProjects:"已完成项目",name:"项目名称",description:"描述",client:"客户",department:"部门",startDate:"开始日期",dueDate:"截止日期",manager:"项目经理",createProject:"创建项目",updateProject:"更新项目",details:"项目详情",tasks:"项目任务",team:"项目团队",addTask:"添加任务",addMember:"添加成员",noProjects:"未找到项目",createFirst:"创建您的第一个项目",type:"项目类型",requestDate:"请求日期",targetSOPDate:"目标SOP日期",phase:"阶段",assignee:"负责人",statusCompleted:"已完成",statusActive:"活跃",statusDelayed:"延迟",statusOnHold:"搁置",phasePlanning:"规划",phaseDevelopment:"开发",phaseManufacturing:"制造",phaseQuality:"质量",phaseProduction:"生产",phaseSales:"销售",clientName:"客户",projectType:"项目类型",assignedDepartment:"负责部门",currentPhase:"当前阶段",targetProductionDate:"目标量产日期",projectCompletionRate:"项目完成率",parentProject:"上级项目",subProjects:"子项目",relatedTasks:"相关任务",noRelatedTasks:"没有相关任务。",unassigned:"未分配",subtaskProgress:"子任务进度",priority:"优先级",priorityHigh:"高",priorityMedium:"中",priorityLow:"低",subtasks:"子任务",add:"添加",moreItems:"更多",count:"个",days:"天",remaining:"剩余",overdue:"逾期",dueToday:"今日到期",completionRateLabel:"完成率",recentProjects:"最近项目"},clients:{title:"客户",description:"管理客户和合作伙伴信息",new:"新客户",filter:"筛选客户",viewDetails:"查看详情",edit:"编辑客户",delete:"删除客户",allClients:"所有客户",activeClients:"活跃客户",inactiveClients:"不活跃客户",name:"客户名称",company:"公司",email:"电子邮件",phone:"电话",address:"地址",createClient:"创建客户",updateClient:"更新客户",details:"客户详情",projects:"客户项目",contacts:"客户联系人",addProject:"添加项目",addContact:"添加联系人",noClients:"未找到客户",createFirst:"创建您的第一个客户",clientDB:"客户数据库",addClient:"添加客户",clientList:"客户列表",searchClientOrRep:"搜索客户名称或销售代表",noCustomersFound:"未找到客户。添加您的第一个客户！",addNewClient:"添加新客户",editClientInfo:"编辑客户信息",clientAddSuccess:"客户添加成功",clientAddedDescription:"客户已被添加。",clientUpdateSuccess:"客户信息更新成功",clientUpdatedDescription:"客户信息已更新。",clientsList:"客户列表",partnersList:"合作伙伴列表",newPartner:"新合作伙伴",contactPerson:"联系人",contactEmail:"联系邮箱",salesRep:"销售代表",country:"国家",requirements:"需求",clientProjects:"客户项目",clientProjectDescription:"查看每个客户的项目进度状态",searchClientsPlaceholder:"搜索客户..."},calendar:{title:"日历",subtitle:"日程管理",new:"新事件",filter:"筛选事件",day:"日",week:"周",month:"月",agenda:"议程",today:"今天",previous:"上一个",next:"下一个",addEvent:"添加事件",editEvent:"编辑事件",deleteEvent:"删除事件",eventName:"事件名称",startDate:"开始日期",endDate:"结束日期",description:"描述",save:"保存",cancel:"取消",delete:"删除",noEvents:"未找到事件",createFirst:"创建您的第一个事件"},reports:{title:"报告",subtitle:"报告和分析",taskStatus:"任务状态",projectProgress:"项目进度",byDepartment:"按部门",byCorporation:"按公司",timeFrame:"时间范围",lastWeek:"上周",lastMonth:"上个月",lastQuarter:"上季度",lastYear:"去年",custom:"自定义",exportPDF:"导出为PDF",exportExcel:"导出为Excel",summary:"摘要",details:"详情",noData:"所选筛选条件没有可用数据",generateReport:"生成报告",loading:"生成报告中...",completed:"已完成",inProgress:"进行中",notStarted:"未开始",pending:"待处理"},admin:{title:"管理面板",subtitle:"系统管理",userManagement:"用户管理",dataManagement:"数据管理",systemSettings:"系统设置",systemInfo:"系统信息",users:"用户",newUser:"新用户",editUser:"编辑用户",deleteUser:"删除用户",userDetails:"用户详情",database:"数据库",backup:"备份",restore:"恢复",settings:"设置",general:"通用",security:"安全",notifications:"通知",system:"系统",version:"版本",lastUpdated:"上次更新",status:"状态",logs:"日志",permissions:"权限",roles:"角色",newRole:"新角色",editRole:"编辑角色",deleteRole:"删除角色",roleDetails:"角色详情"},tasks:{title:"任务",subtitle:"全部任务列表及进度情况",new:"新任务",newTask:"新任务",filter:"筛选任务",filterByStatus:"按状态筛选",filterByPriority:"按优先级筛选",filterByAssignee:"按负责人筛选",sort:"排序任务",sortByDueDate:"按截止日期排序",sortByPriority:"按优先级排序",sortByStatus:"按状态排序",viewDetails:"查看详情",edit:"编辑",delete:"删除",allTasks:"所有任务",myTasks:"我的任务",name:"任务名称",description:"描述",status:"状态",priority:"优先级",dueDate:"截止日期",assignedTo:"负责人",project:"项目",createTask:"创建任务",updateTask:"更新任务",details:"详情",subtasks:"子任务",comments:"评论",files:"文件",addSubtask:"添加子任务",addComment:"添加评论",uploadFile:"上传文件",noTasks:"没有任务",createFirst:"创建您的第一个任务",department:"部门",search:"搜索",all:"全部",completed:"已完成",inProgress:"进行中",delayed:"延迟",overdue:"逾期",taskDetails:"任务详情",taskJournal:"任务日志",taskJournalList:"任务日志列表",searchPlaceholder:"任务名或内容搜索...",allDepartments:"全部部门",allStatus:"全部状态",statusNotStarted:"未开始",statusInProgress:"进行中",statusCompleted:"已完成",statusDelayed:"延迟",taskJournalDescription:"为注册的任务创建日志并进行管理",createJournal:"创建任务日志",totalJournals:"全部日志",urgent:"紧急",databaseConnectionProgress:"数据库连接进度",sqlConnectionProgress:"SQL连接进度",competitorAnalysis:"竞争对手分析",competitorAnalysisDescription:"已收到竞争对手样品并完成了竞争对手和Coilmaster样品的对比分析",daysRemaining:"天剩余",progressPercent:"进度",completionRate:"完成率",진행중:"进行中",완료:"已完成",지연:"延迟"},taskDetails:{description:"查看和管理详细任务信息",completionRate:"完成率",assignedTo:"负责人",startDate:"开始日期",dueDate:"截止日期",taskDescription:"任务描述",attachments:"附件",dependencies:"依赖项",subtasks:"子任务",addSubtask:"添加子任务",noSubtasks:"没有子任务。添加新任务。",daysLeft:"天剩余",daysOverdue:"天逾期",dueToday:"今天到期",overdue:"逾期",priorityHigh:"高",priorityMedium:"中",priorityLow:"低",statusCompleted:"已完成",statusInProgress:"进行中",statusDelayed:"延迟",statusNotStarted:"未开始",taskJournalDescription:"为注册的任务创建日志并进行管理",createJournal:"创建任务日志"},taskCreate:{title:"创建新任务",name:"任务名称",description:"描述",project:"项目",department:"部门",status:"状态",priority:"优先级",startDate:"开始日期",dueDate:"截止日期",assignTo:"分配给",dependencies:"依赖项",save:"保存",cancel:"取消",selectProject:"选择项目",selectDepartment:"选择部门",selectStatus:"选择状态",selectPriority:"选择优先级",selectAssignee:"选择负责人",selectDependencies:"选择依赖项"},subtaskCreate:{title:"创建子任务",parentTask:"父任务",createSubtask:"创建子任务",name:"任务名称",description:"描述",department:"部门",status:"状态",priority:"优先级",startDate:"开始日期",dueDate:"截止日期",assignTo:"分配给",save:"保存",cancel:"取消",high:"高",medium:"中",low:"低",selectDepartment:"选择部门",urgent:"紧急"}},aA={global:{searchPlaceholder:"ค้นหา...",dashboard:"แดชบอร์ด",projects:"โปรเจกต์",tasks:"งาน",team:"ทีม",calendar:"ปฏิทิน",reports:"รายงาน",clients:"ลูกค้า",settings:"การตั้งค่า",logout:"ออกจากระบบ",profile:"โปรไฟล์",admin:"ผู้ดูแลระบบ",notifications:"การแจ้งเตือน",language:"ภาษา",save:"บันทึก",cancel:"ยกเลิก",edit:"แก้ไข",delete:"ลบ",add:"เพิ่ม",filter:"กรอง",sort:"เรียงลำดับ",status:"สถานะ",priority:"ความสำคัญ",deadline:"กำหนดส่ง",search:"ค้นหา",loading:"กำลังโหลด...",checkingAuth:"กำลังตรวจสอบการยืนยันตัวตน...",actions:"การดำเนินการ",country:"ประเทศ",update:"อัปเดต",error:"ข้อผิดพลาด",name:"ชื่อ",description:"คำอธิบาย",createdAt:"สร้างเมื่อ",updatedAt:"อัปเดตเมื่อ",confirm:"ยืนยัน",success:"สำเร็จ",home:"หน้าแรก",new:"ใหม่",viewAll:"ดูทั้งหมด",view:"ดู",noData:"ไม่มีข้อมูล",details:"รายละเอียด",progress:"ความคืบหน้า",client:"ลูกค้า",unset:"ยังไม่กำหนด",department:"แผนก",sales:"ฝ่ายขาย",development:"ฝ่ายพัฒนา",manufacturing:"ฝ่ายผลิต",quality:"ฝ่ายคุณภาพ",finance:"ฝ่ายการเงิน",administration:"ฝ่ายบริหาร",management:"ฝ่ายจัดการ",engineering:"ฝ่ายวิศวกรรม",rnd:"ฝ่ายวิจัยและพัฒนา",production:"ฝ่ายการผลิต",qa:"ฝ่ายประกันคุณภาพ",adminPanel:"แผงควบคุมผู้ดูแลระบบ",userManagement:"จัดการผู้ใช้",employeeManagement:"จัดการพนักงาน",managerManagement:"จัดการผู้จัดการ",clientManagement:"จัดการลูกค้า",corporationManagement:"จัดการบริษัท",positionManagement:"จัดการตำแหน่ง",departmentManagement:"จัดการแผนก",dataManagement:"จัดการข้อมูล",settingsManagement:"จัดการการตั้งค่า",competitorManagement:"จัดการคู่แข่ง",statusManagement:"จัดการสถานะ",create:"สร้าง",register:"ลงทะเบียน",modify:"แก้ไข",remove:"ลบ",submit:"ส่ง",reset:"รีเซ็ต",backup:"สำรองข้อมูล",restore:"คืนค่า",optimize:"เพิ่มประสิทธิภาพ",export:"ส่งออก",import:"นำเข้า",cleanup:"ทำความสะอาด",saving:"กำลังบันทึก...",processing:"กำลังประมวลผล...",deleting:"กำลังลบ...",creating:"กำลังสร้าง...",updating:"กำลังอัปเดต...",selectDepartment:"เลือกแผนก",selectPosition:"เลือกตำแหน่ง",selectCorporation:"เลือกบริษัท",selectCountry:"เลือกประเทศ",noDataAvailable:"ไม่มีข้อมูล",noResultsFound:"ไม่พบผลลัพธ์",required:"ฟิลด์นี้จำเป็น",minLength:"ต้องการอย่างน้อย {0} ตัวอักษร",invalidEmail:"กรุณาใส่อีเมลที่ถูกต้อง",passwordMismatch:"รหัสผ่านไม่ตรงกัน",headquarters:"สำนักงานใหญ่",salesOffice:"สำนักงานขาย",factory:"โรงงาน",manageCorporationInfo:"จัดการข้อมูลบริษัท",registerNewCorporation:"ลงทะเบียนบริษัทใหม่",searchCorporation:"ค้นหาบริษัท...",corporationType:"ประเภทบริษัท",all:"ทั้งหมด",corporationName:"ชื่อบริษัท",code:"รหัส",type:"ประเภท",modifyCorporation:"แก้ไขบริษัท",enterCorporationName:"ใส่ชื่อบริษัท",enterCode:"ใส่รหัส",enterCountry:"ใส่ประเทศ",selectCorporationType:"เลือกประเภทบริษัท",deleteCorporation:"ลบบริษัท",confirmDeleteCorporation:"คุณแน่ใจหรือไม่ว่าต้องการลบบริษัทนี้? การดำเนินการนี้ไม่สามารถยกเลิกได้",projectStatus:"สถานะโครงการ",taskStatus:"สถานะงาน",priorityLevel:"ระดับความสำคัญ",statusName:"ชื่อสถานะ",statusColor:"สีสถานะ",statusDescription:"คำอธิบายสถานะ",statusOrder:"ลำดับ",statusActive:"ใช้งาน",statusInactive:"ไม่ใช้งาน",addNewStatus:"เพิ่มสถานะใหม่",editStatus:"แก้ไขสถานะ",deleteStatus:"ลบสถานะ",confirmDeleteStatus:"คุณแน่ใจหรือไม่ว่าต้องการลบสถานะนี้?",statusAddedSuccess:"เพิ่มสถานะสำเร็จ",statusUpdatedSuccess:"อัปเดตสถานะสำเร็จ",statusDeletedSuccess:"ลบสถานะสำเร็จ",enterStatusName:"ป้อนชื่อสถานะ",enterStatusDescription:"ป้อนคำอธิบายสถานะ",selectStatusColor:"เลือกสีสถานะ",projectStatusManagement:"การจัดการสถานะโครงการ",taskStatusManagement:"การจัดการสถานะงาน",priorityManagement:"การจัดการลำดับความสำคัญ",manageProjectStatuses:"จัดการสถานะโครงการ",manageTaskStatuses:"จัดการสถานะงาน",managePriorities:"จัดการระดับความสำคัญ",statusPlanning:"วางแผน",statusInProgress:"กำลังดำเนินการ",statusCompleted:"เสร็จสิ้น",statusOnHold:"ระงับ",statusTodo:"สิ่งที่ต้องทำ",statusDoing:"กำลังดำเนินการ",statusReviewing:"กำลังตรวจสอบ",statusDone:"เสร็จสิ้น",priorityLow:"ต่ำ",priorityNormal:"ปกติ",priorityHigh:"สูง",priorityUrgent:"เร่งด่วน",statusPlanningDesc:"ขั้นตอนการวางแผนโครงการ",statusInProgressDesc:"โครงการกำลังดำเนินการ",statusCompletedDesc:"โครงการเสร็จสิ้น",statusOnHoldDesc:"โครงการถูกระงับ",statusTodoDesc:"งานที่ต้องทำ",statusDoingDesc:"กำลังดำเนินการอยู่",statusReviewingDesc:"งานที่อยู่ระหว่างการตรวจสอบ",statusDoneDesc:"งานที่เสร็จสิ้นแล้ว",priorityLowDesc:"ความสำคัญต่ำ",priorityNormalDesc:"ความสำคัญปกติ",priorityHighDesc:"ความสำคัญสูง",priorityUrgentDesc:"ความสำคัญเร่งด่วน"},login:{title:"เข้าสู่ระบบ",description:"เข้าสู่บัญชีของคุณ",email:"อีเมล",password:"รหัสผ่าน",rememberMe:"จำฉันไว้",forgotPassword:"ลืมรหัสผ่าน?",login:"เข้าสู่ระบบ",noAccount:"ไม่มีบัญชี?",register:"ลงทะเบียน",processing:"กำลังดำเนินการ...",or:"หรือ",registerAccount:"ลงทะเบียนบัญชี"},register:{title:"สร้างบัญชี",description:"ลงทะเบียนบัญชีใหม่",name:"ชื่อ",email:"อีเมล",password:"รหัสผ่าน",confirmPassword:"ยืนยันรหัสผ่าน",department:"แผนก",position:"ตำแหน่ง",terms:"ฉันยอมรับข้อกำหนดและเงื่อนไข",register:"ลงทะเบียน",haveAccount:"มีบัญชีอยู่แล้ว?",alreadyHaveAccount:"มีบัญชีอยู่แล้ว?",login:"เข้าสู่ระบบ",processing:"กำลังดำเนินการ...",namePlaceholder:"ชื่อของคุณ",emailPlaceholder:"อีเมลของคุณ",passwordPlaceholder:"รหัสผ่าน",acceptTerms:"ฉันยอมรับข้อกำหนดและเงื่อนไข",passwordStrength:"ความแข็งแกร่งของรหัสผ่าน",veryWeak:"อ่อนแอมาก",weak:"อ่อนแอ",medium:"ปานกลาง",strong:"แข็งแกร่ง",veryStrong:"แข็งแกร่งมาก"},forgotPassword:{title:"ลืมรหัสผ่าน",description:"เราจะส่งลิงก์รีเซ็ตรหัสผ่านให้คุณ",email:"อีเมล",submit:"ส่ง",sendLink:"ส่งลิงก์รีเซ็ต",backToLogin:"กลับไปเข้าสู่ระบบ",processing:"กำลังดำเนินการ...",success:"สำเร็จ",successMessage:"ส่งลิงก์รีเซ็ตรหัสผ่านแล้ว",successDescription:"กรุณาตรวจสอบอีเมลของคุณ",errorMessage:"เกิดข้อผิดพลาด กรุณาลองใหม่อีกครั้ง"},team:{title:"ทีม",subTitle:"สถานะทีมแผนก",corporation:"บริษัท",executive:"ผู้บริหาร",employeeList:"รายชื่อพนักงาน",position:"ตำแหน่ง",contact:"ติดต่อ",actions:"การดำเนินการ",viewDetails:"ดูรายละเอียด",sendMessage:"ส่งข้อความ",completionRate:"อัตราการเสร็จสิ้น",progressRate:"อัตราความคืบหน้า",departmentDistribution:"การกระจายแผนก",staffCount:"จำนวนพนักงาน",completionRateByDepartment:"อัตราการเสร็จสิ้นตามแผนก",progressRateByDepartment:"อัตราความคืบหน้าตามแผนก",employees:"พนักงาน",details:"รายละเอียด",message:"ข้อความ",email:"อีเมล",noData:"ไม่มีข้อมูล",byDepartment:"ตามแผนก",byExecutive:"ตามผู้บริหาร",byEmployee:"ตามพนักงาน",byCompany:"ตามบริษัท",teamCorporation:"ทีมบริษัท",teamDepartment:"ทีมแผนก",teamExecutive:"ทีมผู้บริหาร",members:"สมาชิก",tasks:"งาน",projects:"โครงการ",performance:"ประสิทธิภาพ",name:"ชื่อ",role:"บทบาท",department:"แผนก",phone:"โทรศัพท์",taskProgress:"ความคืบหน้างาน",assignedTasks:"งานที่ได้รับมอบหมาย",completedTasks:"งานที่เสร็จสิ้น",pendingTasks:"งานที่รอดำเนินการ",overduePercent:"เปอร์เซ็นต์เกินกำหนด",noDepartmentData:"ไม่มีข้อมูลแผนก"},profile:{title:"โปรไฟล์",personalInfo:"ข้อมูลส่วนตัว",personalInfoDescription:"จัดการข้อมูลส่วนตัวและการตั้งค่าบัญชีของคุณ",name:"ชื่อ",email:"อีเมล",department:"แผนก",position:"ตำแหน่ง",contact:"ติดต่อ",changePassword:"เปลี่ยนรหัสผ่าน",currentPassword:"รหัสผ่านปัจจุบัน",newPassword:"รหัสผ่านใหม่",confirmPassword:"ยืนยันรหัสผ่าน",update:"อัปเดต",cancel:"ยกเลิก",passwordChange:"เปลี่ยนรหัสผ่าน",accountSettings:"การตั้งค่าบัญชี",loginInfo:"ข้อมูลการเข้าสู่ระบบ",loginMethod:"วิธีการเข้าสู่ระบบ",lastLogin:"เข้าสู่ระบบครั้งล่าสุด",saving:"กำลังบันทึก...",save:"บันทึก",deleteAccount:"ลบบัญชี",deleteWarning:"การลบบัญชีจะเอาข้อมูลทั้งหมดของคุณออก การดำเนินการนี้ไม่สามารถเลิกทำได้",deleteConfirm:"คุณแน่ใจหรือไม่ว่าต้องการลบบัญชี?"},sidebar:{profile:"โปรไฟล์",logout:"ออกจากระบบ",home:"หน้าแรก",dashboard:"แดชบอร์ด",projects:"โปรเจกต์",tasks:"งาน",team:"ทีม",teamCorporation:"ตามบริษัท",teamDepartment:"ตามแผนก",teamExecutive:"ตามผู้บริหาร",calendar:"ปฏิทิน",reports:"รายงาน",clients:"ลูกค้า",settings:"การตั้งค่า",admin:"ผู้ดูแลระบบ",clientsAndPartners:"ลูกค้าและพาร์ทเนอร์",taskManagement:"การจัดการงาน",taskJournal:"บันทึกงาน",taskJournalList:"รายการบันทึกงาน",byCompany:"ตามบริษัท",byDepartment:"ตามแผนก",byExecutive:"ตามผู้บริหาร",byEmployee:"ตามพนักงาน",adminPanel:"แผงควบคุมผู้ดูแลระบบ",notifications:"การแจ้งเตือน",online:"ออนไลน์",systemStatus:"ระบบปกติ",serverStatus:"สถานะเซิร์ฟเวอร์: ดี",currentPage:"ปัจจุบัน"},intro:{start:"เริ่มต้นใช้งาน",login:"เข้าสู่ระบบ",teamCollaboration:"วิธีใหม่ในการทำงานร่วมกัน",description:"จัดการงานและโครงการของคุณอย่างมีประสิทธิภาพพร้อมทำงานร่วมกับทีม",keyFeatures:"คุณสมบัติหลัก",taskJournal:"บันทึกงาน",taskJournalDesc:"บันทึกและแบ่งปันงานประจำวัน",calendar:"ปฏิทิน",calendarDesc:"การจัดการตารางเวลาและการแจ้งเตือน",teamManagement:"การจัดการทีม",teamManagementDesc:"การจัดระเบียบทีมและการมอบหมายงาน",dataManagement:"การจัดการข้อมูล",dataManagementDesc:"การจัดการลูกค้าและพาร์ทเนอร์",allRightsReserved:"สงวนลิขสิทธิ์"},dashboard:{welcomeBack:"ยินดีต้อนรับกลับ",summary:"สรุป",recentTasks:"งานล่าสุด",upcomingDeadlines:"กำหนดส่งที่กำลังจะมาถึง",projectProgress:"ความคืบหน้าของโครงการ",tasksByDepartment:"งานตามแผนก",recentDocuments:"เอกสารล่าสุด",productSchedule:"กำหนดการผลิตภัณฑ์",viewAll:"ดูทั้งหมด",taskStatus:"สถานะงาน",pending:"รอดำเนินการ",inProgress:"กำลังดำเนินการ",completed:"เสร็จสิ้น",overdue:"เกินกำหนด",today:"วันนี้",noTasks:"ไม่มีงาน",noDeadlines:"ไม่มีกำหนดส่ง",noDocuments:"ไม่มีเอกสาร",totalProgress:"ความคืบหน้าทั้งหมด",completedTasks:"งานที่เสร็จสิ้น",inProgressTasks:"งานที่กำลังดำเนินการ",delayedTasks:"งานที่ล่าช้า",outOf:"จาก",recentFiles:"ไฟล์ล่าสุด",byDepartment:"ตามแผนก",overview:"ภาพรวม",schedule:"กำหนดการ",daysLeft:"วันที่เหลือ",daysOverdue:"วันที่เกินกำหนด",dueToday:"ครบกำหนดวันนี้",projectPhases:"ขั้นตอนของโครงการ",todaysTasks:"งานของวันนี้",upcomingTasks:"งานที่กำลังจะมาถึง",departmentStatistics:"สถิติของแผนก",salesDepartment:"แผนกขาย",developmentDepartment:"แผนกพัฒนา",qualityDepartment:"แผนกคุณภาพ",manufacturingDepartment:"แผนกผลิต",productionDepartment:"แผนกการผลิต",managementDepartment:"แผนกจัดการ",administrationDepartment:"แผนกบริหาร",financeDepartment:"แผนกการเงิน",engineeringDepartment:"แผนกวิศวกรรม",rndDepartment:"แผนกวิจัยและพัฒนา",qaDepatment:"แผนกประกันคุณภาพ",tasksCompleted:"งานที่เสร็จสิ้น",tasksInProgress:"งานที่กำลังดำเนินการ",tasksDelayed:"งานที่ล่าช้า",tasksPending:"งานที่รอดำเนินการ",departments:"แผนก",deadlinesToday:"กำหนดส่งวันนี้",deadlinesThisWeek:"กำหนดส่งในสัปดาห์นี้",staffStatus:"สถานะพนักงาน",staffCount:"จำนวนพนักงาน",staffByDepartment:"พนักงานตามแผนก",staffProjects:"โครงการของพนักงาน",staffSchedule:"กำหนดการของพนักงาน",staffWorkload:"ภาระงานของพนักงาน",staffMembers:"สมาชิกพนักงาน",staffNoTasks:"ไม่มีงานที่มอบหมาย",staffWorkloadByDepartment:"ภาระงานตามแผนก",staffWorkloadByIndividual:"ภาระงานรายบุคคล",memberCount:"จำนวนสมาชิก",projectComplete:"เสร็จสิ้น",projectProgressAverage:"ความคืบหน้าโครงการโดยเฉลี่ย",documentTypeMarketResearch:"วิจัยตลาด",documentTypeCostAnalysis:"วิเคราะห์ต้นทุน",documentTypeDrawing:"แบบ",documentTypeCertification:"การรับรอง",documentTypeEquipment:"อุปกรณ์",documentTypeRawMaterial:"วัตถุดิบ",documentTypeOther:"อื่นๆ",view:"ดู",staffProjectOverview:"ภาพรวมโครงการของพนักงาน",allDepartments:"ทุกแผนก",allStatus:"ทุกสถานะ",staffName:"ชื่อพนักงาน",clientName:"ลูกค้า",period:"ระยะเวลา",duration:"ระยะเวลา",unassigned:"ยังไม่ได้มอบหมาย",planned:"วางแผนแล้ว",noMatchingProjects:"ไม่พบโครงการที่ตรงกับเงื่อนไข",recentProjects:"โครงการล่าสุด",completionRateLabel:"อัตราความสำเร็จ",dueDate:"กำหนดส่ง",goodMorning:"สวัสดีตอนเช้า",goodAfternoon:"สวัสดีตอนบ่าย",goodEvening:"สวัสดีตอนเย็น",hello:"สวัสดี",teamCollaborationMessage:"ร่วมมือกันเพื่อผลงานที่ดีกว่า",staffProjectProgress:"ความคืบหน้าโครงการของพนักงาน",staffWorkPerformanceRanking:"การจัดอันดับผลงานของพนักงาน",realTimeUpdate:"อัปเดตแบบเรียลไทม์",departmentTaskStatus:"สถานะงานตามแผนก",staffProjectStatus:"สถานะโครงการของพนักงาน",staffWorkTab:"งานของพนักงาน",staffRankingTab:"อันดับพนักงาน"},notification:{title:"การแจ้งเตือน",markAllAsRead:"ทำเครื่องหมายทั้งหมดว่าอ่านแล้ว",noNotifications:"ไม่มีการแจ้งเตือน",showMore:"แสดงเพิ่มเติม",showLess:"แสดงน้อยลง",all:"ทั้งหมด",unread:"ยังไม่อ่าน",today:"วันนี้",thisWeek:"สัปดาห์นี้",thisMonth:"เดือนนี้",journal:{created:"สร้างรายการบันทึกใหม่",createdAt:"สร้างเมื่อ"}},projects:{title:"โครงการ",subtitle:"โครงการทั้งหมด",new:"โครงการใหม่",filter:"กรอง",status:"สถานะ",progress:"ความคืบหน้า",deadline:"กำหนดส่ง",members:"สมาชิก",viewDetails:"ดูรายละเอียด",edit:"แก้ไข",delete:"ลบ",allProjects:"โครงการทั้งหมด",activeProjects:"โครงการที่ใช้งาน",completedProjects:"โครงการที่เสร็จสิ้น",name:"ชื่อ",description:"คำอธิบาย",client:"ลูกค้า",department:"แผนก",startDate:"วันที่เริ่ม",dueDate:"กำหนดส่ง",manager:"ผู้จัดการ",createProject:"สร้างโครงการ",updateProject:"อัปเดตโครงการ",details:"รายละเอียด",tasks:"งาน",team:"ทีม",addTask:"เพิ่มงาน",addMember:"เพิ่มสมาชิก",noProjects:"ไม่มีโครงการ",createFirst:"สร้างโครงการแรกของคุณ",type:"ประเภท",requestDate:"วันที่ร้องขอ",targetSOPDate:"วันเป้าหมาย SOP",phase:"ขั้นตอน",assignee:"ผู้รับผิดชอบ",statusCompleted:"เสร็จสิ้น",statusActive:"ใช้งาน",statusDelayed:"ล่าช้า",statusOnHold:"พักโครงการ",phasePlanning:"การวางแผน",phaseDevelopment:"การพัฒนา",phaseManufacturing:"การผลิต",phaseQuality:"คุณภาพ",phaseProduction:"การผลิต",phaseSales:"การขาย",clientName:"ลูกค้า",projectType:"ประเภทโครงการ",assignedDepartment:"แผนกที่รับผิดชอบ",currentPhase:"ขั้นตอนปัจจุบัน",targetProductionDate:"วันเป้าหมายการผลิต",projectCompletionRate:"อัตราความสำเร็จของโครงการ",parentProject:"โครงการหลัก",subProjects:"โครงการย่อย",relatedTasks:"งานที่เกี่ยวข้อง",noRelatedTasks:"ไม่มีงานที่เกี่ยวข้อง",unassigned:"ยังไม่ได้มอบหมาย",subtaskProgress:"ความคืบหน้าของงานย่อย",priority:"ความสำคัญ",priorityHigh:"สูง",priorityMedium:"ปานกลาง",priorityLow:"ต่ำ",subtasks:"งานย่อย",add:"เพิ่ม",moreItems:"เพิ่มเติม",count:"",days:"วัน",remaining:"ที่เหลือ",overdue:"เกินกำหนด",dueToday:"ครบกำหนดวันนี้",completionRateLabel:"อัตราความสำเร็จ",recentProjects:"โครงการล่าสุด"},clients:{title:"ลูกค้า",description:"จัดการข้อมูลลูกค้าและบริษัทพาร์ทเนอร์",new:"ลูกค้าใหม่",filter:"กรอง",viewDetails:"ดูรายละเอียด",edit:"แก้ไข",delete:"ลบ",allClients:"ลูกค้าทั้งหมด",activeClients:"ลูกค้าที่ใช้งาน",inactiveClients:"ลูกค้าที่ไม่ใช้งาน",name:"ชื่อ",company:"บริษัท",email:"อีเมล",phone:"โทรศัพท์",address:"ที่อยู่",createClient:"สร้างลูกค้า",updateClient:"อัปเดตลูกค้า",details:"รายละเอียด",projects:"โครงการ",contacts:"ผู้ติดต่อ",addProject:"เพิ่มโครงการ",addContact:"เพิ่มผู้ติดต่อ",noClients:"ไม่มีลูกค้า",createFirst:"สร้างลูกค้าแรกของคุณ",clientsList:"รายชื่อลูกค้า",partnersList:"รายชื่อพาร์ทเนอร์",newPartner:"พาร์ทเนอร์ใหม่",contactPerson:"ผู้ติดต่อ",contactEmail:"อีเมลผู้ติดต่อ",salesRep:"ตัวแทนขาย",country:"ประเทศ",requirements:"ความต้องการ",clientDB:"ฐานข้อมูลลูกค้า",addClient:"เพิ่มลูกค้า",clientList:"รายชื่อลูกค้า",searchClientOrRep:"ค้นหาลูกค้าหรือตัวแทน",noCustomersFound:"ไม่พบลูกค้า เพิ่มลูกค้าแรกของคุณ!",addNewClient:"เพิ่มลูกค้าใหม่",editClientInfo:"แก้ไขข้อมูลลูกค้า",clientAddSuccess:"เพิ่มลูกค้าสำเร็จ",clientAddedDescription:"ลูกค้าถูกเพิ่มแล้ว",clientUpdateSuccess:"อัปเดตลูกค้าสำเร็จ",clientUpdatedDescription:"ข้อมูลลูกค้าถูกอัปเดตแล้ว",clientProjects:"โครงการของลูกค้า",clientProjectDescription:"แสดงสถานะความคืบหน้าของโครงการแต่ละลูกค้า",searchClientsPlaceholder:"ค้นหาลูกค้า..."},calendar:{title:"ปฏิทิน",subtitle:"จัดการกำหนดการ",new:"กิจกรรมใหม่",filter:"กรอง",day:"วัน",week:"สัปดาห์",month:"เดือน",agenda:"วาระ",today:"วันนี้",previous:"ก่อนหน้า",next:"ถัดไป",addEvent:"เพิ่มกิจกรรม",editEvent:"แก้ไขกิจกรรม",deleteEvent:"ลบกิจกรรม",eventName:"ชื่อกิจกรรม",startDate:"วันที่เริ่ม",endDate:"วันที่สิ้นสุด",description:"คำอธิบาย",save:"บันทึก",cancel:"ยกเลิก",delete:"ลบ",noEvents:"ไม่มีกิจกรรม",createFirst:"สร้างกิจกรรมแรกของคุณ"},reports:{title:"รายงาน",subtitle:"รายงานและสถิติ",taskStatus:"สถานะงาน",projectProgress:"ความคืบหน้าโครงการ",byDepartment:"ตามแผนก",byCorporation:"ตามบริษัท",timeFrame:"ช่วงเวลา",lastWeek:"สัปดาห์ที่แล้ว",lastMonth:"เดือนที่แล้ว",lastQuarter:"ไตรมาสที่แล้ว",lastYear:"ปีที่แล้ว",custom:"กำหนดเอง",exportPDF:"ส่งออกเป็น PDF",exportExcel:"ส่งออกเป็น Excel",summary:"สรุป",details:"รายละเอียด",noData:"ไม่มีข้อมูล",generateReport:"สร้างรายงาน",loading:"กำลังโหลด...",completed:"เสร็จสิ้น",inProgress:"กำลังดำเนินการ",notStarted:"ยังไม่เริ่ม",pending:"รอดำเนินการ"},admin:{title:"แอดมิน",subtitle:"จัดการระบบ",userManagement:"จัดการผู้ใช้",dataManagement:"จัดการข้อมูล",systemSettings:"การตั้งค่าระบบ",systemInfo:"ข้อมูลระบบ",users:"ผู้ใช้",newUser:"ผู้ใช้ใหม่",editUser:"แก้ไขผู้ใช้",deleteUser:"ลบผู้ใช้",userDetails:"รายละเอียดผู้ใช้",database:"ฐานข้อมูล",backup:"สำรองข้อมูล",restore:"คืนค่าข้อมูล",settings:"การตั้งค่า",general:"ทั่วไป",security:"ความปลอดภัย",notifications:"การแจ้งเตือน",system:"ระบบ",version:"เวอร์ชัน",lastUpdated:"อัปเดตล่าสุด",status:"สถานะ",logs:"บันทึก",permissions:"สิทธิ์",roles:"บทบาท",newRole:"บทบาทใหม่",editRole:"แก้ไขบทบาท",deleteRole:"ลบบทบาท",roleDetails:"รายละเอียดบทบาท"},tasks:{title:"งาน",subtitle:"รายการงานทั้งหมดและสถานะความคืบหน้า",new:"งานใหม่",newTask:"งานใหม่",filter:"กรอง",filterByStatus:"กรองตามสถานะ",filterByPriority:"กรองตามความสำคัญ",filterByAssignee:"กรองตามผู้รับผิดชอบ",sort:"เรียงลำดับ",sortByDueDate:"เรียงตามกำหนดส่ง",sortByPriority:"เรียงตามความสำคัญ",sortByStatus:"เรียงตามสถานะ",viewDetails:"ดูรายละเอียด",edit:"แก้ไข",delete:"ลบ",allTasks:"งานทั้งหมด",myTasks:"งานของฉัน",name:"ชื่อ",description:"คำอธิบาย",status:"สถานะ",priority:"ความสำคัญ",dueDate:"กำหนดส่ง",assignedTo:"ผู้รับผิดชอบ",project:"โครงการ",createTask:"สร้างงาน",updateTask:"อัปเดตงาน",details:"รายละเอียด",subtasks:"งานย่อย",comments:"ความคิดเห็น",files:"ไฟล์",addSubtask:"เพิ่มงานย่อย",addComment:"เพิ่มความคิดเห็น",uploadFile:"อัปโหลดไฟล์",noTasks:"ไม่มีงาน",createFirst:"สร้างงานแรกของคุณ",department:"แผนก",search:"ค้นหา",all:"ทั้งหมด",completed:"เสร็จสิ้น",inProgress:"กำลังดำเนินการ",delayed:"ล่าช้า",overdue:"เกินกำหนด",taskDetails:"รายละเอียดงาน",taskJournal:"บันทึกงาน",taskJournalList:"รายการบันทึกงาน",searchPlaceholder:"ค้นหาชื่องานหรือเนื้อหา...",allDepartments:"ทุกแผนก",allStatus:"ทุกสถานะ",statusNotStarted:"ยังไม่เริ่ม",statusInProgress:"กำลังดำเนินการ",statusCompleted:"เสร็จสิ้น",statusDelayed:"ล่าช้า",taskJournalDescription:"สร้างและจัดการบันทึกสำหรับงานที่ลงทะเบียน",createJournal:"สร้างบันทึกงาน",totalJournals:"บันทึกทั้งหมด",urgent:"เร่งด่วน",databaseConnectionProgress:"ความคืบหน้าการเชื่อมต่อฐานข้อมูล",sqlConnectionProgress:"ความคืบหน้าการเชื่อมต่อ SQL",competitorAnalysis:"การวิเคราะห์คู่แข่ง",competitorAnalysisDescription:"ได้รับตัวอย่างคู่แข่งและเสร็จสิ้นการวิเคราะห์เปรียบเทียบตัวอย่างคู่แข่งและ Coilmaster",daysRemaining:"วันที่เหลือ",progressPercent:"ความคืบหน้า",completionRate:"อัตราการเสร็จสิ้น",진행중:"กำลังดำเนินการ",완료:"เสร็จสิ้น",지연:"ล่าช้า"},taskDetails:{description:"ดูและจัดการข้อมูลงานโดยละเอียด",completionRate:"อัตราการเสร็จสิ้น",assignedTo:"ผู้รับผิดชอบ",startDate:"วันที่เริ่ม",dueDate:"กำหนดส่ง",taskDescription:"คำอธิบายงาน",attachments:"ไฟล์แนบ",dependencies:"งานที่ต้องทำก่อน",subtasks:"งานย่อย",addSubtask:"เพิ่มงานย่อย",noSubtasks:"ไม่มีงานย่อย เพิ่มงานใหม่",daysLeft:"วันที่เหลือ",daysOverdue:"วันที่เกินกำหนด",dueToday:"ครบกำหนดวันนี้",overdue:"เกินกำหนด",priorityHigh:"สูง",priorityMedium:"ปานกลาง",priorityLow:"ต่ำ",statusCompleted:"เสร็จสิ้น",statusInProgress:"กำลังดำเนินการ",statusDelayed:"ล่าช้า",statusNotStarted:"ยังไม่เริ่ม",taskJournalDescription:"สร้างและจัดการบันทึกสำหรับงานที่ลงทะเบียน",createJournal:"สร้างบันทึกงาน"},taskCreate:{title:"สร้างงานใหม่",name:"ชื่องาน",description:"คำอธิบาย",project:"โครงการ",department:"แผนก",status:"สถานะ",priority:"ความสำคัญ",startDate:"วันที่เริ่ม",dueDate:"กำหนดส่ง",assignTo:"มอบหมายให้",dependencies:"งานที่ต้องทำก่อน",save:"บันทึก",cancel:"ยกเลิก",selectProject:"เลือกโครงการ",selectDepartment:"เลือกแผนก",selectStatus:"เลือกสถานะ",selectPriority:"เลือกความสำคัญ",selectAssignee:"เลือกผู้รับผิดชอบ",selectDependencies:"เลือกงานที่ต้องทำก่อน"},subtaskCreate:{title:"สร้างงานย่อย",parentTask:"งานหลัก",createSubtask:"สร้างงานย่อย",name:"ชื่องาน",description:"คำอธิบาย",department:"แผนก",status:"สถานะ",priority:"ความสำคัญ",startDate:"วันที่เริ่ม",dueDate:"วันครบกำหนด",assignTo:"มอบหมายให้",save:"บันทึก",cancel:"ยกเลิก",high:"สูง",medium:"ปานกลาง",low:"ต่ำ",selectDepartment:"เลือกแผนก",urgent:"เร่งด่วน"}},Kg={en:zR,ko:sA,zh:nA,th:aA},M0=[{code:"ko",name:"한국어"},{code:"en",name:"English"},{code:"zh",name:"中文"},{code:"th",name:"ไทย"}],WN=h.createContext({language:"ko",setLanguage:()=>{},translations:Kg.ko,languages:M0}),oA=({children:e})=>{const[t,r]=h.useState(()=>{const i=localStorage.getItem("language");return i&&["en","ko","zh","th"].includes(i)?i:"ko"}),[n,a]=h.useState(Kg[t]),o=i=>{console.log("Setting language to:",i),localStorage.setItem("language",i),r(i)};return h.useEffect(()=>{console.log("Language changed in context, updating translations:",t),a(Kg[t])},[t]),s.jsx(WN.Provider,{value:{language:t,setLanguage:o,translations:n,languages:M0},children:e})},Yt=()=>{const e=h.useContext(WN);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e},HN=h.createContext(void 0),qN=()=>{const e=h.useContext(HN);if(!e)throw new Error("useUserActivity must be used within a UserActivityProvider");return e},iA=({children:e})=>{const[t,r]=h.useState([]),n=nn(),a=c=>c==="/"||c==="/dashboard"?"대시보드":c.startsWith("/projects")?"프로젝트":c.startsWith("/clients")?"고객사":c.startsWith("/tasks")?"업무관리":c.startsWith("/journals")?"업무일지":c.startsWith("/admin")?"관리자":c.startsWith("/profile")?"프로필":"기타",o=async(c,u)=>{try{const{data:{user:d}}=await re.auth.getUser();if(!d)return;const{data:m}=await re.from("users").select("name, role").eq("id",d.id).single();if(!m)return;const f={id:d.id,name:m.name||d.email||"Unknown",currentPage:c,currentTab:u,lastActivity:new Date,isOnline:!0,role:m.role};r(p=>[...p.filter(g=>g.id!==d.id),f])}catch(d){console.error("사용자 활동 업데이트 실패:",d)}},i=c=>t.filter(u=>u.currentPage===c&&u.isOnline&&new Date().getTime()-u.lastActivity.getTime()<5*60*1e3),l=c=>t.filter(u=>u.currentTab===c&&u.isOnline&&new Date().getTime()-u.lastActivity.getTime()<5*60*1e3);return h.useEffect(()=>{const c=a(n.pathname);o(c)},[n.pathname]),h.useEffect(()=>{const c=setInterval(()=>{const u=new Date().getTime();r(d=>d.map(m=>({...m,isOnline:u-m.lastActivity.getTime()<3e5})).filter(m=>u-m.lastActivity.getTime()<18e5))},6e4);return()=>clearInterval(c)},[]),s.jsx(HN.Provider,{value:{currentUsers:t,updateUserActivity:o,getUsersOnPage:i,getUsersOnTab:l},children:e})},lA=1,cA=5e3;let gp=0;function dA(){return gp=(gp+1)%Number.MAX_SAFE_INTEGER,gp.toString()}const xp=new Map,Dw=e=>{if(xp.has(e))return;const t=setTimeout(()=>{xp.delete(e),Cc({type:"REMOVE_TOAST",toastId:e})},cA);xp.set(e,t)},uA=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,lA)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Dw(r):e.toasts.forEach(n=>{Dw(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Ju=[];let Zu={toasts:[]};function Cc(e){Zu=uA(Zu,e),Ju.forEach(t=>{t(Zu)})}function Fs({...e}){const t=dA(),r=a=>Cc({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Cc({type:"DISMISS_TOAST",toastId:t});return Cc({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Pr(){const[e,t]=h.useState(Zu);return h.useEffect(()=>(Ju.push(t),()=>{const r=Ju.indexOf(t);r>-1&&Ju.splice(r,1)}),[e]),{...e,toast:Fs,dismiss:r=>Cc({type:"DISMISS_TOAST",toastId:r})}}function _e(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function hA(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Im(...e){return t=>e.forEach(r=>hA(r,t))}function ut(...e){return h.useCallback(Im(...e),e)}function mA(e,t=[]){let r=[];function n(o,i){const l=h.createContext(i),c=r.length;r=[...r,i];function u(m){const{scope:f,children:p,...v}=m,g=(f==null?void 0:f[e][c])||l,b=h.useMemo(()=>v,Object.values(v));return s.jsx(g.Provider,{value:b,children:p})}function d(m,f){const p=(f==null?void 0:f[e][c])||l,v=h.useContext(p);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const a=()=>{const o=r.map(i=>h.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,fA(a,...t)]}function fA(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const m=c(o)[`__scope${u}`];return{...l,...m}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var Nn=h.forwardRef((e,t)=>{const{children:r,...n}=e,a=h.Children.toArray(r),o=a.find(pA);if(o){const i=o.props.children,l=a.map(c=>c===o?h.Children.count(i)>1?h.Children.only(null):h.isValidElement(i)?i.props.children:null:c);return s.jsx(Gg,{...n,ref:t,children:h.isValidElement(i)?h.cloneElement(i,void 0,l):null})}return s.jsx(Gg,{...n,ref:t,children:r})});Nn.displayName="Slot";var Gg=h.forwardRef((e,t)=>{const{children:r,...n}=e;if(h.isValidElement(r)){const a=xA(r);return h.cloneElement(r,{...gA(n,r.props),ref:t?Im(t,a):a})}return h.Children.count(r)>1?h.Children.only(null):null});Gg.displayName="SlotClone";var R0=({children:e})=>s.jsx(s.Fragment,{children:e});function pA(e){return h.isValidElement(e)&&e.type===R0}function gA(e,t){const r={...t};for(const n in t){const a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?r[n]=(...l)=>{o(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...o}:n==="className"&&(r[n]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}function xA(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Lm(e){const t=e+"CollectionProvider",[r,n]=mA(t),[a,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:v,children:g}=p,b=He.useRef(null),y=He.useRef(new Map).current;return s.jsx(a,{scope:v,itemMap:y,collectionRef:b,children:g})};i.displayName=t;const l=e+"CollectionSlot",c=He.forwardRef((p,v)=>{const{scope:g,children:b}=p,y=o(l,g),x=ut(v,y.collectionRef);return s.jsx(Nn,{ref:x,children:b})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",m=He.forwardRef((p,v)=>{const{scope:g,children:b,...y}=p,x=He.useRef(null),w=ut(v,x),j=o(u,g);return He.useEffect(()=>(j.itemMap.set(x,{ref:x,...y}),()=>void j.itemMap.delete(x))),s.jsx(Nn,{[d]:"",ref:w,children:b})});m.displayName=u;function f(p){const v=o(e+"CollectionConsumer",p);return He.useCallback(()=>{const b=v.collectionRef.current;if(!b)return[];const y=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((j,k)=>y.indexOf(j.ref.current)-y.indexOf(k.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:i,Slot:c,ItemSlot:m},f,n]}function vA(e,t){const r=h.createContext(t),n=o=>{const{children:i,...l}=o,c=h.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function a(o){const i=h.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,a]}function Cs(e,t=[]){let r=[];function n(o,i){const l=h.createContext(i),c=r.length;r=[...r,i];const u=m=>{var y;const{scope:f,children:p,...v}=m,g=((y=f==null?void 0:f[e])==null?void 0:y[c])||l,b=h.useMemo(()=>v,Object.values(v));return s.jsx(g.Provider,{value:b,children:p})};u.displayName=o+"Provider";function d(m,f){var g;const p=((g=f==null?void 0:f[e])==null?void 0:g[c])||l,v=h.useContext(p);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[u,d]}const a=()=>{const o=r.map(i=>h.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,yA(a,...t)]}function yA(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const m=c(o)[`__scope${u}`];return{...l,...m}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var wA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Be=wA.reduce((e,t)=>{const r=h.forwardRef((n,a)=>{const{asChild:o,...i}=n,l=o?Nn:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...i,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function A0(e,t){e&&ti.flushSync(()=>e.dispatchEvent(t))}function jr(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function bA(e,t=globalThis==null?void 0:globalThis.document){const r=jr(e);h.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var jA="DismissableLayer",Jg="dismissableLayer.update",NA="dismissableLayer.pointerDownOutside",_A="dismissableLayer.focusOutside",Pw,YN=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),si=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=h.useContext(YN),[d,m]=h.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=h.useState({}),v=ut(t,C=>m(C)),g=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(b),x=d?g.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,j=x>=y,k=SA(C=>{const T=C.target,B=[...u.branches].some($=>$.contains(T));!j||B||(a==null||a(C),i==null||i(C),C.defaultPrevented||l==null||l())},f),A=CA(C=>{const T=C.target;[...u.branches].some($=>$.contains(T))||(o==null||o(C),i==null||i(C),C.defaultPrevented||l==null||l())},f);return bA(C=>{x===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},f),h.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Pw=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Tw(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Pw)}},[d,f,r,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Tw())},[d,u]),h.useEffect(()=>{const C=()=>p({});return document.addEventListener(Jg,C),()=>document.removeEventListener(Jg,C)},[]),s.jsx(Be.div,{...c,ref:v,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:_e(e.onFocusCapture,A.onFocusCapture),onBlurCapture:_e(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:_e(e.onPointerDownCapture,k.onPointerDownCapture)})});si.displayName=jA;var kA="DismissableLayerBranch",KN=h.forwardRef((e,t)=>{const r=h.useContext(YN),n=h.useRef(null),a=ut(t,n);return h.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),s.jsx(Be.div,{...e,ref:a})});KN.displayName=kA;function SA(e,t=globalThis==null?void 0:globalThis.document){const r=jr(e),n=h.useRef(!1),a=h.useRef(()=>{});return h.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){GN(NA,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function CA(e,t=globalThis==null?void 0:globalThis.document){const r=jr(e),n=h.useRef(!1);return h.useEffect(()=>{const a=o=>{o.target&&!n.current&&GN(_A,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Tw(){const e=new CustomEvent(Jg);document.dispatchEvent(e)}function GN(e,t,r,{discrete:n}){const a=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?A0(a,o):a.dispatchEvent(o)}var DA=si,PA=KN,hr=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},TA="Portal",Rl=h.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,o]=h.useState(!1);hr(()=>o(!0),[]);const i=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?wE.createPortal(s.jsx(Be.div,{...n,ref:t}),i):null});Rl.displayName=TA;function EA(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var ts=e=>{const{present:t,children:r}=e,n=MA(t),a=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),o=ut(n.ref,RA(a));return typeof r=="function"||n.isPresent?h.cloneElement(a,{ref:o}):null};ts.displayName="Presence";function MA(e){const[t,r]=h.useState(),n=h.useRef({}),a=h.useRef(e),o=h.useRef("none"),i=e?"mounted":"unmounted",[l,c]=EA(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=Cu(n.current);o.current=l==="mounted"?u:"none"},[l]),hr(()=>{const u=n.current,d=a.current;if(d!==e){const f=o.current,p=Cu(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),hr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,m=p=>{const g=Cu(n.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!a.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},f=p=>{p.target===t&&(o.current=Cu(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Cu(e){return(e==null?void 0:e.animationName)||"none"}function RA(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Qs({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=AA({defaultProp:t,onChange:r}),o=e!==void 0,i=o?e:n,l=jr(r),c=h.useCallback(u=>{if(o){const m=typeof u=="function"?u(e):u;m!==e&&l(m)}else a(u)},[o,e,a,l]);return[i,c]}function AA({defaultProp:e,onChange:t}){const r=h.useState(e),[n]=r,a=h.useRef(n),o=jr(t);return h.useEffect(()=>{a.current!==n&&(o(n),a.current=n)},[n,a,o]),r}var OA="VisuallyHidden",Pd=h.forwardRef((e,t)=>s.jsx(Be.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Pd.displayName=OA;var IA=Pd,O0="ToastProvider",[I0,LA,FA]=Lm("Toast"),[JN,qB]=Cs("Toast",[FA]),[$A,Fm]=JN(O0),ZN=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:i}=e,[l,c]=h.useState(null),[u,d]=h.useState(0),m=h.useRef(!1),f=h.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${O0}\`. Expected non-empty \`string\`.`),s.jsx(I0.Provider,{scope:t,children:s.jsx($A,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>d(p=>p+1),[]),onToastRemove:h.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:f,children:i})})};ZN.displayName=O0;var QN="ToastViewport",zA=["F8"],Zg="toast.viewportPause",Qg="toast.viewportResume",XN=h.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=zA,label:a="Notifications ({hotkey})",...o}=e,i=Fm(QN,r),l=LA(r),c=h.useRef(null),u=h.useRef(null),d=h.useRef(null),m=h.useRef(null),f=ut(t,m,i.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=i.toastCount>0;h.useEffect(()=>{const b=y=>{var w;n.length!==0&&n.every(j=>y[j]||y.code===j)&&((w=m.current)==null||w.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),h.useEffect(()=>{const b=c.current,y=m.current;if(v&&b&&y){const x=()=>{if(!i.isClosePausedRef.current){const A=new CustomEvent(Zg);y.dispatchEvent(A),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const A=new CustomEvent(Qg);y.dispatchEvent(A),i.isClosePausedRef.current=!1}},j=A=>{!b.contains(A.relatedTarget)&&w()},k=()=>{b.contains(document.activeElement)||w()};return b.addEventListener("focusin",x),b.addEventListener("focusout",j),b.addEventListener("pointermove",x),b.addEventListener("pointerleave",k),window.addEventListener("blur",x),window.addEventListener("focus",w),()=>{b.removeEventListener("focusin",x),b.removeEventListener("focusout",j),b.removeEventListener("pointermove",x),b.removeEventListener("pointerleave",k),window.removeEventListener("blur",x),window.removeEventListener("focus",w)}}},[v,i.isClosePausedRef]);const g=h.useCallback(({tabbingDirection:b})=>{const x=l().map(w=>{const j=w.ref.current,k=[j,...XA(j)];return b==="forwards"?k:k.reverse()});return(b==="forwards"?x.reverse():x).flat()},[l]);return h.useEffect(()=>{const b=m.current;if(b){const y=x=>{var k,A,C;const w=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!w){const T=document.activeElement,B=x.shiftKey;if(x.target===b&&B){(k=u.current)==null||k.focus();return}const _=g({tabbingDirection:B?"backwards":"forwards"}),R=_.findIndex(O=>O===T);vp(_.slice(R+1))?x.preventDefault():B?(A=u.current)==null||A.focus():(C=d.current)==null||C.focus()}};return b.addEventListener("keydown",y),()=>b.removeEventListener("keydown",y)}},[l,g]),s.jsxs(PA,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&s.jsx(Xg,{ref:u,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"forwards"});vp(b)}}),s.jsx(I0.Slot,{scope:r,children:s.jsx(Be.ol,{tabIndex:-1,...o,ref:f})}),v&&s.jsx(Xg,{ref:d,onFocusFromOutsideViewport:()=>{const b=g({tabbingDirection:"backwards"});vp(b)}})]})});XN.displayName=QN;var e_="ToastFocusProxy",Xg=h.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,o=Fm(e_,r);return s.jsx(Pd,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&n()}})});Xg.displayName=e_;var $m="Toast",UA="toast.swipeStart",BA="toast.swipeMove",VA="toast.swipeCancel",WA="toast.swipeEnd",t_=h.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:o,...i}=e,[l=!0,c]=Qs({prop:n,defaultProp:a,onChange:o});return s.jsx(ts,{present:r||l,children:s.jsx(YA,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:jr(e.onPause),onResume:jr(e.onResume),onSwipeStart:_e(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:_e(e.onSwipeMove,u=>{const{x:d,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:_e(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:_e(e.onSwipeEnd,u=>{const{x:d,y:m}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});t_.displayName=$m;var[HA,qA]=JN($m,{onClose(){}}),YA=h.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:m,onSwipeCancel:f,onSwipeEnd:p,...v}=e,g=Fm($m,r),[b,y]=h.useState(null),x=ut(t,O=>y(O)),w=h.useRef(null),j=h.useRef(null),k=a||g.duration,A=h.useRef(0),C=h.useRef(k),T=h.useRef(0),{onToastAdd:B,onToastRemove:$}=g,W=jr(()=>{var ne;(b==null?void 0:b.contains(document.activeElement))&&((ne=g.viewport)==null||ne.focus()),i()}),_=h.useCallback(O=>{!O||O===1/0||(window.clearTimeout(T.current),A.current=new Date().getTime(),T.current=window.setTimeout(W,O))},[W]);h.useEffect(()=>{const O=g.viewport;if(O){const ne=()=>{_(C.current),u==null||u()},P=()=>{const H=new Date().getTime()-A.current;C.current=C.current-H,window.clearTimeout(T.current),c==null||c()};return O.addEventListener(Zg,P),O.addEventListener(Qg,ne),()=>{O.removeEventListener(Zg,P),O.removeEventListener(Qg,ne)}}},[g.viewport,k,c,u,_]),h.useEffect(()=>{o&&!g.isClosePausedRef.current&&_(k)},[o,k,g.isClosePausedRef,_]),h.useEffect(()=>(B(),()=>$()),[B,$]);const R=h.useMemo(()=>b?l_(b):null,[b]);return g.viewport?s.jsxs(s.Fragment,{children:[R&&s.jsx(KA,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),s.jsx(HA,{scope:r,onClose:W,children:ti.createPortal(s.jsx(I0.ItemSlot,{scope:r,children:s.jsx(DA,{asChild:!0,onEscapeKeyDown:_e(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||W(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Be.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...v,ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:_e(e.onKeyDown,O=>{O.key==="Escape"&&(l==null||l(O.nativeEvent),O.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,W()))}),onPointerDown:_e(e.onPointerDown,O=>{O.button===0&&(w.current={x:O.clientX,y:O.clientY})}),onPointerMove:_e(e.onPointerMove,O=>{if(!w.current)return;const ne=O.clientX-w.current.x,P=O.clientY-w.current.y,H=!!j.current,L=["left","right"].includes(g.swipeDirection),M=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,F=L?M(0,ne):0,G=L?0:M(0,P),q=O.pointerType==="touch"?10:2,de={x:F,y:G},z={originalEvent:O,delta:de};H?(j.current=de,Du(BA,m,z,{discrete:!1})):Ew(de,g.swipeDirection,q)?(j.current=de,Du(UA,d,z,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(ne)>q||Math.abs(P)>q)&&(w.current=null)}),onPointerUp:_e(e.onPointerUp,O=>{const ne=j.current,P=O.target;if(P.hasPointerCapture(O.pointerId)&&P.releasePointerCapture(O.pointerId),j.current=null,w.current=null,ne){const H=O.currentTarget,L={originalEvent:O,delta:ne};Ew(ne,g.swipeDirection,g.swipeThreshold)?Du(WA,p,L,{discrete:!0}):Du(VA,f,L,{discrete:!0}),H.addEventListener("click",M=>M.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),KA=e=>{const{__scopeToast:t,children:r,...n}=e,a=Fm($m,t),[o,i]=h.useState(!1),[l,c]=h.useState(!1);return ZA(()=>i(!0)),h.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(Rl,{asChild:!0,children:s.jsx(Pd,{...n,children:o&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},GA="ToastTitle",r_=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Be.div,{...n,ref:t})});r_.displayName=GA;var JA="ToastDescription",s_=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Be.div,{...n,ref:t})});s_.displayName=JA;var n_="ToastAction",a_=h.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(i_,{altText:r,asChild:!0,children:s.jsx(L0,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${n_}\`. Expected non-empty \`string\`.`),null)});a_.displayName=n_;var o_="ToastClose",L0=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=qA(o_,r);return s.jsx(i_,{asChild:!0,children:s.jsx(Be.button,{type:"button",...n,ref:t,onClick:_e(e.onClick,a.onClose)})})});L0.displayName=o_;var i_=h.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(Be.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function l_(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),QA(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!a)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...l_(n))}}),t}function Du(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?A0(a,o):a.dispatchEvent(o)}var Ew=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),o=n>a;return t==="left"||t==="right"?o&&n>r:!o&&a>r};function ZA(e=()=>{}){const t=jr(e);hr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function QA(e){return e.nodeType===e.ELEMENT_NODE}function XA(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function vp(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var eO=ZN,c_=XN,d_=t_,u_=r_,h_=s_,m_=a_,f_=L0;function p_(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=p_(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function g_(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=p_(e))&&(n&&(n+=" "),n+=t);return n}const Mw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Rw=g_,Td=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Rw(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:o}=t,i=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],m=o==null?void 0:o[u];if(d===null)return null;const f=Mw(d)||Mw(m);return a[u][f]}),l=r&&Object.entries(r).reduce((u,d)=>{let[m,f]=d;return f===void 0||(u[m]=f),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:m,className:f,...p}=d;return Object.entries(p).every(v=>{let[g,b]=v;return Array.isArray(b)?b.includes({...o,...l}[g]):{...o,...l}[g]===b})?[...u,m,f]:u},[]);return Rw(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),x_=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:o,iconNode:i,...l},c)=>h.createElement("svg",{ref:c,...rO,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:x_("lucide",a),...l},[...i.map(([u,d])=>h.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(e,t)=>{const r=h.forwardRef(({className:n,...a},o)=>h.createElement(sO,{ref:o,iconNode:t,className:x_(`lucide-${tO(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=he("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=he("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=he("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=he("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=he("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=he("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=he("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=he("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=he("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=he("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=he("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=he("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=he("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=he("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=he("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=he("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=he("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=he("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=he("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lO=he("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=he("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=he("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=he("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=he("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=he("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=he("CirclePause",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=he("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=he("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=he("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=he("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=he("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=he("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=he("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=he("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=he("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=he("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=he("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=he("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=he("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=he("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=he("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=he("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=he("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=he("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=he("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=he("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=he("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=he("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=he("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=he("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=he("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=he("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=he("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=he("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=he("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=he("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=he("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=he("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=he("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=he("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=he("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=he("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=he("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=he("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=he("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=he("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=he("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=he("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=he("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=he("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=he("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=he("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=he("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=he("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=he("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=he("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=he("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=he("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=he("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=he("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=he("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=he("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=he("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=he("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=he("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=he("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=he("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=he("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=he("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=he("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=he("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=he("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=he("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=he("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=he("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=he("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=he("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=he("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=he("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),V0="-",AO=e=>{const t=IO(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(V0);return l[0]===""&&l.length!==1&&l.shift(),S_(l,t)||OO(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},S_=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?S_(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(V0);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},Bw=/^\[(.+)\]$/,OO=e=>{if(Bw.test(e)){const t=Bw.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},IO=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return FO(Object.entries(e.classGroups),r).forEach(([o,i])=>{tx(i,n,o,t)}),n},tx=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:Vw(t,a);o.classGroupId=r;return}if(typeof a=="function"){if(LO(a)){tx(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([o,i])=>{tx(i,Vw(t,o),r,n)})})},Vw=(e,t)=>{let r=e;return t.split(V0).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},LO=e=>e.isThemeGetter,FO=(e,t)=>t?e.map(([r,n])=>{const a=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[r,a]}):e,$O=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return a(o,i),i},set(o,i){r.has(o)?r.set(o,i):a(o,i)}}},C_="!",zO=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],o=t.length,i=l=>{const c=[];let u=0,d=0,m;for(let b=0;b<l.length;b++){let y=l[b];if(u===0){if(y===a&&(n||l.slice(b,b+o)===t)){c.push(l.slice(d,b)),d=b+o;continue}if(y==="/"){m=b;continue}}y==="["?u++:y==="]"&&u--}const f=c.length===0?l:l.substring(d),p=f.startsWith(C_),v=p?f.substring(1):f,g=m&&m>d?m-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:i}):i},UO=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},BO=e=>({cache:$O(e.cacheSize),parseClassName:zO(e),...AO(e)}),VO=/\s+/,WO=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,o=[],i=e.trim().split(VO);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:m,baseClassName:f,maybePostfixModifierPosition:p}=r(u);let v=!!p,g=n(v?f.substring(0,p):f);if(!g){if(!v){l=u+(l.length>0?" "+l:l);continue}if(g=n(f),!g){l=u+(l.length>0?" "+l:l);continue}v=!1}const b=UO(d).join(":"),y=m?b+C_:b,x=y+g;if(o.includes(x))continue;o.push(x);const w=a(g,v);for(let j=0;j<w.length;++j){const k=w[j];o.push(y+k)}l=u+(l.length>0?" "+l:l)}return l};function HO(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=D_(t))&&(n&&(n+=" "),n+=r);return n}const D_=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=D_(e[n]))&&(r&&(r+=" "),r+=t);return r};function qO(e,...t){let r,n,a,o=i;function i(c){const u=t.reduce((d,m)=>m(d),e());return r=BO(u),n=r.cache.get,a=r.cache.set,o=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=WO(c,r);return a(c,d),d}return function(){return o(HO.apply(null,arguments))}}const At=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},P_=/^\[(?:([a-z-]+):)?(.+)\]$/i,YO=/^\d+\/\d+$/,KO=new Set(["px","full","screen"]),GO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,JO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ZO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,QO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,XO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mn=e=>Xi(e)||KO.has(e)||YO.test(e),xa=e=>Il(e,"length",iI),Xi=e=>!!e&&!Number.isNaN(Number(e)),jp=e=>Il(e,"number",Xi),ec=e=>!!e&&Number.isInteger(Number(e)),eI=e=>e.endsWith("%")&&Xi(e.slice(0,-1)),nt=e=>P_.test(e),va=e=>GO.test(e),tI=new Set(["length","size","percentage"]),rI=e=>Il(e,tI,T_),sI=e=>Il(e,"position",T_),nI=new Set(["image","url"]),aI=e=>Il(e,nI,cI),oI=e=>Il(e,"",lI),tc=()=>!0,Il=(e,t,r)=>{const n=P_.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},iI=e=>JO.test(e)&&!ZO.test(e),T_=()=>!1,lI=e=>QO.test(e),cI=e=>XO.test(e),dI=()=>{const e=At("colors"),t=At("spacing"),r=At("blur"),n=At("brightness"),a=At("borderColor"),o=At("borderRadius"),i=At("borderSpacing"),l=At("borderWidth"),c=At("contrast"),u=At("grayscale"),d=At("hueRotate"),m=At("invert"),f=At("gap"),p=At("gradientColorStops"),v=At("gradientColorStopPositions"),g=At("inset"),b=At("margin"),y=At("opacity"),x=At("padding"),w=At("saturate"),j=At("scale"),k=At("sepia"),A=At("skew"),C=At("space"),T=At("translate"),B=()=>["auto","contain","none"],$=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",nt,t],_=()=>[nt,t],R=()=>["",Mn,xa],O=()=>["auto",Xi,nt],ne=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],P=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],L=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",nt],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[Xi,nt];return{cacheSize:500,separator:":",theme:{colors:[tc],spacing:[Mn,xa],blur:["none","",va,nt],brightness:G(),borderColor:[e],borderRadius:["none","","full",va,nt],borderSpacing:_(),borderWidth:R(),contrast:G(),grayscale:M(),hueRotate:G(),invert:M(),gap:_(),gradientColorStops:[e],gradientColorStopPositions:[eI,xa],inset:W(),margin:W(),opacity:G(),padding:_(),saturate:G(),scale:G(),sepia:M(),skew:G(),space:_(),translate:_()},classGroups:{aspect:[{aspect:["auto","square","video",nt]}],container:["container"],columns:[{columns:[va]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ne(),nt]}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ec,nt]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",nt]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",ec,nt]}],"grid-cols":[{"grid-cols":[tc]}],"col-start-end":[{col:["auto",{span:["full",ec,nt]},nt]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[tc]}],"row-start-end":[{row:["auto",{span:[ec,nt]},nt]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",nt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",nt]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...L()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...L(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...L(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",nt,t]}],"min-w":[{"min-w":[nt,t,"min","max","fit"]}],"max-w":[{"max-w":[nt,t,"none","full","min","max","fit","prose",{screen:[va]},va]}],h:[{h:[nt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[nt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[nt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[nt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",va,xa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",jp]}],"font-family":[{font:[tc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",nt]}],"line-clamp":[{"line-clamp":["none",Xi,jp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Mn,nt]}],"list-image":[{"list-image":["none",nt]}],"list-style-type":[{list:["none","disc","decimal",nt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...P(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Mn,xa]}],"underline-offset":[{"underline-offset":["auto",Mn,nt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ne(),sI]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",rI]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},aI]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...P(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:P()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...P()]}],"outline-offset":[{"outline-offset":[Mn,nt]}],"outline-w":[{outline:[Mn,xa]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Mn,xa]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",va,oI]}],"shadow-color":[{shadow:[tc]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",va,nt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[m]}],saturate:[{saturate:[w]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",nt]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",nt]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",nt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[ec,nt]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",nt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Mn,xa,jp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},uI=qO(dI);function se(...e){return uI(g_(e))}const hI=eO,E_=h.forwardRef(({className:e,...t},r)=>s.jsx(c_,{ref:r,className:se("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));E_.displayName=c_.displayName;const mI=Td("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),M_=h.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(d_,{ref:n,className:se(mI({variant:t}),e),...r}));M_.displayName=d_.displayName;const fI=h.forwardRef(({className:e,...t},r)=>s.jsx(m_,{ref:r,className:se("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));fI.displayName=m_.displayName;const R_=h.forwardRef(({className:e,...t},r)=>s.jsx(f_,{ref:r,className:se("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(It,{className:"h-4 w-4"})}));R_.displayName=f_.displayName;const A_=h.forwardRef(({className:e,...t},r)=>s.jsx(u_,{ref:r,className:se("text-sm font-semibold",e),...t}));A_.displayName=u_.displayName;const O_=h.forwardRef(({className:e,...t},r)=>s.jsx(h_,{ref:r,className:se("text-sm opacity-90",e),...t}));O_.displayName=h_.displayName;function pI(){const{toasts:e}=Pr();return s.jsxs(hI,{children:[e.map(function({id:t,title:r,description:n,action:a,...o}){return s.jsxs(M_,{...o,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(A_,{children:r}),n&&s.jsx(O_,{children:n})]}),a,s.jsx(R_,{})]},t)}),s.jsx(E_,{})]})}const gI=Td("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Le({className:e,variant:t,...r}){return s.jsx("div",{className:se(gI({variant:t}),e),...r})}const fe=h.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));fe.displayName="Input";function Ww(e,[t,r]){return Math.min(r,Math.max(t,e))}var xI=h.createContext(void 0);function Um(e){const t=h.useContext(xI);return e||t||"ltr"}var Np=0;function Bm(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Hw()),document.body.insertAdjacentElement("beforeend",e[1]??Hw()),Np++,()=>{Np===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Np--}},[])}function Hw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var _p="focusScope.autoFocusOnMount",kp="focusScope.autoFocusOnUnmount",qw={bubbles:!1,cancelable:!0},vI="FocusScope",Ed=h.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...i}=e,[l,c]=h.useState(null),u=jr(a),d=jr(o),m=h.useRef(null),f=ut(t,g=>c(g)),p=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let g=function(w){if(p.paused||!l)return;const j=w.target;l.contains(j)?m.current=j:ba(m.current,{select:!0})},b=function(w){if(p.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||ba(m.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const k of w)k.removedNodes.length>0&&ba(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const x=new MutationObserver(y);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),x.disconnect()}}},[n,l,p.paused]),h.useEffect(()=>{if(l){Kw.add(p);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(_p,qw);l.addEventListener(_p,u),l.dispatchEvent(y),y.defaultPrevented||(yI(_I(I_(l)),{select:!0}),document.activeElement===g&&ba(l))}return()=>{l.removeEventListener(_p,u),setTimeout(()=>{const y=new CustomEvent(kp,qw);l.addEventListener(kp,d),l.dispatchEvent(y),y.defaultPrevented||ba(g??document.body,{select:!0}),l.removeEventListener(kp,d),Kw.remove(p)},0)}}},[l,u,d,p]);const v=h.useCallback(g=>{if(!r&&!n||p.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(b&&y){const x=g.currentTarget,[w,j]=wI(x);w&&j?!g.shiftKey&&y===j?(g.preventDefault(),r&&ba(w,{select:!0})):g.shiftKey&&y===w&&(g.preventDefault(),r&&ba(j,{select:!0})):y===x&&g.preventDefault()}},[r,n,p.paused]);return s.jsx(Be.div,{tabIndex:-1,...i,ref:f,onKeyDown:v})});Ed.displayName=vI;function yI(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ba(n,{select:t}),document.activeElement!==r)return}function wI(e){const t=I_(e),r=Yw(t,e),n=Yw(t.reverse(),e);return[r,n]}function I_(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Yw(e,t){for(const r of e)if(!bI(r,{upTo:t}))return r}function bI(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function jI(e){return e instanceof HTMLInputElement&&"select"in e}function ba(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&jI(e)&&t&&e.select()}}var Kw=NI();function NI(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Gw(e,t),e.unshift(t)},remove(t){var r;e=Gw(e,t),(r=e[0])==null||r.resume()}}}function Gw(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function _I(e){return e.filter(t=>t.tagName!=="A")}var kI=Wb.useId||(()=>{}),SI=0;function js(e){const[t,r]=h.useState(kI());return hr(()=>{r(n=>n??String(SI++))},[e]),t?`radix-${t}`:""}const CI=["top","right","bottom","left"],Ja=Math.min,ns=Math.max,Fh=Math.round,Eu=Math.floor,Za=e=>({x:e,y:e}),DI={left:"right",right:"left",bottom:"top",top:"bottom"},PI={start:"end",end:"start"};function rx(e,t,r){return ns(e,Ja(t,r))}function Jn(e,t){return typeof e=="function"?e(t):e}function Zn(e){return e.split("-")[0]}function Ll(e){return e.split("-")[1]}function W0(e){return e==="x"?"y":"x"}function H0(e){return e==="y"?"height":"width"}function Qa(e){return["top","bottom"].includes(Zn(e))?"y":"x"}function q0(e){return W0(Qa(e))}function TI(e,t,r){r===void 0&&(r=!1);const n=Ll(e),a=q0(e),o=H0(a);let i=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=$h(i)),[i,$h(i)]}function EI(e){const t=$h(e);return[sx(e),t,sx(t)]}function sx(e){return e.replace(/start|end/g,t=>PI[t])}function MI(e,t,r){const n=["left","right"],a=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?o:i;default:return[]}}function RI(e,t,r,n){const a=Ll(e);let o=MI(Zn(e),r==="start",n);return a&&(o=o.map(i=>i+"-"+a),t&&(o=o.concat(o.map(sx)))),o}function $h(e){return e.replace(/left|right|bottom|top/g,t=>DI[t])}function AI(e){return{top:0,right:0,bottom:0,left:0,...e}}function L_(e){return typeof e!="number"?AI(e):{top:e,right:e,bottom:e,left:e}}function zh(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function Jw(e,t,r){let{reference:n,floating:a}=e;const o=Qa(t),i=q0(t),l=H0(i),c=Zn(t),u=o==="y",d=n.x+n.width/2-a.width/2,m=n.y+n.height/2-a.height/2,f=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-a.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:m};break;case"left":p={x:n.x-a.width,y:m};break;default:p={x:n.x,y:n.y}}switch(Ll(t)){case"start":p[i]-=f*(r&&u?-1:1);break;case"end":p[i]+=f*(r&&u?-1:1);break}return p}const OI=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:o=[],platform:i}=r,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:m}=Jw(u,n,c),f=n,p={},v=0;for(let g=0;g<l.length;g++){const{name:b,fn:y}=l[g],{x,y:w,data:j,reset:k}=await y({x:d,y:m,initialPlacement:n,placement:f,strategy:a,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});d=x??d,m=w??m,p={...p,[b]:{...p[b],...j}},k&&v<=50&&(v++,typeof k=="object"&&(k.placement&&(f=k.placement),k.rects&&(u=k.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):k.rects),{x:d,y:m}=Jw(u,f,c)),g=-1)}return{x:d,y:m,placement:f,strategy:a,middlewareData:p}};async function ed(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:m="floating",altBoundary:f=!1,padding:p=0}=Jn(t,e),v=L_(p),b=l[f?m==="floating"?"reference":"floating":m],y=zh(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(b)))==null||r?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=m==="floating"?{x:n,y:a,width:i.floating.width,height:i.floating.height}:i.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),j=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},k=zh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:w,strategy:c}):x);return{top:(y.top-k.top+v.top)/j.y,bottom:(k.bottom-y.bottom+v.bottom)/j.y,left:(y.left-k.left+v.left)/j.x,right:(k.right-y.right+v.right)/j.x}}const II=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Jn(e,t)||{};if(u==null)return{};const m=L_(d),f={x:r,y:n},p=q0(a),v=H0(p),g=await i.getDimensions(u),b=p==="y",y=b?"top":"left",x=b?"bottom":"right",w=b?"clientHeight":"clientWidth",j=o.reference[v]+o.reference[p]-f[p]-o.floating[v],k=f[p]-o.reference[p],A=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let C=A?A[w]:0;(!C||!await(i.isElement==null?void 0:i.isElement(A)))&&(C=l.floating[w]||o.floating[v]);const T=j/2-k/2,B=C/2-g[v]/2-1,$=Ja(m[y],B),W=Ja(m[x],B),_=$,R=C-g[v]-W,O=C/2-g[v]/2+T,ne=rx(_,O,R),P=!c.arrow&&Ll(a)!=null&&O!==ne&&o.reference[v]/2-(O<_?$:W)-g[v]/2<0,H=P?O<_?O-_:O-R:0;return{[p]:f[p]+H,data:{[p]:ne,centerOffset:O-ne-H,...P&&{alignmentOffset:H}},reset:P}}}),LI=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:m=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...b}=Jn(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const y=Zn(a),x=Qa(l),w=Zn(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),k=f||(w||!g?[$h(l)]:EI(l)),A=v!=="none";!f&&A&&k.push(...RI(l,g,v,j));const C=[l,...k],T=await ed(t,b),B=[];let $=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&B.push(T[y]),m){const O=TI(a,i,j);B.push(T[O[0]],T[O[1]])}if($=[...$,{placement:a,overflows:B}],!B.every(O=>O<=0)){var W,_;const O=(((W=o.flip)==null?void 0:W.index)||0)+1,ne=C[O];if(ne)return{data:{index:O,overflows:$},reset:{placement:ne}};let P=(_=$.filter(H=>H.overflows[0]<=0).sort((H,L)=>H.overflows[1]-L.overflows[1])[0])==null?void 0:_.placement;if(!P)switch(p){case"bestFit":{var R;const H=(R=$.filter(L=>{if(A){const M=Qa(L.placement);return M===x||M==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(M=>M>0).reduce((M,F)=>M+F,0)]).sort((L,M)=>L[1]-M[1])[0])==null?void 0:R[0];H&&(P=H);break}case"initialPlacement":P=l;break}if(a!==P)return{reset:{placement:P}}}return{}}}};function Zw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Qw(e){return CI.some(t=>e[t]>=0)}const FI=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Jn(e,t);switch(n){case"referenceHidden":{const o=await ed(t,{...a,elementContext:"reference"}),i=Zw(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Qw(i)}}}case"escaped":{const o=await ed(t,{...a,altBoundary:!0}),i=Zw(o,r.floating);return{data:{escapedOffsets:i,escaped:Qw(i)}}}default:return{}}}}};async function $I(e,t){const{placement:r,platform:n,elements:a}=e,o=await(n.isRTL==null?void 0:n.isRTL(a.floating)),i=Zn(r),l=Ll(r),c=Qa(r)==="y",u=["left","top"].includes(i)?-1:1,d=o&&c?-1:1,m=Jn(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:v}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof v=="number"&&(p=l==="end"?v*-1:v),c?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const zI=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:o,placement:i,middlewareData:l}=t,c=await $I(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:o+c.y,data:{...c,placement:i}}}}},UI=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:b=>{let{x:y,y:x}=b;return{x:y,y:x}}},...c}=Jn(e,t),u={x:r,y:n},d=await ed(t,c),m=Qa(Zn(a)),f=W0(m);let p=u[f],v=u[m];if(o){const b=f==="y"?"top":"left",y=f==="y"?"bottom":"right",x=p+d[b],w=p-d[y];p=rx(x,p,w)}if(i){const b=m==="y"?"top":"left",y=m==="y"?"bottom":"right",x=v+d[b],w=v-d[y];v=rx(x,v,w)}const g=l.fn({...t,[f]:p,[m]:v});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[f]:o,[m]:i}}}}}},BI=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Jn(e,t),d={x:r,y:n},m=Qa(a),f=W0(m);let p=d[f],v=d[m];const g=Jn(l,t),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=f==="y"?"height":"width",j=o.reference[f]-o.floating[w]+b.mainAxis,k=o.reference[f]+o.reference[w]-b.mainAxis;p<j?p=j:p>k&&(p=k)}if(u){var y,x;const w=f==="y"?"width":"height",j=["top","left"].includes(Zn(a)),k=o.reference[m]-o.floating[w]+(j&&((y=i.offset)==null?void 0:y[m])||0)+(j?0:b.crossAxis),A=o.reference[m]+o.reference[w]+(j?0:((x=i.offset)==null?void 0:x[m])||0)-(j?b.crossAxis:0);v<k?v=k:v>A&&(v=A)}return{[f]:p,[m]:v}}}},VI=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...u}=Jn(e,t),d=await ed(t,u),m=Zn(a),f=Ll(a),p=Qa(a)==="y",{width:v,height:g}=o.floating;let b,y;m==="top"||m==="bottom"?(b=m,y=f===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(y=m,b=f==="end"?"top":"bottom");const x=g-d.top-d.bottom,w=v-d.left-d.right,j=Ja(g-d[b],x),k=Ja(v-d[y],w),A=!t.middlewareData.shift;let C=j,T=k;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(T=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=x),A&&!f){const $=ns(d.left,0),W=ns(d.right,0),_=ns(d.top,0),R=ns(d.bottom,0);p?T=v-2*($!==0||W!==0?$+W:ns(d.left,d.right)):C=g-2*(_!==0||R!==0?_+R:ns(d.top,d.bottom))}await c({...t,availableWidth:T,availableHeight:C});const B=await i.getDimensions(l.floating);return v!==B.width||g!==B.height?{reset:{rects:!0}}:{}}}};function Vm(){return typeof window<"u"}function Fl(e){return F_(e)?(e.nodeName||"").toLowerCase():"#document"}function is(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Pn(e){var t;return(t=(F_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function F_(e){return Vm()?e instanceof Node||e instanceof is(e).Node:!1}function en(e){return Vm()?e instanceof Element||e instanceof is(e).Element:!1}function kn(e){return Vm()?e instanceof HTMLElement||e instanceof is(e).HTMLElement:!1}function Xw(e){return!Vm()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof is(e).ShadowRoot}function Md(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=tn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function WI(e){return["table","td","th"].includes(Fl(e))}function Wm(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Y0(e){const t=K0(),r=en(e)?tn(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function HI(e){let t=Xa(e);for(;kn(t)&&!xl(t);){if(Y0(t))return t;if(Wm(t))return null;t=Xa(t)}return null}function K0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function xl(e){return["html","body","#document"].includes(Fl(e))}function tn(e){return is(e).getComputedStyle(e)}function Hm(e){return en(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Xa(e){if(Fl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Xw(e)&&e.host||Pn(e);return Xw(t)?t.host:t}function $_(e){const t=Xa(e);return xl(t)?e.ownerDocument?e.ownerDocument.body:e.body:kn(t)&&Md(t)?t:$_(t)}function td(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=$_(e),o=a===((n=e.ownerDocument)==null?void 0:n.body),i=is(a);if(o){const l=nx(i);return t.concat(i,i.visualViewport||[],Md(a)?a:[],l&&r?td(l):[])}return t.concat(a,td(a,[],r))}function nx(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function z_(e){const t=tn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=kn(e),o=a?e.offsetWidth:r,i=a?e.offsetHeight:n,l=Fh(r)!==o||Fh(n)!==i;return l&&(r=o,n=i),{width:r,height:n,$:l}}function G0(e){return en(e)?e:e.contextElement}function el(e){const t=G0(e);if(!kn(t))return Za(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:o}=z_(t);let i=(o?Fh(r.width):r.width)/n,l=(o?Fh(r.height):r.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const qI=Za(0);function U_(e){const t=is(e);return!K0()||!t.visualViewport?qI:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function YI(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==is(e)?!1:t}function Ko(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),o=G0(e);let i=Za(1);t&&(n?en(n)&&(i=el(n)):i=el(e));const l=YI(o,r,n)?U_(o):Za(0);let c=(a.left+l.x)/i.x,u=(a.top+l.y)/i.y,d=a.width/i.x,m=a.height/i.y;if(o){const f=is(o),p=n&&en(n)?is(n):n;let v=f,g=nx(v);for(;g&&n&&p!==v;){const b=el(g),y=g.getBoundingClientRect(),x=tn(g),w=y.left+(g.clientLeft+parseFloat(x.paddingLeft))*b.x,j=y.top+(g.clientTop+parseFloat(x.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,m*=b.y,c+=w,u+=j,v=is(g),g=nx(v)}}return zh({width:d,height:m,x:c,y:u})}function KI(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const o=a==="fixed",i=Pn(n),l=t?Wm(t.floating):!1;if(n===i||l&&o)return r;let c={scrollLeft:0,scrollTop:0},u=Za(1);const d=Za(0),m=kn(n);if((m||!m&&!o)&&((Fl(n)!=="body"||Md(i))&&(c=Hm(n)),kn(n))){const f=Ko(n);u=el(n),d.x=f.x+n.clientLeft,d.y=f.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x,y:r.y*u.y-c.scrollTop*u.y+d.y}}function GI(e){return Array.from(e.getClientRects())}function ax(e,t){const r=Hm(e).scrollLeft;return t?t.left+r:Ko(Pn(e)).left+r}function JI(e){const t=Pn(e),r=Hm(e),n=e.ownerDocument.body,a=ns(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=ns(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+ax(e);const l=-r.scrollTop;return tn(n).direction==="rtl"&&(i+=ns(t.clientWidth,n.clientWidth)-a),{width:a,height:o,x:i,y:l}}function ZI(e,t){const r=is(e),n=Pn(e),a=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,l=0,c=0;if(a){o=a.width,i=a.height;const u=K0();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:o,height:i,x:l,y:c}}function QI(e,t){const r=Ko(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,o=kn(e)?el(e):Za(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=a*o.x,u=n*o.y;return{width:i,height:l,x:c,y:u}}function eb(e,t,r){let n;if(t==="viewport")n=ZI(e,r);else if(t==="document")n=JI(Pn(e));else if(en(t))n=QI(t,r);else{const a=U_(e);n={...t,x:t.x-a.x,y:t.y-a.y}}return zh(n)}function B_(e,t){const r=Xa(e);return r===t||!en(r)||xl(r)?!1:tn(r).position==="fixed"||B_(r,t)}function XI(e,t){const r=t.get(e);if(r)return r;let n=td(e,[],!1).filter(l=>en(l)&&Fl(l)!=="body"),a=null;const o=tn(e).position==="fixed";let i=o?Xa(e):e;for(;en(i)&&!xl(i);){const l=tn(i),c=Y0(i);!c&&l.position==="fixed"&&(a=null),(o?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Md(i)&&!c&&B_(e,i))?n=n.filter(d=>d!==i):a=l,i=Xa(i)}return t.set(e,n),n}function e6(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const i=[...r==="clippingAncestors"?Wm(t)?[]:XI(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,d)=>{const m=eb(t,d,a);return u.top=ns(m.top,u.top),u.right=Ja(m.right,u.right),u.bottom=Ja(m.bottom,u.bottom),u.left=ns(m.left,u.left),u},eb(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function t6(e){const{width:t,height:r}=z_(e);return{width:t,height:r}}function r6(e,t,r){const n=kn(t),a=Pn(t),o=r==="fixed",i=Ko(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=Za(0);if(n||!n&&!o)if((Fl(t)!=="body"||Md(a))&&(l=Hm(t)),n){const p=Ko(t,!0,o,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&(c.x=ax(a));let u=0,d=0;if(a&&!n&&!o){const p=a.getBoundingClientRect();d=p.top+l.scrollTop,u=p.left+l.scrollLeft-ax(a,p)}const m=i.left+l.scrollLeft-c.x-u,f=i.top+l.scrollTop-c.y-d;return{x:m,y:f,width:i.width,height:i.height}}function Sp(e){return tn(e).position==="static"}function tb(e,t){if(!kn(e)||tn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Pn(e)===r&&(r=r.ownerDocument.body),r}function V_(e,t){const r=is(e);if(Wm(e))return r;if(!kn(e)){let a=Xa(e);for(;a&&!xl(a);){if(en(a)&&!Sp(a))return a;a=Xa(a)}return r}let n=tb(e,t);for(;n&&WI(n)&&Sp(n);)n=tb(n,t);return n&&xl(n)&&Sp(n)&&!Y0(n)?r:n||HI(e)||r}const s6=async function(e){const t=this.getOffsetParent||V_,r=this.getDimensions,n=await r(e.floating);return{reference:r6(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function n6(e){return tn(e).direction==="rtl"}const a6={convertOffsetParentRelativeRectToViewportRelativeRect:KI,getDocumentElement:Pn,getClippingRect:e6,getOffsetParent:V_,getElementRects:s6,getClientRects:GI,getDimensions:t6,getScale:el,isElement:en,isRTL:n6};function o6(e,t){let r=null,n;const a=Pn(e);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const{left:u,top:d,width:m,height:f}=e.getBoundingClientRect();if(l||t(),!m||!f)return;const p=Eu(d),v=Eu(a.clientWidth-(u+m)),g=Eu(a.clientHeight-(d+f)),b=Eu(u),x={rootMargin:-p+"px "+-v+"px "+-g+"px "+-b+"px",threshold:ns(0,Ja(1,c))||1};let w=!0;function j(k){const A=k[0].intersectionRatio;if(A!==c){if(!w)return i();A?i(!1,A):n=setTimeout(()=>{i(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(j,{...x,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,x)}r.observe(e)}return i(!0),o}function i6(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=G0(e),d=a||o?[...u?td(u):[],...td(t)]:[];d.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),o&&y.addEventListener("resize",r)});const m=u&&l?o6(u,r):null;let f=-1,p=null;i&&(p=new ResizeObserver(y=>{let[x]=y;x&&x.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let v,g=c?Ko(e):null;c&&b();function b(){const y=Ko(e);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&r(),g=y,v=requestAnimationFrame(b)}return r(),()=>{var y;d.forEach(x=>{a&&x.removeEventListener("scroll",r),o&&x.removeEventListener("resize",r)}),m==null||m(),(y=p)==null||y.disconnect(),p=null,c&&cancelAnimationFrame(v)}}const l6=zI,c6=UI,d6=LI,u6=VI,h6=FI,rb=II,m6=BI,f6=(e,t,r)=>{const n=new Map,a={platform:a6,...r},o={...a.platform,_c:n};return OI(e,t,{...a,platform:o})};var Qu=typeof document<"u"?h.useLayoutEffect:h.useEffect;function Uh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Uh(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const o=a[n];if(!(o==="_owner"&&e.$$typeof)&&!Uh(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function W_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function sb(e,t){const r=W_(e);return Math.round(t*r)/r}function Cp(e){const t=h.useRef(e);return Qu(()=>{t.current=e}),t}function p6(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,m]=h.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[f,p]=h.useState(n);Uh(f,n)||p(n);const[v,g]=h.useState(null),[b,y]=h.useState(null),x=h.useCallback(L=>{L!==A.current&&(A.current=L,g(L))},[]),w=h.useCallback(L=>{L!==C.current&&(C.current=L,y(L))},[]),j=o||v,k=i||b,A=h.useRef(null),C=h.useRef(null),T=h.useRef(d),B=c!=null,$=Cp(c),W=Cp(a),_=Cp(u),R=h.useCallback(()=>{if(!A.current||!C.current)return;const L={placement:t,strategy:r,middleware:f};W.current&&(L.platform=W.current),f6(A.current,C.current,L).then(M=>{const F={...M,isPositioned:_.current!==!1};O.current&&!Uh(T.current,F)&&(T.current=F,ti.flushSync(()=>{m(F)}))})},[f,t,r,W,_]);Qu(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,m(L=>({...L,isPositioned:!1})))},[u]);const O=h.useRef(!1);Qu(()=>(O.current=!0,()=>{O.current=!1}),[]),Qu(()=>{if(j&&(A.current=j),k&&(C.current=k),j&&k){if($.current)return $.current(j,k,R);R()}},[j,k,R,$,B]);const ne=h.useMemo(()=>({reference:A,floating:C,setReference:x,setFloating:w}),[x,w]),P=h.useMemo(()=>({reference:j,floating:k}),[j,k]),H=h.useMemo(()=>{const L={position:r,left:0,top:0};if(!P.floating)return L;const M=sb(P.floating,d.x),F=sb(P.floating,d.y);return l?{...L,transform:"translate("+M+"px, "+F+"px)",...W_(P.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:F}},[r,l,P.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:R,refs:ne,elements:P,floatingStyles:H}),[d,R,ne,P,H])}const g6=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?rb({element:n.current,padding:a}).fn(r):{}:n?rb({element:n,padding:a}).fn(r):{}}}},x6=(e,t)=>({...l6(e),options:[e,t]}),v6=(e,t)=>({...c6(e),options:[e,t]}),y6=(e,t)=>({...m6(e),options:[e,t]}),w6=(e,t)=>({...d6(e),options:[e,t]}),b6=(e,t)=>({...u6(e),options:[e,t]}),j6=(e,t)=>({...h6(e),options:[e,t]}),N6=(e,t)=>({...g6(e),options:[e,t]});var _6="Arrow",H_=h.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...o}=e;return s.jsx(Be.svg,{...o,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});H_.displayName=_6;var k6=H_;function S6(e,t=[]){let r=[];function n(o,i){const l=h.createContext(i),c=r.length;r=[...r,i];function u(m){const{scope:f,children:p,...v}=m,g=(f==null?void 0:f[e][c])||l,b=h.useMemo(()=>v,Object.values(v));return s.jsx(g.Provider,{value:b,children:p})}function d(m,f){const p=(f==null?void 0:f[e][c])||l,v=h.useContext(p);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const a=()=>{const o=r.map(i=>h.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,C6(a,...t)]}function C6(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const m=c(o)[`__scope${u}`];return{...l,...m}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function J0(e){const[t,r]=h.useState(void 0);return hr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Z0="Popper",[q_,mo]=S6(Z0),[D6,Y_]=q_(Z0),K_=e=>{const{__scopePopper:t,children:r}=e,[n,a]=h.useState(null);return s.jsx(D6,{scope:t,anchor:n,onAnchorChange:a,children:r})};K_.displayName=Z0;var G_="PopperAnchor",J_=h.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,o=Y_(G_,r),i=h.useRef(null),l=ut(t,i);return h.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:s.jsx(Be.div,{...a,ref:l})});J_.displayName=G_;var Q0="PopperContent",[P6,T6]=q_(Q0),Z_=h.forwardRef((e,t)=>{var S,K,te,Q,oe,xe;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:m="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:v,...g}=e,b=Y_(Q0,r),[y,x]=h.useState(null),w=ut(t,Ne=>x(Ne)),[j,k]=h.useState(null),A=J0(j),C=(A==null?void 0:A.width)??0,T=(A==null?void 0:A.height)??0,B=n+(o!=="center"?"-"+o:""),$=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},W=Array.isArray(u)?u:[u],_=W.length>0,R={padding:$,boundary:W.filter(M6),altBoundary:_},{refs:O,floatingStyles:ne,placement:P,isPositioned:H,middlewareData:L}=p6({strategy:"fixed",placement:B,whileElementsMounted:(...Ne)=>i6(...Ne,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[x6({mainAxis:a+T,alignmentAxis:i}),c&&v6({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?y6():void 0,...R}),c&&w6({...R}),b6({...R,apply:({elements:Ne,rects:Se,availableWidth:Je,availableHeight:Ze})=>{const{width:Qe,height:V}=Se.reference,E=Ne.floating.style;E.setProperty("--radix-popper-available-width",`${Je}px`),E.setProperty("--radix-popper-available-height",`${Ze}px`),E.setProperty("--radix-popper-anchor-width",`${Qe}px`),E.setProperty("--radix-popper-anchor-height",`${V}px`)}}),j&&N6({element:j,padding:l}),R6({arrowWidth:C,arrowHeight:T}),f&&j6({strategy:"referenceHidden",...R})]}),[M,F]=ek(P),G=jr(v);hr(()=>{H&&(G==null||G())},[H,G]);const q=(S=L.arrow)==null?void 0:S.x,de=(K=L.arrow)==null?void 0:K.y,z=((te=L.arrow)==null?void 0:te.centerOffset)!==0,[ee,U]=h.useState();return hr(()=>{y&&U(window.getComputedStyle(y).zIndex)},[y]),s.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:H?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[(Q=L.transformOrigin)==null?void 0:Q.x,(oe=L.transformOrigin)==null?void 0:oe.y].join(" "),...((xe=L.hide)==null?void 0:xe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(P6,{scope:r,placedSide:M,onArrowChange:k,arrowX:q,arrowY:de,shouldHideArrow:z,children:s.jsx(Be.div,{"data-side":M,"data-align":F,...g,ref:w,style:{...g.style,animation:H?void 0:"none"}})})})});Z_.displayName=Q0;var Q_="PopperArrow",E6={top:"bottom",right:"left",bottom:"top",left:"right"},X_=h.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,o=T6(Q_,n),i=E6[o.placedSide];return s.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:s.jsx(k6,{...a,ref:r,style:{...a.style,display:"block"}})})});X_.displayName=Q_;function M6(e){return e!==null}var R6=e=>({name:"transformOrigin",options:e,fn(t){var b,y,x;const{placement:r,rects:n,middlewareData:a}=t,i=((b=a.arrow)==null?void 0:b.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=ek(r),m={start:"0%",center:"50%",end:"100%"}[d],f=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,p=(((x=a.arrow)==null?void 0:x.y)??0)+c/2;let v="",g="";return u==="bottom"?(v=i?m:`${f}px`,g=`${-c}px`):u==="top"?(v=i?m:`${f}px`,g=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,g=i?m:`${p}px`):u==="left"&&(v=`${n.floating.width+c}px`,g=i?m:`${p}px`),{data:{x:v,y:g}}}});function ek(e){const[t,r="center"]=e.split("-");return[t,r]}var qm=K_,Rd=J_,Ym=Z_,Km=X_;function X0(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var A6=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},wi=new WeakMap,Mu=new WeakMap,Ru={},Dp=0,tk=function(e){return e&&(e.host||tk(e.parentNode))},O6=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=tk(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},I6=function(e,t,r,n){var a=O6(t,Array.isArray(e)?e:[e]);Ru[r]||(Ru[r]=new WeakMap);var o=Ru[r],i=[],l=new Set,c=new Set(a),u=function(m){!m||l.has(m)||(l.add(m),u(m.parentNode))};a.forEach(u);var d=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(f){if(l.has(f))d(f);else try{var p=f.getAttribute(n),v=p!==null&&p!=="false",g=(wi.get(f)||0)+1,b=(o.get(f)||0)+1;wi.set(f,g),o.set(f,b),i.push(f),g===1&&v&&Mu.set(f,!0),b===1&&f.setAttribute(r,"true"),v||f.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return d(t),l.clear(),Dp++,function(){i.forEach(function(m){var f=wi.get(m)-1,p=o.get(m)-1;wi.set(m,f),o.set(m,p),f||(Mu.has(m)||m.removeAttribute(n),Mu.delete(m)),p||m.removeAttribute(r)}),Dp--,Dp||(wi=new WeakMap,wi=new WeakMap,Mu=new WeakMap,Ru={})}},Gm=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=A6(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),I6(n,a,r,"aria-hidden")):function(){return null}},fn=function(){return fn=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},fn.apply(this,arguments)};function rk(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function L6(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,o;n<a;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Xu="right-scroll-bar-position",eh="width-before-scroll-bar",F6="with-scroll-bars-hidden",$6="--removed-body-scroll-bar-size";function Pp(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function z6(e,t){var r=h.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var U6=typeof window<"u"?h.useLayoutEffect:h.useEffect,nb=new WeakMap;function B6(e,t){var r=z6(null,function(n){return e.forEach(function(a){return Pp(a,n)})});return U6(function(){var n=nb.get(r);if(n){var a=new Set(n),o=new Set(e),i=r.current;a.forEach(function(l){o.has(l)||Pp(l,null)}),o.forEach(function(l){a.has(l)||Pp(l,i)})}nb.set(r,e)},[e]),r}function V6(e){return e}function W6(e,t){t===void 0&&(t=V6);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(o),i=r}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return a}function H6(e){e===void 0&&(e={});var t=W6(null);return t.options=fn({async:!0,ssr:!1},e),t}var sk=function(e){var t=e.sideCar,r=rk(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,fn({},r))};sk.isSideCarExport=!0;function q6(e,t){return e.useMedium(t),sk}var nk=H6(),Tp=function(){},Jm=h.forwardRef(function(e,t){var r=h.useRef(null),n=h.useState({onScrollCapture:Tp,onWheelCapture:Tp,onTouchMoveCapture:Tp}),a=n[0],o=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,m=e.shards,f=e.sideCar,p=e.noIsolation,v=e.inert,g=e.allowPinchZoom,b=e.as,y=b===void 0?"div":b,x=e.gapMode,w=rk(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=f,k=B6([r,t]),A=fn(fn({},w),a);return h.createElement(h.Fragment,null,d&&h.createElement(j,{sideCar:nk,removeScrollBar:u,shards:m,noIsolation:p,inert:v,setCallbacks:o,allowPinchZoom:!!g,lockRef:r,gapMode:x}),i?h.cloneElement(h.Children.only(l),fn(fn({},A),{ref:k})):h.createElement(y,fn({},A,{className:c,ref:k}),l))});Jm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Jm.classNames={fullWidth:eh,zeroRight:Xu};var Y6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function K6(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Y6();return t&&e.setAttribute("nonce",t),e}function G6(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function J6(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Z6=function(){var e=0,t=null;return{add:function(r){e==0&&(t=K6())&&(G6(t,r),J6(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Q6=function(){var e=Z6();return function(t,r){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},ak=function(){var e=Q6(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},X6={left:0,top:0,right:0,gap:0},Ep=function(e){return parseInt(e||"",10)||0},eL=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Ep(r),Ep(n),Ep(a)]},tL=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return X6;var t=eL(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},rL=ak(),tl="data-scroll-locked",sL=function(e,t,r,n){var a=e.left,o=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(F6,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(tl,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xu,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(eh,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Xu," .").concat(Xu,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(eh," .").concat(eh,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(tl,`] {
    `).concat($6,": ").concat(l,`px;
  }
`)},ab=function(){var e=parseInt(document.body.getAttribute(tl)||"0",10);return isFinite(e)?e:0},nL=function(){h.useEffect(function(){return document.body.setAttribute(tl,(ab()+1).toString()),function(){var e=ab()-1;e<=0?document.body.removeAttribute(tl):document.body.setAttribute(tl,e.toString())}},[])},aL=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;nL();var o=h.useMemo(function(){return tL(a)},[a]);return h.createElement(rL,{styles:sL(o,!t,a,r?"":"!important")})},ox=!1;if(typeof window<"u")try{var Au=Object.defineProperty({},"passive",{get:function(){return ox=!0,!0}});window.addEventListener("test",Au,Au),window.removeEventListener("test",Au,Au)}catch{ox=!1}var bi=ox?{passive:!1}:!1,oL=function(e){return e.tagName==="TEXTAREA"},ok=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!oL(e)&&r[t]==="visible")},iL=function(e){return ok(e,"overflowY")},lL=function(e){return ok(e,"overflowX")},ob=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=ik(e,n);if(a){var o=lk(e,n),i=o[1],l=o[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},cL=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},dL=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},ik=function(e,t){return e==="v"?iL(t):lL(t)},lk=function(e,t){return e==="v"?cL(t):dL(t)},uL=function(e,t){return e==="h"&&t==="rtl"?-1:1},hL=function(e,t,r,n,a){var o=uL(e,window.getComputedStyle(t).direction),i=o*n,l=r.target,c=t.contains(l),u=!1,d=i>0,m=0,f=0;do{var p=lk(e,l),v=p[0],g=p[1],b=p[2],y=g-b-o*v;(v||y)&&ik(e,l)&&(m+=y,f+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(m)<1||!a)||!d&&(Math.abs(f)<1||!a))&&(u=!0),u},Ou=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ib=function(e){return[e.deltaX,e.deltaY]},lb=function(e){return e&&"current"in e?e.current:e},mL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},fL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},pL=0,ji=[];function gL(e){var t=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),a=h.useState(pL++)[0],o=h.useState(ak)[0],i=h.useRef(e);h.useEffect(function(){i.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var g=L6([e.lockRef.current],(e.shards||[]).map(lb),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var y=Ou(g),x=r.current,w="deltaX"in g?g.deltaX:x[0]-y[0],j="deltaY"in g?g.deltaY:x[1]-y[1],k,A=g.target,C=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in g&&C==="h"&&A.type==="range")return!1;var T=ob(C,A);if(!T)return!0;if(T?k=C:(k=C==="v"?"h":"v",T=ob(C,A)),!T)return!1;if(!n.current&&"changedTouches"in g&&(w||j)&&(n.current=k),!k)return!0;var B=n.current||k;return hL(B,b,g,B==="h"?w:j,!0)},[]),c=h.useCallback(function(g){var b=g;if(!(!ji.length||ji[ji.length-1]!==o)){var y="deltaY"in b?ib(b):Ou(b),x=t.current.filter(function(k){return k.name===b.type&&(k.target===b.target||b.target===k.shadowParent)&&mL(k.delta,y)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var w=(i.current.shards||[]).map(lb).filter(Boolean).filter(function(k){return k.contains(b.target)}),j=w.length>0?l(b,w[0]):!i.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),u=h.useCallback(function(g,b,y,x){var w={name:g,delta:b,target:y,should:x,shadowParent:xL(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),d=h.useCallback(function(g){r.current=Ou(g),n.current=void 0},[]),m=h.useCallback(function(g){u(g.type,ib(g),g.target,l(g,e.lockRef.current))},[]),f=h.useCallback(function(g){u(g.type,Ou(g),g.target,l(g,e.lockRef.current))},[]);h.useEffect(function(){return ji.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:f}),document.addEventListener("wheel",c,bi),document.addEventListener("touchmove",c,bi),document.addEventListener("touchstart",d,bi),function(){ji=ji.filter(function(g){return g!==o}),document.removeEventListener("wheel",c,bi),document.removeEventListener("touchmove",c,bi),document.removeEventListener("touchstart",d,bi)}},[]);var p=e.removeScrollBar,v=e.inert;return h.createElement(h.Fragment,null,v?h.createElement(o,{styles:fL(a)}):null,p?h.createElement(aL,{gapMode:e.gapMode}):null)}function xL(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const vL=q6(nk,gL);var Ad=h.forwardRef(function(e,t){return h.createElement(Jm,fn({},e,{ref:t,sideCar:vL}))});Ad.classNames=Jm.classNames;var yL=[" ","Enter","ArrowUp","ArrowDown"],wL=[" ","Enter"],Od="Select",[Zm,Qm,bL]=Lm(Od),[$l,YB]=Cs(Od,[bL,mo]),Xm=mo(),[jL,fo]=$l(Od),[NL,_L]=$l(Od),ck=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:m,disabled:f,required:p,form:v}=e,g=Xm(t),[b,y]=h.useState(null),[x,w]=h.useState(null),[j,k]=h.useState(!1),A=Um(u),[C=!1,T]=Qs({prop:n,defaultProp:a,onChange:o}),[B,$]=Qs({prop:i,defaultProp:l,onChange:c}),W=h.useRef(null),_=b?v||!!b.closest("form"):!0,[R,O]=h.useState(new Set),ne=Array.from(R).map(P=>P.props.value).join(";");return s.jsx(qm,{...g,children:s.jsxs(jL,{required:p,scope:t,trigger:b,onTriggerChange:y,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:k,contentId:js(),value:B,onValueChange:$,open:C,onOpenChange:T,dir:A,triggerPointerDownPosRef:W,disabled:f,children:[s.jsx(Zm.Provider,{scope:t,children:s.jsx(NL,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(P=>{O(H=>new Set(H).add(P))},[]),onNativeOptionRemove:h.useCallback(P=>{O(H=>{const L=new Set(H);return L.delete(P),L})},[]),children:r})}),_?s.jsxs(Ok,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:m,value:B,onChange:P=>$(P.target.value),disabled:f,form:v,children:[B===void 0?s.jsx("option",{value:""}):null,Array.from(R)]},ne):null]})})};ck.displayName=Od;var dk="SelectTrigger",uk=h.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,o=Xm(r),i=fo(dk,r),l=i.disabled||n,c=ut(t,i.onTriggerChange),u=Qm(r),d=h.useRef("touch"),[m,f,p]=Ik(g=>{const b=u().filter(w=>!w.disabled),y=b.find(w=>w.value===i.value),x=Lk(b,g,y);x!==void 0&&i.onValueChange(x.value)}),v=g=>{l||(i.onOpenChange(!0),p()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return s.jsx(Rd,{asChild:!0,...o,children:s.jsx(Be.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Ak(i.value)?"":void 0,...a,ref:c,onClick:_e(a.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&v(g)}),onPointerDown:_e(a.onPointerDown,g=>{d.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:_e(a.onKeyDown,g=>{const b=m.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(b&&g.key===" ")&&yL.includes(g.key)&&(v(),g.preventDefault())})})})});uk.displayName=dk;var hk="SelectValue",mk=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:o,placeholder:i="",...l}=e,c=fo(hk,r),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,m=ut(t,c.onValueNodeChange);return hr(()=>{u(d)},[u,d]),s.jsx(Be.span,{...l,ref:m,style:{pointerEvents:"none"},children:Ak(c.value)?s.jsx(s.Fragment,{children:i}):o})});mk.displayName=hk;var kL="SelectIcon",fk=h.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Be.span,{"aria-hidden":!0,...a,ref:t,children:n||"▼"})});fk.displayName=kL;var SL="SelectPortal",pk=e=>s.jsx(Rl,{asChild:!0,...e});pk.displayName=SL;var Go="SelectContent",gk=h.forwardRef((e,t)=>{const r=fo(Go,e.__scopeSelect),[n,a]=h.useState();if(hr(()=>{a(new DocumentFragment)},[]),!r.open){const o=n;return o?ti.createPortal(s.jsx(xk,{scope:e.__scopeSelect,children:s.jsx(Zm.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),o):null}return s.jsx(vk,{...e,ref:t})});gk.displayName=Go;var Es=10,[xk,po]=$l(Go),CL="SelectContentImpl",vk=h.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:m,collisionBoundary:f,collisionPadding:p,sticky:v,hideWhenDetached:g,avoidCollisions:b,...y}=e,x=fo(Go,r),[w,j]=h.useState(null),[k,A]=h.useState(null),C=ut(t,S=>j(S)),[T,B]=h.useState(null),[$,W]=h.useState(null),_=Qm(r),[R,O]=h.useState(!1),ne=h.useRef(!1);h.useEffect(()=>{if(w)return Gm(w)},[w]),Bm();const P=h.useCallback(S=>{const[K,...te]=_().map(xe=>xe.ref.current),[Q]=te.slice(-1),oe=document.activeElement;for(const xe of S)if(xe===oe||(xe==null||xe.scrollIntoView({block:"nearest"}),xe===K&&k&&(k.scrollTop=0),xe===Q&&k&&(k.scrollTop=k.scrollHeight),xe==null||xe.focus(),document.activeElement!==oe))return},[_,k]),H=h.useCallback(()=>P([T,w]),[P,T,w]);h.useEffect(()=>{R&&H()},[R,H]);const{onOpenChange:L,triggerPointerDownPosRef:M}=x;h.useEffect(()=>{if(w){let S={x:0,y:0};const K=Q=>{var oe,xe;S={x:Math.abs(Math.round(Q.pageX)-(((oe=M.current)==null?void 0:oe.x)??0)),y:Math.abs(Math.round(Q.pageY)-(((xe=M.current)==null?void 0:xe.y)??0))}},te=Q=>{S.x<=10&&S.y<=10?Q.preventDefault():w.contains(Q.target)||L(!1),document.removeEventListener("pointermove",K),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",K),document.addEventListener("pointerup",te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",te,{capture:!0})}}},[w,L,M]),h.useEffect(()=>{const S=()=>L(!1);return window.addEventListener("blur",S),window.addEventListener("resize",S),()=>{window.removeEventListener("blur",S),window.removeEventListener("resize",S)}},[L]);const[F,G]=Ik(S=>{const K=_().filter(oe=>!oe.disabled),te=K.find(oe=>oe.ref.current===document.activeElement),Q=Lk(K,S,te);Q&&setTimeout(()=>Q.ref.current.focus())}),q=h.useCallback((S,K,te)=>{const Q=!ne.current&&!te;(x.value!==void 0&&x.value===K||Q)&&(B(S),Q&&(ne.current=!0))},[x.value]),de=h.useCallback(()=>w==null?void 0:w.focus(),[w]),z=h.useCallback((S,K,te)=>{const Q=!ne.current&&!te;(x.value!==void 0&&x.value===K||Q)&&W(S)},[x.value]),ee=n==="popper"?ix:yk,U=ee===ix?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:m,collisionBoundary:f,collisionPadding:p,sticky:v,hideWhenDetached:g,avoidCollisions:b}:{};return s.jsx(xk,{scope:r,content:w,viewport:k,onViewportChange:A,itemRefCallback:q,selectedItem:T,onItemLeave:de,itemTextRefCallback:z,focusSelectedItem:H,selectedItemText:$,position:n,isPositioned:R,searchRef:F,children:s.jsx(Ad,{as:Nn,allowPinchZoom:!0,children:s.jsx(Ed,{asChild:!0,trapped:x.open,onMountAutoFocus:S=>{S.preventDefault()},onUnmountAutoFocus:_e(a,S=>{var K;(K=x.trigger)==null||K.focus({preventScroll:!0}),S.preventDefault()}),children:s.jsx(si,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:S=>S.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:s.jsx(ee,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:S=>S.preventDefault(),...y,...U,onPlaced:()=>O(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:_e(y.onKeyDown,S=>{const K=S.ctrlKey||S.altKey||S.metaKey;if(S.key==="Tab"&&S.preventDefault(),!K&&S.key.length===1&&G(S.key),["ArrowUp","ArrowDown","Home","End"].includes(S.key)){let Q=_().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);if(["ArrowUp","End"].includes(S.key)&&(Q=Q.slice().reverse()),["ArrowUp","ArrowDown"].includes(S.key)){const oe=S.target,xe=Q.indexOf(oe);Q=Q.slice(xe+1)}setTimeout(()=>P(Q)),S.preventDefault()}})})})})})})});vk.displayName=CL;var DL="SelectItemAlignedPosition",yk=h.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,o=fo(Go,r),i=po(Go,r),[l,c]=h.useState(null),[u,d]=h.useState(null),m=ut(t,C=>d(C)),f=Qm(r),p=h.useRef(!1),v=h.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:y,focusSelectedItem:x}=i,w=h.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&g&&b&&y){const C=o.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),B=o.valueNode.getBoundingClientRect(),$=y.getBoundingClientRect();if(o.dir!=="rtl"){const oe=$.left-T.left,xe=B.left-oe,Ne=C.left-xe,Se=C.width+Ne,Je=Math.max(Se,T.width),Ze=window.innerWidth-Es,Qe=Ww(xe,[Es,Math.max(Es,Ze-Je)]);l.style.minWidth=Se+"px",l.style.left=Qe+"px"}else{const oe=T.right-$.right,xe=window.innerWidth-B.right-oe,Ne=window.innerWidth-C.right-xe,Se=C.width+Ne,Je=Math.max(Se,T.width),Ze=window.innerWidth-Es,Qe=Ww(xe,[Es,Math.max(Es,Ze-Je)]);l.style.minWidth=Se+"px",l.style.right=Qe+"px"}const W=f(),_=window.innerHeight-Es*2,R=g.scrollHeight,O=window.getComputedStyle(u),ne=parseInt(O.borderTopWidth,10),P=parseInt(O.paddingTop,10),H=parseInt(O.borderBottomWidth,10),L=parseInt(O.paddingBottom,10),M=ne+P+R+L+H,F=Math.min(b.offsetHeight*5,M),G=window.getComputedStyle(g),q=parseInt(G.paddingTop,10),de=parseInt(G.paddingBottom,10),z=C.top+C.height/2-Es,ee=_-z,U=b.offsetHeight/2,S=b.offsetTop+U,K=ne+P+S,te=M-K;if(K<=z){const oe=W.length>0&&b===W[W.length-1].ref.current;l.style.bottom="0px";const xe=u.clientHeight-g.offsetTop-g.offsetHeight,Ne=Math.max(ee,U+(oe?de:0)+xe+H),Se=K+Ne;l.style.height=Se+"px"}else{const oe=W.length>0&&b===W[0].ref.current;l.style.top="0px";const Ne=Math.max(z,ne+g.offsetTop+(oe?q:0)+U)+te;l.style.height=Ne+"px",g.scrollTop=K-z+g.offsetTop}l.style.margin=`${Es}px 0`,l.style.minHeight=F+"px",l.style.maxHeight=_+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[f,o.trigger,o.valueNode,l,u,g,b,y,o.dir,n]);hr(()=>w(),[w]);const[j,k]=h.useState();hr(()=>{u&&k(window.getComputedStyle(u).zIndex)},[u]);const A=h.useCallback(C=>{C&&v.current===!0&&(w(),x==null||x(),v.current=!1)},[w,x]);return s.jsx(TL,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:A,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:s.jsx(Be.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});yk.displayName=DL;var PL="SelectPopperPosition",ix=h.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Es,...o}=e,i=Xm(r);return s.jsx(Ym,{...i,...o,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ix.displayName=PL;var[TL,ev]=$l(Go,{}),lx="SelectViewport",wk=h.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,o=po(lx,r),i=ev(lx,r),l=ut(t,o.onViewportChange),c=h.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Zm.Slot,{scope:r,children:s.jsx(Be.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:_e(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:f}=i;if(f!=null&&f.current&&m){const p=Math.abs(c.current-d.scrollTop);if(p>0){const v=window.innerHeight-Es*2,g=parseFloat(m.style.minHeight),b=parseFloat(m.style.height),y=Math.max(g,b);if(y<v){const x=y+p,w=Math.min(v,x),j=x-w;m.style.height=w+"px",m.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,m.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});wk.displayName=lx;var bk="SelectGroup",[EL,ML]=$l(bk),jk=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=js();return s.jsx(EL,{scope:r,id:a,children:s.jsx(Be.div,{role:"group","aria-labelledby":a,...n,ref:t})})});jk.displayName=bk;var Nk="SelectLabel",_k=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=ML(Nk,r);return s.jsx(Be.div,{id:a.id,...n,ref:t})});_k.displayName=Nk;var Bh="SelectItem",[RL,kk]=$l(Bh),Sk=h.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:o,...i}=e,l=fo(Bh,r),c=po(Bh,r),u=l.value===n,[d,m]=h.useState(o??""),[f,p]=h.useState(!1),v=ut(t,x=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,x,n,a)}),g=js(),b=h.useRef("touch"),y=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(RL,{scope:r,value:n,disabled:a,textId:g,isSelected:u,onItemTextChange:h.useCallback(x=>{m(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:s.jsx(Zm.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(Be.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:v,onFocus:_e(i.onFocus,()=>p(!0)),onBlur:_e(i.onBlur,()=>p(!1)),onClick:_e(i.onClick,()=>{b.current!=="mouse"&&y()}),onPointerUp:_e(i.onPointerUp,()=>{b.current==="mouse"&&y()}),onPointerDown:_e(i.onPointerDown,x=>{b.current=x.pointerType}),onPointerMove:_e(i.onPointerMove,x=>{var w;b.current=x.pointerType,a?(w=c.onItemLeave)==null||w.call(c):b.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:_e(i.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:_e(i.onKeyDown,x=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&x.key===" "||(wL.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});Sk.displayName=Bh;var uc="SelectItemText",Ck=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...o}=e,i=fo(uc,r),l=po(uc,r),c=kk(uc,r),u=_L(uc,r),[d,m]=h.useState(null),f=ut(t,y=>m(y),c.onItemTextChange,y=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,y,c.value,c.disabled)}),p=d==null?void 0:d.textContent,v=h.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=u;return hr(()=>(g(v),()=>b(v)),[g,b,v]),s.jsxs(s.Fragment,{children:[s.jsx(Be.span,{id:c.textId,...o,ref:f}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?ti.createPortal(o.children,i.valueNode):null]})});Ck.displayName=uc;var Dk="SelectItemIndicator",Pk=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return kk(Dk,r).isSelected?s.jsx(Be.span,{"aria-hidden":!0,...n,ref:t}):null});Pk.displayName=Dk;var cx="SelectScrollUpButton",Tk=h.forwardRef((e,t)=>{const r=po(cx,e.__scopeSelect),n=ev(cx,e.__scopeSelect),[a,o]=h.useState(!1),i=ut(t,n.onScrollButtonChange);return hr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(Mk,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Tk.displayName=cx;var dx="SelectScrollDownButton",Ek=h.forwardRef((e,t)=>{const r=po(dx,e.__scopeSelect),n=ev(dx,e.__scopeSelect),[a,o]=h.useState(!1),i=ut(t,n.onScrollButtonChange);return hr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(Mk,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Ek.displayName=dx;var Mk=h.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,o=po("SelectScrollButton",r),i=h.useRef(null),l=Qm(r),c=h.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),hr(()=>{var d;const u=l().find(m=>m.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(Be.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:_e(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:_e(a.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:_e(a.onPointerLeave,()=>{c()})})}),AL="SelectSeparator",Rk=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Be.div,{"aria-hidden":!0,...n,ref:t})});Rk.displayName=AL;var ux="SelectArrow",OL=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Xm(r),o=fo(ux,r),i=po(ux,r);return o.open&&i.position==="popper"?s.jsx(Km,{...a,...n,ref:t}):null});OL.displayName=ux;function Ak(e){return e===""||e===void 0}var Ok=h.forwardRef((e,t)=>{const{value:r,...n}=e,a=h.useRef(null),o=ut(t,a),i=X0(r);return h.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==r&&d){const m=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(m)}},[i,r]),s.jsx(Pd,{asChild:!0,children:s.jsx("select",{...n,ref:o,defaultValue:r})})});Ok.displayName="BubbleSelect";function Ik(e){const t=jr(e),r=h.useRef(""),n=h.useRef(0),a=h.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=h.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,o]}function Lk(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=IL(e,Math.max(o,0));a.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function IL(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var LL=ck,Fk=uk,FL=mk,$L=fk,zL=pk,$k=gk,UL=wk,BL=jk,zk=_k,Uk=Sk,VL=Ck,WL=Pk,Bk=Tk,Vk=Ek,Wk=Rk;const Oe=LL,HL=BL,Ie=FL,Re=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Fk,{ref:n,className:se("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx($L,{asChild:!0,children:s.jsx(Kr,{className:"h-4 w-4 opacity-50"})})]}));Re.displayName=Fk.displayName;const Hk=h.forwardRef(({className:e,...t},r)=>s.jsx(Bk,{ref:r,className:se("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(zs,{className:"h-4 w-4"})}));Hk.displayName=Bk.displayName;const qk=h.forwardRef(({className:e,...t},r)=>s.jsx(Vk,{ref:r,className:se("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Kr,{className:"h-4 w-4"})}));qk.displayName=Vk.displayName;const Ae=h.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(zL,{children:s.jsxs($k,{ref:a,className:se("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(Hk,{}),s.jsx(UL,{className:se("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(qk,{})]})}));Ae.displayName=$k.displayName;const qL=h.forwardRef(({className:e,...t},r)=>s.jsx(zk,{ref:r,className:se("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));qL.displayName=zk.displayName;const ce=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Uk,{ref:n,className:se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(WL,{children:s.jsx(Is,{className:"h-4 w-4"})})}),s.jsx(VL,{children:t})]}));ce.displayName=Uk.displayName;const YL=h.forwardRef(({className:e,...t},r)=>s.jsx(Wk,{ref:r,className:se("-mx-1 my-1 h-px bg-muted",e),...t}));YL.displayName=Wk.displayName;const KL=()=>{const{tasks:e,users:t,managers:r,departments:n,employees:a,projects:o,getProjectStatuses:i}=yt();Yt();const[l,c]=h.useState([]),[u,d]=h.useState(""),[m,f]=h.useState("all"),[p,v]=h.useState("all"),[g,b]=h.useState("stage"),[y,x]=h.useState("asc"),[w,j]=h.useState({}),k=i(),A=q=>{const de=k.find(z=>z.name===q);return(de==null?void 0:de.color)||"#6b7280"},C=[...t.map(q=>({id:q.id,name:q.name,type:"user"})),...a.map(q=>({id:q.id,name:q.name,type:"employee"})),...r.map(q=>({id:q.id,name:q.name,type:"manager"}))].sort((q,de)=>q.name.localeCompare(de.name)),T=async()=>{try{const{data:q,error:de}=await re.from("task_phases").select("*").eq("is_active",!0).order("order_index");if(de)throw de;c(q||[])}catch(q){console.error("업무 단계 로드 오류:",q)}},B=async()=>{try{const q=e.map(U=>U.id);if(q.length===0)return;const{data:de,error:z}=await re.from("task_attachments").select(`
          *,
          files:file_id (
            id,
            original_filename,
            filename,
            content_type,
            file_size,
            file_path
          )
        `).in("task_id",q);if(z)throw z;const ee={};(de||[]).forEach(U=>{ee[U.task_id]||(ee[U.task_id]=[]),ee[U.task_id].push(U)}),j(ee)}catch(q){console.error("업무 첨부 파일 로드 오류:",q)}};h.useEffect(()=>{T(),B()},[e.length]);const $=q=>{if(!q)return"-";try{const de=E0(q);return Om(de)?Ke(de,"yyyy-MM-dd",{locale:Yr}):q}catch{return q}},W=q=>{if(!q)return{name:"단계 미지정",color:"#6b7280"};const de=l.find(z=>z.id===q);return de?{name:de.name,color:de.color||"#3b82f6"}:{name:"단계 미지정",color:"#6b7280"}},_=q=>{const de=l.find(ee=>ee.id===q.taskPhase),z=(de==null?void 0:de.order_index)||0;return String(z).padStart(2,"0")},R=q=>{if(!q)return"미지정";const de=t.find(U=>U.id===q);if(de)return de.name;const z=a.find(U=>U.id===q);if(z)return z.name;const ee=r.find(U=>U.id===q);return ee?ee.name:"미지정"},O=q=>{if(!q)return"-";const de=n.find(K=>K.id===q);if(de)return de.name;const z=n.find(K=>K.code===q);if(z)return z.name;const ee=n.find(K=>K.name===q);if(ee)return ee.name;const S={sales:"영업",development:"개발",manufacturing:"제조",quality:"품질",finance:"재무",administration:"관리",management:"경영",engineering:"기술",rnd:"연구개발",production:"생산",qa:"품질보증"}[q.toLowerCase()];return S||q},ne=q=>{if(!q)return"-";const de=o.find(z=>z.id===q);return de?de.name:"-"},P={"not-started":"할 일","to-do":"할 일",todo:"할 일","in-progress":"진행중",progress:"진행중",doing:"진행중",reviewing:"검토중",review:"검토중",pending:"검토중",completed:"완료",done:"완료",finished:"완료",delayed:"지연",blocked:"지연","on-hold":"보류",paused:"보류"},M=[...e.map(q=>({...q,status:P[q.status.toLowerCase()]||q.status})).filter(q=>{var S;const de=!u||q.title.toLowerCase().includes(u.toLowerCase())||((S=q.description)==null?void 0:S.toLowerCase().includes(u.toLowerCase()));let z=m;if(m!=="all"){const K=k.find(te=>te.id===m);z=K?K.name:m}const ee=m==="all"||q.status===z,U=p==="all"||q.assignedTo===p;return de&&ee&&U})].sort((q,de)=>{let z=0;switch(g){case"stage":const ee=l.find(oe=>oe.id===q.taskPhase),U=l.find(oe=>oe.id===de.taskPhase);z=((ee==null?void 0:ee.order_index)||999)-((U==null?void 0:U.order_index)||999);break;case"title":z=q.title.localeCompare(de.title);break;case"assignedTo":const S=R(q.assignedTo),K=R(de.assignedTo);z=S.localeCompare(K);break;case"dueDate":const te=q.dueDate?new Date(q.dueDate).getTime():0,Q=de.dueDate?new Date(de.dueDate).getTime():0;z=te-Q;break;case"status":z=(q.status||"").localeCompare(de.status||"");break}return y==="asc"?z:-z}),F=q=>{g===q?x(y==="asc"?"desc":"asc"):(b(q),x("asc"))},G=({taskId:q})=>{const de=w[q]||[],z=de.filter(U=>U.attachment_type==="file"),ee=de.filter(U=>U.attachment_type==="link");return de.length===0?s.jsx("div",{className:"flex items-center justify-center text-gray-400",children:s.jsx("span",{className:"text-xs",children:"-"})}):s.jsxs("div",{className:"flex items-center gap-2",children:[z.length>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Xc,{className:"h-3 w-3 text-blue-500"}),s.jsx("span",{className:"text-xs text-blue-600 font-medium",children:z.length})]}),ee.length>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ih,{className:"h-3 w-3 text-green-500"}),s.jsx("span",{className:"text-xs text-green-600 font-medium",children:ee.length})]}),s.jsxs("div",{className:"flex gap-1",children:[de.slice(0,3).map((U,S)=>{var K,te;if(U.attachment_type==="file"){const Q=U.files;if(!Q)return null;const oe=(K=Q.content_type)==null?void 0:K.startsWith("image/"),xe=(te=Q.content_type)==null?void 0:te.includes("pdf");return s.jsx("div",{className:"w-6 h-6 rounded border border-gray-200 flex items-center justify-center bg-white hover:bg-gray-50 cursor-pointer",title:Q.original_filename,onClick:Ne=>{Ne.stopPropagation();const{data:{publicUrl:Se}}=re.storage.from("task-files").getPublicUrl(Q.file_path);window.open(Se,"_blank")},children:oe?s.jsx(Yo,{className:"h-3 w-3 text-blue-500"}):xe?s.jsx(Et,{className:"h-3 w-3 text-red-500"}):s.jsx(Et,{className:"h-3 w-3 text-gray-500"})},U.id)}else if(U.attachment_type==="link")return s.jsx("div",{className:"w-6 h-6 rounded border border-gray-200 flex items-center justify-center bg-white hover:bg-gray-50 cursor-pointer",title:U.link_title,onClick:Q=>{Q.stopPropagation(),window.open(U.link_url,"_blank")},children:s.jsx(zm,{className:"h-3 w-3 text-green-500"})},U.id);return null}),de.length>3&&s.jsxs("div",{className:"w-6 h-6 rounded border border-gray-200 flex items-center justify-center bg-gray-100 text-xs text-gray-600",children:["+",de.length-3]})]})]})};return s.jsxs("div",{className:"p-6 w-full",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-gray-500 to-gray-600",children:s.jsx(Hn,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"업무 데이터베이스"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"모든 프로젝트의 업무 데이터를 조회할 수 있습니다"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-lg text-sm text-gray-600",children:[s.jsx(uo,{className:"h-4 w-4"}),s.jsx("span",{children:"읽기 전용 모드"})]})]}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-6",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"relative flex-1 min-w-64",children:[s.jsx(Ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(fe,{placeholder:"업무 검색...",value:u,onChange:q=>d(q.target.value),className:"pl-9"})]}),s.jsxs(Oe,{value:m,onValueChange:f,children:[s.jsx(Re,{className:"w-48",children:s.jsx(Ie,{placeholder:"상태 필터"})}),s.jsxs(Ae,{children:[s.jsx(ce,{value:"all",children:"모든 상태"}),k.map(q=>s.jsx(ce,{value:q.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:A(q.name)}}),q.name]})},q.id))]})]}),s.jsxs(Oe,{value:p,onValueChange:v,children:[s.jsx(Re,{className:"w-48",children:s.jsx(Ie,{placeholder:"담당자 필터"})}),s.jsxs(Ae,{children:[s.jsx(ce,{value:"all",children:"모든 담당자"}),C.map(q=>s.jsx(ce,{value:q.id,children:q.name},q.id))]})]})]})}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>F("stage"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Stage",g==="stage"&&(y==="asc"?s.jsx(zs,{className:"h-3 w-3"}):s.jsx(Kr,{className:"h-3 w-3"}))]})}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>F("title"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Task Name",g==="title"&&(y==="asc"?s.jsx(zs,{className:"h-3 w-3"}):s.jsx(Kr,{className:"h-3 w-3"}))]})}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>F("assignedTo"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["담당",g==="assignedTo"&&(y==="asc"?s.jsx(zs,{className:"h-3 w-3"}):s.jsx(Kr,{className:"h-3 w-3"}))]})}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"부서"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>F("dueDate"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Due Date",g==="dueDate"&&(y==="asc"?s.jsx(zs,{className:"h-3 w-3"}):s.jsx(Kr,{className:"h-3 w-3"}))]})}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>F("status"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["상태",g==="status"&&(y==="asc"?s.jsx(zs,{className:"h-3 w-3"}):s.jsx(Kr,{className:"h-3 w-3"}))]})}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"OverDue"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"자료 Link"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"프로젝트"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:M.map((q,de)=>{const z=W(q.taskPhase),ee=q.dueDate&&new Date(q.dueDate)<new Date&&q.status!=="완료";return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[_(q),"."]}),s.jsx(Le,{variant:"outline",className:"text-xs",style:{backgroundColor:`${z.color}20`,borderColor:z.color,color:z.color},children:z.name})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("div",{className:"text-sm font-medium text-gray-900 max-w-xs",children:q.title})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-6 w-6 bg-gray-300 rounded-full flex items-center justify-center",children:s.jsx(nr,{className:"h-3 w-3 text-gray-600"})}),s.jsx("div",{className:"ml-2",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:R(q.assignedTo)})})]})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:s.jsx("span",{className:"text-sm text-gray-900",children:O(q.department)})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:s.jsx("span",{className:"text-sm text-gray-900",children:$(q.dueDate)})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:A(q.status)}}),s.jsx("span",{className:"text-sm text-gray-900",children:q.status}),s.jsxs("span",{className:"text-xs text-gray-500",children:[q.progress,"%"]})]})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:ee?s.jsxs("div",{className:"flex items-center text-red-600",children:[s.jsx(rr,{className:"h-4 w-4 mr-1"}),s.jsxs("span",{className:"text-xs font-medium",children:[Math.ceil((new Date().getTime()-new Date(q.dueDate).getTime())/(1e3*60*60*24)),"일 지연"]})]}):s.jsxs("div",{className:"flex items-center text-green-600",children:[s.jsx(Sr,{className:"h-4 w-4 mr-1"}),s.jsx("span",{className:"text-xs",children:"정상"})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(G,{taskId:q.id})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:s.jsx("span",{className:"text-sm text-gray-900",children:ne(q.projectId)})})]},q.id)})})]})}),M.length===0&&s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(Ga,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"검색 결과가 없습니다"}),s.jsx("p",{className:"text-sm",children:"다른 검색어나 필터를 시도해보세요."})]})]}),s.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Hn,{className:"h-5 w-5 text-blue-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-blue-900 mb-1",children:"데이터베이스 정보"}),s.jsx("p",{className:"text-sm text-blue-700",children:"이 페이지는 각 프로젝트 상세정보에서 등록된 하위업무들을 모아서 보여주는 읽기 전용 데이터베이스입니다. 업무 수정은 해당 프로젝트의 상세정보 페이지에서 가능합니다."})]})]})})]})},rd=Td("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),X=h.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},o)=>{const i=n?Nn:"button";return s.jsx(i,{className:se(rd({variant:t,size:r,className:e})),ref:o,...a})});X.displayName="Button";const Pe=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:se("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Pe.displayName="Card";const ft=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:se("flex flex-col space-y-1.5 p-6",e),...t}));ft.displayName="CardHeader";const pt=h.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:se("text-2xl font-semibold leading-none tracking-tight",e),...t}));pt.displayName="CardTitle";const Ct=h.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:se("text-sm text-muted-foreground",e),...t}));Ct.displayName="CardDescription";const Ee=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:se("p-6 pt-0",e),...t}));Ee.displayName="CardContent";const ef=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:se("flex items-center p-6 pt-0",e),...t}));ef.displayName="CardFooter";var tv="Dialog",[Yk,Kk]=Cs(tv),[GL,an]=Yk(tv),Gk=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:o,modal:i=!0}=e,l=h.useRef(null),c=h.useRef(null),[u=!1,d]=Qs({prop:n,defaultProp:a,onChange:o});return s.jsx(GL,{scope:t,triggerRef:l,contentRef:c,contentId:js(),titleId:js(),descriptionId:js(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(m=>!m),[d]),modal:i,children:r})};Gk.displayName=tv;var Jk="DialogTrigger",Zk=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=an(Jk,r),o=ut(t,a.triggerRef);return s.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":nv(a.open),...n,ref:o,onClick:_e(e.onClick,a.onOpenToggle)})});Zk.displayName=Jk;var rv="DialogPortal",[JL,Qk]=Yk(rv,{forceMount:void 0}),Xk=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,o=an(rv,t);return s.jsx(JL,{scope:t,forceMount:r,children:h.Children.map(n,i=>s.jsx(ts,{present:r||o.open,children:s.jsx(Rl,{asChild:!0,container:a,children:i})}))})};Xk.displayName=rv;var Vh="DialogOverlay",eS=h.forwardRef((e,t)=>{const r=Qk(Vh,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,o=an(Vh,e.__scopeDialog);return o.modal?s.jsx(ts,{present:n||o.open,children:s.jsx(ZL,{...a,ref:t})}):null});eS.displayName=Vh;var ZL=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=an(Vh,r);return s.jsx(Ad,{as:Nn,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Be.div,{"data-state":nv(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Jo="DialogContent",tS=h.forwardRef((e,t)=>{const r=Qk(Jo,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,o=an(Jo,e.__scopeDialog);return s.jsx(ts,{present:n||o.open,children:o.modal?s.jsx(QL,{...a,ref:t}):s.jsx(XL,{...a,ref:t})})});tS.displayName=Jo;var QL=h.forwardRef((e,t)=>{const r=an(Jo,e.__scopeDialog),n=h.useRef(null),a=ut(t,r.contentRef,n);return h.useEffect(()=>{const o=n.current;if(o)return Gm(o)},[]),s.jsx(rS,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_e(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:_e(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:_e(e.onFocusOutside,o=>o.preventDefault())})}),XL=h.forwardRef((e,t)=>{const r=an(Jo,e.__scopeDialog),n=h.useRef(!1),a=h.useRef(!1);return s.jsx(rS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),rS=h.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:o,...i}=e,l=an(Jo,r),c=h.useRef(null),u=ut(t,c);return Bm(),s.jsxs(s.Fragment,{children:[s.jsx(Ed,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:o,children:s.jsx(si,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":nv(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(t8,{titleId:l.titleId}),s.jsx(s8,{contentRef:c,descriptionId:l.descriptionId})]})]})}),sv="DialogTitle",sS=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=an(sv,r);return s.jsx(Be.h2,{id:a.titleId,...n,ref:t})});sS.displayName=sv;var nS="DialogDescription",aS=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=an(nS,r);return s.jsx(Be.p,{id:a.descriptionId,...n,ref:t})});aS.displayName=nS;var oS="DialogClose",iS=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=an(oS,r);return s.jsx(Be.button,{type:"button",...n,ref:t,onClick:_e(e.onClick,()=>a.onOpenChange(!1))})});iS.displayName=oS;function nv(e){return e?"open":"closed"}var lS="DialogTitleWarning",[e8,cS]=vA(lS,{contentName:Jo,titleName:sv,docsSlug:"dialog"}),t8=({titleId:e})=>{const t=cS(lS),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},r8="DialogDescriptionWarning",s8=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${cS(r8).contentName}}.`;return h.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},av=Gk,ov=Zk,iv=Xk,Id=eS,Ld=tS,Fd=sS,$d=aS,tf=iS;const kt=av,Mp=ov,n8=iv,dS=h.forwardRef(({className:e,...t},r)=>s.jsx(Id,{ref:r,className:se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));dS.displayName=Id.displayName;const bt=h.forwardRef(({className:e,children:t,...r},n)=>{const a=h.useId(),o=r["aria-describedby"]||a;return s.jsxs(n8,{children:[s.jsx(dS,{}),s.jsxs(Ld,{ref:n,className:se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),"aria-describedby":o,...r,children:[t,s.jsxs(tf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(It,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})});bt.displayName=Ld.displayName;const jt=({className:e,...t})=>s.jsx("div",{className:se("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});jt.displayName="DialogHeader";const $t=({className:e,...t})=>s.jsx("div",{className:se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});$t.displayName="DialogFooter";const Nt=h.forwardRef(({className:e,...t},r)=>s.jsx(Fd,{ref:r,className:se("text-lg font-semibold leading-none tracking-tight",e),...t}));Nt.displayName=Fd.displayName;const yn=h.forwardRef(({className:e,...t},r)=>s.jsx($d,{ref:r,className:se("text-sm text-muted-foreground",e),...t}));yn.displayName=$d.displayName;var a8="Label",uS=h.forwardRef((e,t)=>s.jsx(Be.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));uS.displayName=a8;var hS=uS;const o8=Td("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ue=h.forwardRef(({className:e,...t},r)=>s.jsx(hS,{ref:r,className:se(o8(),e),...t}));ue.displayName=hS.displayName;var Ye=function(){return Ye=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Ye.apply(this,arguments)};function i8(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function mS(e,t,r){for(var n=0,a=t.length,o;n<a;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}function zd(e){return e.mode==="multiple"}function Ud(e){return e.mode==="range"}function rf(e){return e.mode==="single"}var l8={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function c8(e,t){return Ke(e,"LLLL y",t)}function d8(e,t){return Ke(e,"d",t)}function u8(e,t){return Ke(e,"LLLL",t)}function h8(e){return"".concat(e)}function m8(e,t){return Ke(e,"cccccc",t)}function f8(e,t){return Ke(e,"yyyy",t)}var p8=Object.freeze({__proto__:null,formatCaption:c8,formatDay:d8,formatMonthCaption:u8,formatWeekNumber:h8,formatWeekdayName:m8,formatYearCaption:f8}),g8=function(e,t,r){return Ke(e,"do MMMM (EEEE)",r)},x8=function(){return"Month: "},v8=function(){return"Go to next month"},y8=function(){return"Go to previous month"},w8=function(e,t){return Ke(e,"cccc",t)},b8=function(e){return"Week n. ".concat(e)},j8=function(){return"Year: "},N8=Object.freeze({__proto__:null,labelDay:g8,labelMonthDropdown:x8,labelNext:v8,labelPrevious:y8,labelWeekNumber:b8,labelWeekday:w8,labelYearDropdown:j8});function _8(){var e="buttons",t=l8,r=LN,n={},a={},o=1,i={},l=new Date;return{captionLayout:e,classNames:t,formatters:p8,labels:N8,locale:r,modifiersClassNames:n,modifiers:a,numberOfMonths:o,styles:i,today:l,mode:"default"}}function k8(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,a=e.toMonth,o=e.fromDate,i=e.toDate;return n?o=es(n):t&&(o=new Date(t,0,1)),a?i=C0(a):r&&(i=new Date(r,11,31)),{fromDate:o?fl(o):void 0,toDate:i?fl(i):void 0}}var fS=h.createContext(void 0);function S8(e){var t,r=e.initialProps,n=_8(),a=k8(r),o=a.fromDate,i=a.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!o||!i)&&(l="buttons");var c;(rf(r)||zd(r)||Ud(r))&&(c=r.onSelect);var u=Ye(Ye(Ye({},n),r),{captionLayout:l,classNames:Ye(Ye({},n.classNames),r.classNames),components:Ye({},r.components),formatters:Ye(Ye({},n.formatters),r.formatters),fromDate:o,labels:Ye(Ye({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:Ye(Ye({},n.modifiers),r.modifiers),modifiersClassNames:Ye(Ye({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:Ye(Ye({},n.styles),r.styles),toDate:i});return s.jsx(fS.Provider,{value:u,children:e.children})}function Mt(){var e=h.useContext(fS);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function pS(e){var t=Mt(),r=t.locale,n=t.classNames,a=t.styles,o=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:r})})}function C8(e){return s.jsx("svg",Ye({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function gS(e){var t,r,n=e.onChange,a=e.value,o=e.children,i=e.caption,l=e.className,c=e.style,u=Mt(),d=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:C8;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:n,children:o}),s.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[i,s.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function D8(e){var t,r=Mt(),n=r.fromDate,a=r.toDate,o=r.styles,i=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var m=[];if(K3(n,a))for(var f=es(n),p=n.getMonth();p<=a.getMonth();p++)m.push(fp(f,p));else for(var f=es(new Date),p=0;p<=11;p++)m.push(fp(f,p));var v=function(b){var y=Number(b.target.value),x=fp(es(e.displayMonth),y);e.onChange(x)},g=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:gS;return s.jsx(g,{name:"months","aria-label":d(),className:c.dropdown_month,style:o.dropdown_month,onChange:v,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:i}),children:m.map(function(b){return s.jsx("option",{value:b.getMonth(),children:l(b,{locale:i})},b.getMonth())})})}function P8(e){var t,r=e.displayMonth,n=Mt(),a=n.fromDate,o=n.toDate,i=n.locale,l=n.styles,c=n.classNames,u=n.components,d=n.formatters.formatYearCaption,m=n.labels.labelYearDropdown,f=[];if(!a)return s.jsx(s.Fragment,{});if(!o)return s.jsx(s.Fragment,{});for(var p=a.getFullYear(),v=o.getFullYear(),g=p;g<=v;g++)f.push(Cw(AN(new Date),g));var b=function(x){var w=Cw(es(r),Number(x.target.value));e.onChange(w)},y=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:gS;return s.jsx(y,{name:"years","aria-label":m(),className:c.dropdown_year,style:l.dropdown_year,onChange:b,value:r.getFullYear(),caption:d(r,{locale:i}),children:f.map(function(x){return s.jsx("option",{value:x.getFullYear(),children:d(x,{locale:i})},x.getFullYear())})})}function T8(e,t){var r=h.useState(e),n=r[0],a=r[1],o=t===void 0?n:t;return[o,a]}function E8(e){var t=e.month,r=e.defaultMonth,n=e.today,a=t||r||n||new Date,o=e.toDate,i=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(o&&Zc(o,a)<0){var u=-1*(c-1);a=Zs(o,u)}return i&&Zc(a,i)<0&&(a=i),es(a)}function M8(){var e=Mt(),t=E8(e),r=T8(t,e.month),n=r[0],a=r[1],o=function(i){var l;if(!e.disableNavigation){var c=es(i);a(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,o]}function R8(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,a=es(e),o=es(Zs(a,n)),i=Zc(o,a),l=[],c=0;c<i;c++){var u=Zs(a,c);l.push(u)}return r&&(l=l.reverse()),l}function A8(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,a=t.numberOfMonths,o=a===void 0?1:a,i=n?o:1,l=es(e);if(!r)return Zs(l,i);var c=Zc(r,e);if(!(c<o))return Zs(l,i)}}function O8(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,a=t.numberOfMonths,o=a===void 0?1:a,i=n?o:1,l=es(e);if(!r)return Zs(l,-i);var c=Zc(l,r);if(!(c<=0))return Zs(l,-i)}}var xS=h.createContext(void 0);function I8(e){var t=Mt(),r=M8(),n=r[0],a=r[1],o=R8(n,t),i=A8(n,t),l=O8(n,t),c=function(m){return o.some(function(f){return T0(m,f)})},u=function(m,f){c(m)||(f&&P0(m,f)?a(Zs(m,1+t.numberOfMonths*-1)):a(m))},d={currentMonth:n,displayMonths:o,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:i,isDateDisplayed:c};return s.jsx(xS.Provider,{value:d,children:e.children})}function Bd(){var e=h.useContext(xS);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function cb(e){var t,r=Mt(),n=r.classNames,a=r.styles,o=r.components,i=Bd().goToMonth,l=function(d){i(Zs(d,e.displayIndex?-e.displayIndex:0))},c=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:pS,u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:u}),s.jsx(D8,{onChange:l,displayMonth:e.displayMonth}),s.jsx(P8,{onChange:l,displayMonth:e.displayMonth})]})}function L8(e){return s.jsx("svg",Ye({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function F8(e){return s.jsx("svg",Ye({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Wh=h.forwardRef(function(e,t){var r=Mt(),n=r.classNames,a=r.styles,o=[n.button_reset,n.button];e.className&&o.push(e.className);var i=o.join(" "),l=Ye(Ye({},a.button_reset),a.button);return e.style&&Object.assign(l,e.style),s.jsx("button",Ye({},e,{ref:t,type:"button",className:i,style:l}))});function $8(e){var t,r,n=Mt(),a=n.dir,o=n.locale,i=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,d=c.labelNext,m=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var f=u(e.previousMonth,{locale:o}),p=[i.nav_button,i.nav_button_previous].join(" "),v=d(e.nextMonth,{locale:o}),g=[i.nav_button,i.nav_button_next].join(" "),b=(t=m==null?void 0:m.IconRight)!==null&&t!==void 0?t:F8,y=(r=m==null?void 0:m.IconLeft)!==null&&r!==void 0?r:L8;return s.jsxs("div",{className:i.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(Wh,{name:"previous-month","aria-label":f,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(b,{className:i.nav_icon,style:l.nav_icon}):s.jsx(y,{className:i.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(Wh,{name:"next-month","aria-label":v,className:g,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(y,{className:i.nav_icon,style:l.nav_icon}):s.jsx(b,{className:i.nav_icon,style:l.nav_icon})})]})}function db(e){var t=Mt().numberOfMonths,r=Bd(),n=r.previousMonth,a=r.nextMonth,o=r.goToMonth,i=r.displayMonths,l=i.findIndex(function(v){return T0(e.displayMonth,v)}),c=l===0,u=l===i.length-1,d=t>1&&(c||!u),m=t>1&&(u||!c),f=function(){n&&o(n)},p=function(){a&&o(a)};return s.jsx($8,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:m,nextMonth:a,previousMonth:n,onPreviousClick:f,onNextClick:p})}function z8(e){var t,r=Mt(),n=r.classNames,a=r.disableNavigation,o=r.styles,i=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:pS,u;return a?u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):i==="dropdown"?u=s.jsx(cb,{displayMonth:e.displayMonth,id:e.id}):i==="dropdown-buttons"?u=s.jsxs(s.Fragment,{children:[s.jsx(cb,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(db,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(db,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:o.caption,children:u})}function U8(e){var t=Mt(),r=t.footer,n=t.styles,a=t.classNames.tfoot;return r?s.jsx("tfoot",{className:a,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function B8(e,t,r){for(var n=r?qo(new Date):jn(new Date,{locale:e,weekStartsOn:t}),a=[],o=0;o<7;o++){var i=Mr(n,o);a.push(i)}return a}function V8(){var e=Mt(),t=e.classNames,r=e.styles,n=e.showWeekNumber,a=e.locale,o=e.weekStartsOn,i=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=B8(a,o,i);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(d,m){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(d,{locale:a}),children:l(d,{locale:a})},m)})]})}function W8(){var e,t=Mt(),r=t.classNames,n=t.styles,a=t.components,o=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:V8;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(o,{})})}function H8(e){var t=Mt(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var lv=h.createContext(void 0);function q8(e){if(!zd(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(lv.Provider,{value:t,children:e.children})}return s.jsx(Y8,{initialProps:e.initialProps,children:e.children})}function Y8(e){var t=e.initialProps,r=e.children,n=t.selected,a=t.min,o=t.max,i=function(u,d,m){var f,p;(f=t.onDayClick)===null||f===void 0||f.call(t,u,d,m);var v=!!(d.selected&&a&&(n==null?void 0:n.length)===a);if(!v){var g=!!(!d.selected&&o&&(n==null?void 0:n.length)===o);if(!g){var b=n?mS([],n):[];if(d.selected){var y=b.findIndex(function(x){return Jr(u,x)});b.splice(y,1)}else b.push(u);(p=t.onSelect)===null||p===void 0||p.call(t,b,u,d,m)}}},l={disabled:[]};n&&l.disabled.push(function(u){var d=o&&n.length>o-1,m=n.some(function(f){return Jr(f,u)});return!!(d&&!m)});var c={selected:n,onDayClick:i,modifiers:l};return s.jsx(lv.Provider,{value:c,children:r})}function cv(){var e=h.useContext(lv);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function K8(e,t){var r=t||{},n=r.from,a=r.to;return n&&a?Jr(a,e)&&Jr(n,e)?void 0:Jr(a,e)?{from:a,to:void 0}:Jr(n,e)?void 0:Yg(n,e)?{from:e,to:a}:{from:n,to:e}:a?Yg(e,a)?{from:a,to:e}:{from:e,to:a}:n?P0(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var dv=h.createContext(void 0);function G8(e){if(!Ud(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(dv.Provider,{value:t,children:e.children})}return s.jsx(J8,{initialProps:e.initialProps,children:e.children})}function J8(e){var t=e.initialProps,r=e.children,n=t.selected,a=n||{},o=a.from,i=a.to,l=t.min,c=t.max,u=function(p,v,g){var b,y;(b=t.onDayClick)===null||b===void 0||b.call(t,p,v,g);var x=K8(p,n);(y=t.onSelect)===null||y===void 0||y.call(t,x,p,v,g)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(d.range_start=[o],i?(d.range_end=[i],Jr(o,i)||(d.range_middle=[{after:o,before:i}])):d.range_end=[o]):i&&(d.range_start=[i],d.range_end=[i]),l&&(o&&!i&&d.disabled.push({after:hp(o,l-1),before:Mr(o,l-1)}),o&&i&&d.disabled.push({after:o,before:Mr(o,l-1)}),!o&&i&&d.disabled.push({after:hp(i,l-1),before:Mr(i,l-1)})),c){if(o&&!i&&(d.disabled.push({before:Mr(o,-c+1)}),d.disabled.push({after:Mr(o,c-1)})),o&&i){var m=Vs(i,o)+1,f=c-m;d.disabled.push({before:hp(o,f)}),d.disabled.push({after:Mr(i,f)})}!o&&i&&(d.disabled.push({before:Mr(i,-c+1)}),d.disabled.push({after:Mr(i,c-1)}))}return s.jsx(dv.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function uv(){var e=h.useContext(dv);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function th(e){return Array.isArray(e)?mS([],e):e!==void 0?[e]:[]}function Z8(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],a=r[1];t[n]=th(a)}),t}var rn;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(rn||(rn={}));var Q8=rn.Selected,Rn=rn.Disabled,X8=rn.Hidden,eF=rn.Today,Rp=rn.RangeEnd,Ap=rn.RangeMiddle,Op=rn.RangeStart,tF=rn.Outside;function rF(e,t,r){var n,a=(n={},n[Q8]=th(e.selected),n[Rn]=th(e.disabled),n[X8]=th(e.hidden),n[eF]=[e.today],n[Rp]=[],n[Ap]=[],n[Op]=[],n[tF]=[],n);return e.fromDate&&a[Rn].push({before:e.fromDate}),e.toDate&&a[Rn].push({after:e.toDate}),zd(e)?a[Rn]=a[Rn].concat(t.modifiers[Rn]):Ud(e)&&(a[Rn]=a[Rn].concat(r.modifiers[Rn]),a[Op]=r.modifiers[Op],a[Ap]=r.modifiers[Ap],a[Rp]=r.modifiers[Rp]),a}var vS=h.createContext(void 0);function sF(e){var t=Mt(),r=cv(),n=uv(),a=rF(t,r,n),o=Z8(t.modifiers),i=Ye(Ye({},a),o);return s.jsx(vS.Provider,{value:i,children:e.children})}function yS(){var e=h.useContext(vS);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function nF(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function aF(e){return!!(e&&typeof e=="object"&&"from"in e)}function oF(e){return!!(e&&typeof e=="object"&&"after"in e)}function iF(e){return!!(e&&typeof e=="object"&&"before"in e)}function lF(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function cF(e,t){var r,n=t.from,a=t.to;if(n&&a){var o=Vs(a,n)<0;o&&(r=[a,n],n=r[0],a=r[1]);var i=Vs(e,n)>=0&&Vs(a,e)>=0;return i}return a?Jr(a,e):n?Jr(n,e):!1}function dF(e){return S0(e)}function uF(e){return Array.isArray(e)&&e.every(S0)}function hF(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(dF(r))return Jr(e,r);if(uF(r))return r.includes(e);if(aF(r))return cF(e,r);if(lF(r))return r.dayOfWeek.includes(e.getDay());if(nF(r)){var n=Vs(r.before,e),a=Vs(r.after,e),o=n>0,i=a<0,l=Yg(r.before,r.after);return l?i&&o:o||i}return oF(r)?Vs(e,r.after)>0:iF(r)?Vs(r.before,e)>0:typeof r=="function"?r(e):!1})}function hv(e,t,r){var n=Object.keys(t).reduce(function(o,i){var l=t[i];return hF(e,l)&&o.push(i),o},[]),a={};return n.forEach(function(o){return a[o]=!0}),r&&!T0(e,r)&&(a.outside=!0),a}function mF(e,t){for(var r=es(e[0]),n=C0(e[e.length-1]),a,o,i=r;i<=n;){var l=hv(i,t),c=!l.disabled&&!l.hidden;if(!c){i=Mr(i,1);continue}if(l.selected)return i;l.today&&!o&&(o=i),a||(a=i),i=Mr(i,1)}return o||a}var fF=365;function wS(e,t){var r=t.moveBy,n=t.direction,a=t.context,o=t.modifiers,i=t.retry,l=i===void 0?{count:0,lastFocused:e}:i,c=a.weekStartsOn,u=a.fromDate,d=a.toDate,m=a.locale,f={day:Mr,week:qg,month:Zs,year:qM,startOfWeek:function(b){return a.ISOWeek?qo(b):jn(b,{locale:m,weekStartsOn:c})},endOfWeek:function(b){return a.ISOWeek?ON(b):D0(b,{locale:m,weekStartsOn:c})}},p=f[r](e,n==="after"?1:-1);n==="before"&&u?p=YM([u,p]):n==="after"&&d&&(p=KM([d,p]));var v=!0;if(o){var g=hv(p,o);v=!g.disabled&&!g.hidden}return v?p:l.count>fF?l.lastFocused:wS(p,{moveBy:r,direction:n,context:a,modifiers:o,retry:Ye(Ye({},l),{count:l.count+1})})}var bS=h.createContext(void 0);function pF(e){var t=Bd(),r=yS(),n=h.useState(),a=n[0],o=n[1],i=h.useState(),l=i[0],c=i[1],u=mF(t.displayMonths,r),d=a??(l&&t.isDateDisplayed(l))?l:u,m=function(){c(a),o(void 0)},f=function(b){o(b)},p=Mt(),v=function(b,y){if(a){var x=wS(a,{moveBy:b,direction:y,context:p,modifiers:r});Jr(a,x)||(t.goToDate(x,a),f(x))}},g={focusedDay:a,focusTarget:d,blur:m,focus:f,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return s.jsx(bS.Provider,{value:g,children:e.children})}function mv(){var e=h.useContext(bS);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function gF(e,t){var r=yS(),n=hv(e,r,t);return n}var fv=h.createContext(void 0);function xF(e){if(!rf(e.initialProps)){var t={selected:void 0};return s.jsx(fv.Provider,{value:t,children:e.children})}return s.jsx(vF,{initialProps:e.initialProps,children:e.children})}function vF(e){var t=e.initialProps,r=e.children,n=function(o,i,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,o,i,l),i.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,o,i,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,o,o,i,l)},a={selected:t.selected,onDayClick:n};return s.jsx(fv.Provider,{value:a,children:r})}function jS(){var e=h.useContext(fv);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function yF(e,t){var r=Mt(),n=jS(),a=cv(),o=uv(),i=mv(),l=i.focusDayAfter,c=i.focusDayBefore,u=i.focusWeekAfter,d=i.focusWeekBefore,m=i.blur,f=i.focus,p=i.focusMonthBefore,v=i.focusMonthAfter,g=i.focusYearBefore,b=i.focusYearAfter,y=i.focusStartOfWeek,x=i.focusEndOfWeek,w=function(H){var L,M,F,G;rf(r)?(L=n.onDayClick)===null||L===void 0||L.call(n,e,t,H):zd(r)?(M=a.onDayClick)===null||M===void 0||M.call(a,e,t,H):Ud(r)?(F=o.onDayClick)===null||F===void 0||F.call(o,e,t,H):(G=r.onDayClick)===null||G===void 0||G.call(r,e,t,H)},j=function(H){var L;f(e),(L=r.onDayFocus)===null||L===void 0||L.call(r,e,t,H)},k=function(H){var L;m(),(L=r.onDayBlur)===null||L===void 0||L.call(r,e,t,H)},A=function(H){var L;(L=r.onDayMouseEnter)===null||L===void 0||L.call(r,e,t,H)},C=function(H){var L;(L=r.onDayMouseLeave)===null||L===void 0||L.call(r,e,t,H)},T=function(H){var L;(L=r.onDayPointerEnter)===null||L===void 0||L.call(r,e,t,H)},B=function(H){var L;(L=r.onDayPointerLeave)===null||L===void 0||L.call(r,e,t,H)},$=function(H){var L;(L=r.onDayTouchCancel)===null||L===void 0||L.call(r,e,t,H)},W=function(H){var L;(L=r.onDayTouchEnd)===null||L===void 0||L.call(r,e,t,H)},_=function(H){var L;(L=r.onDayTouchMove)===null||L===void 0||L.call(r,e,t,H)},R=function(H){var L;(L=r.onDayTouchStart)===null||L===void 0||L.call(r,e,t,H)},O=function(H){var L;(L=r.onDayKeyUp)===null||L===void 0||L.call(r,e,t,H)},ne=function(H){var L;switch(H.key){case"ArrowLeft":H.preventDefault(),H.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":H.preventDefault(),H.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":H.preventDefault(),H.stopPropagation(),u();break;case"ArrowUp":H.preventDefault(),H.stopPropagation(),d();break;case"PageUp":H.preventDefault(),H.stopPropagation(),H.shiftKey?g():p();break;case"PageDown":H.preventDefault(),H.stopPropagation(),H.shiftKey?b():v();break;case"Home":H.preventDefault(),H.stopPropagation(),y();break;case"End":H.preventDefault(),H.stopPropagation(),x();break}(L=r.onDayKeyDown)===null||L===void 0||L.call(r,e,t,H)},P={onClick:w,onFocus:j,onBlur:k,onKeyDown:ne,onKeyUp:O,onMouseEnter:A,onMouseLeave:C,onPointerEnter:T,onPointerLeave:B,onTouchCancel:$,onTouchEnd:W,onTouchMove:_,onTouchStart:R};return P}function wF(){var e=Mt(),t=jS(),r=cv(),n=uv(),a=rf(e)?t.selected:zd(e)?r.selected:Ud(e)?n.selected:void 0;return a}function bF(e){return Object.values(rn).includes(e)}function jF(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var a=e.modifiersClassNames[n];if(a)r.push(a);else if(bF(n)){var o=e.classNames["day_".concat(n)];o&&r.push(o)}}),r}function NF(e,t){var r=Ye({},e.styles.day);return Object.keys(t).forEach(function(n){var a;r=Ye(Ye({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[n])}),r}function _F(e,t,r){var n,a,o,i=Mt(),l=mv(),c=gF(e,t),u=yF(e,c),d=wF(),m=!!(i.onDayClick||i.mode!=="default");h.useEffect(function(){var A;c.outside||l.focusedDay&&m&&Jr(l.focusedDay,e)&&((A=r.current)===null||A===void 0||A.focus())},[l.focusedDay,e,r,m,c.outside]);var f=jF(i,c).join(" "),p=NF(i,c),v=!!(c.outside&&!i.showOutsideDays||c.hidden),g=(o=(a=i.components)===null||a===void 0?void 0:a.DayContent)!==null&&o!==void 0?o:H8,b=s.jsx(g,{date:e,displayMonth:t,activeModifiers:c}),y={style:p,className:f,children:b,role:"gridcell"},x=l.focusTarget&&Jr(l.focusTarget,e)&&!c.outside,w=l.focusedDay&&Jr(l.focusedDay,e),j=Ye(Ye(Ye({},y),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=w||x?0:-1,n)),u),k={isButton:m,isHidden:v,activeModifiers:c,selectedDays:d,buttonProps:j,divProps:y};return k}function kF(e){var t=h.useRef(null),r=_F(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(Wh,Ye({name:"day",ref:t},r.buttonProps)):s.jsx("div",Ye({},r.divProps))}function SF(e){var t=e.number,r=e.dates,n=Mt(),a=n.onWeekNumberClick,o=n.styles,i=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!a)return s.jsx("span",{className:i.weeknumber,style:o.weeknumber,children:d});var m=c(Number(t),{locale:l}),f=function(p){a(t,r,p)};return s.jsx(Wh,{name:"week-number","aria-label":m,className:i.weeknumber,style:o.weeknumber,onClick:f,children:d})}function CF(e){var t,r,n=Mt(),a=n.styles,o=n.classNames,i=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:kF,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:SF,d;return i&&(d=s.jsx("td",{className:o.cell,style:a.cell,children:s.jsx(u,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:o.row,style:a.row,children:[d,e.dates.map(function(m){return s.jsx("td",{className:o.cell,style:a.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:m})},H3(m))})]})}function ub(e,t,r){for(var n=r!=null&&r.ISOWeek?ON(t):D0(t,r),a=r!=null&&r.ISOWeek?qo(e):jn(e,r),o=Vs(n,a),i=[],l=0;l<=o;l++)i.push(Mr(a,l));var c=i.reduce(function(u,d){var m=r!=null&&r.ISOWeek?FN(d):zN(d,r),f=u.find(function(p){return p.weekNumber===m});return f?(f.dates.push(d),u):(u.push({weekNumber:m,dates:[d]}),u)},[]);return c}function DF(e,t){var r=ub(es(e),C0(e),t);if(t!=null&&t.useFixedWeeks){var n=Y3(e,t);if(n<6){var a=r[r.length-1],o=a.dates[a.dates.length-1],i=qg(o,6-n),l=ub(qg(o,1),i,t);r.push.apply(r,l)}}return r}function PF(e){var t,r,n,a=Mt(),o=a.locale,i=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,d=a.components,m=a.weekStartsOn,f=a.firstWeekContainsDate,p=a.ISOWeek,v=DF(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:o,weekStartsOn:m,firstWeekContainsDate:f}),g=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:W8,b=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:CF,y=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:U8;return s.jsxs("table",{id:e.id,className:i.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(g,{}),s.jsx("tbody",{className:i.tbody,style:l.tbody,children:v.map(function(x){return s.jsx(b,{displayMonth:e.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),s.jsx(y,{displayMonth:e.displayMonth})]})}function TF(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var EF=TF()?h.useLayoutEffect:h.useEffect,Ip=!1,MF=0;function hb(){return"react-day-picker-".concat(++MF)}function RF(e){var t,r=e??(Ip?hb():null),n=h.useState(r),a=n[0],o=n[1];return EF(function(){a===null&&o(hb())},[]),h.useEffect(function(){Ip===!1&&(Ip=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function AF(e){var t,r,n=Mt(),a=n.dir,o=n.classNames,i=n.styles,l=n.components,c=Bd().displayMonths,u=RF(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,m=[o.month],f=i.month,p=e.displayIndex===0,v=e.displayIndex===c.length-1,g=!p&&!v;a==="rtl"&&(t=[p,v],v=t[0],p=t[1]),p&&(m.push(o.caption_start),f=Ye(Ye({},f),i.caption_start)),v&&(m.push(o.caption_end),f=Ye(Ye({},f),i.caption_end)),g&&(m.push(o.caption_between),f=Ye(Ye({},f),i.caption_between));var b=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:z8;return s.jsxs("div",{className:m.join(" "),style:f,children:[s.jsx(b,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(PF,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function OF(e){var t=Mt(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function IF(e){var t,r,n=e.initialProps,a=Mt(),o=mv(),i=Bd(),l=h.useState(!1),c=l[0],u=l[1];h.useEffect(function(){a.initialFocus&&o.focusTarget&&(c||(o.focus(o.focusTarget),u(!0)))},[a.initialFocus,c,o.focus,o.focusTarget,o]);var d=[a.classNames.root,a.className];a.numberOfMonths>1&&d.push(a.classNames.multiple_months),a.showWeekNumber&&d.push(a.classNames.with_weeknumber);var m=Ye(Ye({},a.styles.root),a.style),f=Object.keys(n).filter(function(v){return v.startsWith("data-")}).reduce(function(v,g){var b;return Ye(Ye({},v),(b={},b[g]=n[g],b))},{}),p=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:OF;return s.jsx("div",Ye({className:d.join(" "),style:m,dir:a.dir,id:a.id,nonce:n.nonce,title:n.title,lang:n.lang},f,{children:s.jsx(p,{children:i.displayMonths.map(function(v,g){return s.jsx(AF,{displayIndex:g,displayMonth:v},g)})})}))}function LF(e){var t=e.children,r=i8(e,["children"]);return s.jsx(S8,{initialProps:r,children:s.jsx(I8,{children:s.jsx(xF,{initialProps:r,children:s.jsx(q8,{initialProps:r,children:s.jsx(G8,{initialProps:r,children:s.jsx(sF,{children:s.jsx(pF,{children:t})})})})})})})}function FF(e){return s.jsx(LF,Ye({},e,{children:s.jsx(IF,{initialProps:e})}))}function vl({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(FF,{showOutsideDays:r,className:se("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:se(rd({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:se(rd({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>s.jsx(lO,{className:"h-4 w-4"}),IconRight:({...a})=>s.jsx(pl,{className:"h-4 w-4"})},...n})}vl.displayName="Calendar";var pv="Popover",[NS,KB]=Cs(pv,[mo]),Vd=mo(),[$F,go]=NS(pv),_S=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:o,modal:i=!1}=e,l=Vd(t),c=h.useRef(null),[u,d]=h.useState(!1),[m=!1,f]=Qs({prop:n,defaultProp:a,onChange:o});return s.jsx(qm,{...l,children:s.jsx($F,{scope:t,contentId:js(),triggerRef:c,open:m,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(p=>!p),[f]),hasCustomAnchor:u,onCustomAnchorAdd:h.useCallback(()=>d(!0),[]),onCustomAnchorRemove:h.useCallback(()=>d(!1),[]),modal:i,children:r})})};_S.displayName=pv;var kS="PopoverAnchor",zF=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=go(kS,r),o=Vd(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:l}=a;return h.useEffect(()=>(i(),()=>l()),[i,l]),s.jsx(Rd,{...o,...n,ref:t})});zF.displayName=kS;var SS="PopoverTrigger",CS=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=go(SS,r),o=Vd(r),i=ut(t,a.triggerRef),l=s.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":MS(a.open),...n,ref:i,onClick:_e(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Rd,{asChild:!0,...o,children:l})});CS.displayName=SS;var gv="PopoverPortal",[UF,BF]=NS(gv,{forceMount:void 0}),DS=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,o=go(gv,t);return s.jsx(UF,{scope:t,forceMount:r,children:s.jsx(ts,{present:r||o.open,children:s.jsx(Rl,{asChild:!0,container:a,children:n})})})};DS.displayName=gv;var yl="PopoverContent",PS=h.forwardRef((e,t)=>{const r=BF(yl,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,o=go(yl,e.__scopePopover);return s.jsx(ts,{present:n||o.open,children:o.modal?s.jsx(VF,{...a,ref:t}):s.jsx(WF,{...a,ref:t})})});PS.displayName=yl;var VF=h.forwardRef((e,t)=>{const r=go(yl,e.__scopePopover),n=h.useRef(null),a=ut(t,n),o=h.useRef(!1);return h.useEffect(()=>{const i=n.current;if(i)return Gm(i)},[]),s.jsx(Ad,{as:Nn,allowPinchZoom:!0,children:s.jsx(TS,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_e(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),o.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:_e(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;o.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:_e(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),WF=h.forwardRef((e,t)=>{const r=go(yl,e.__scopePopover),n=h.useRef(!1),a=h.useRef(!1);return s.jsx(TS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),TS=h.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:i,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...m}=e,f=go(yl,r),p=Vd(r);return Bm(),s.jsx(Ed,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:o,children:s.jsx(si,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:s.jsx(Ym,{"data-state":MS(f.open),role:"dialog",id:f.contentId,...p,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ES="PopoverClose",HF=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=go(ES,r);return s.jsx(Be.button,{type:"button",...n,ref:t,onClick:_e(e.onClick,()=>a.onOpenChange(!1))})});HF.displayName=ES;var qF="PopoverArrow",YF=h.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Vd(r);return s.jsx(Km,{...a,...n,ref:t})});YF.displayName=qF;function MS(e){return e?"open":"closed"}var KF=_S,GF=CS,JF=DS,RS=PS;const Hh=KF,qh=GF,sd=h.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(JF,{children:s.jsx(RS,{ref:a,align:t,sideOffset:r,className:se("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));sd.displayName=RS.displayName;var Wd=e=>e.type==="checkbox",Io=e=>e instanceof Date,Rr=e=>e==null;const AS=e=>typeof e=="object";var Xt=e=>!Rr(e)&&!Array.isArray(e)&&AS(e)&&!Io(e),OS=e=>Xt(e)&&e.target?Wd(e.target)?e.target.checked:e.target.value:e,ZF=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,IS=(e,t)=>e.has(ZF(t)),QF=e=>{const t=e.constructor&&e.constructor.prototype;return Xt(t)&&t.hasOwnProperty("isPrototypeOf")},xv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Br(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(xv&&(e instanceof Blob||e instanceof FileList))&&(r||Xt(e)))if(t=r?[]:{},!r&&!QF(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=Br(e[n]));else return e;return t}var sf=e=>Array.isArray(e)?e.filter(Boolean):[],Gt=e=>e===void 0,ke=(e,t,r)=>{if(!t||!Xt(e))return r;const n=sf(t.split(/[,[\].]+?/)).reduce((a,o)=>Rr(a)?a:a[o],e);return Gt(n)||n===e?Gt(e[t])?r:e[t]:n},ps=e=>typeof e=="boolean",vv=e=>/^\w*$/.test(e),LS=e=>sf(e.replace(/["|']|\]/g,"").split(/\.|\[/)),wt=(e,t,r)=>{let n=-1;const a=vv(t)?[t]:LS(t),o=a.length,i=o-1;for(;++n<o;){const l=a[n];let c=r;if(n!==i){const u=e[l];c=Xt(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__")return;e[l]=c,e=e[l]}return e};const Yh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Us={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},An={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},FS=He.createContext(null),nf=()=>He.useContext(FS),XF=e=>{const{children:t,...r}=e;return He.createElement(FS.Provider,{value:r},t)};var $S=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(a,o,{get:()=>{const i=o;return t._proxyFormState[i]!==Us.all&&(t._proxyFormState[i]=!n||Us.all),r&&(r[i]=!0),e[i]}});return a},Vr=e=>Xt(e)&&!Object.keys(e).length,zS=(e,t,r,n)=>{r(e);const{name:a,...o}=e;return Vr(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(i=>t[i]===(!n||Us.all))},Pc=e=>Array.isArray(e)?e:[e],US=(e,t,r)=>!e||!t||e===t||Pc(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n)));function yv(e){const t=He.useRef(e);t.current=e,He.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function e$(e){const t=nf(),{control:r=t.control,disabled:n,name:a,exact:o}=e||{},[i,l]=He.useState(r._formState),c=He.useRef(!0),u=He.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=He.useRef(a);return d.current=a,yv({disabled:n,next:m=>c.current&&US(d.current,m.name,o)&&zS(m,u.current,r._updateFormState)&&l({...r._formState,...m}),subject:r._subjects.state}),He.useEffect(()=>(c.current=!0,u.current.isValid&&r._updateValid(!0),()=>{c.current=!1}),[r]),$S(i,r,u.current,!1)}var gn=e=>typeof e=="string",BS=(e,t,r,n,a)=>gn(e)?(n&&t.watch.add(e),ke(r,e,a)):Array.isArray(e)?e.map(o=>(n&&t.watch.add(o),ke(r,o))):(n&&(t.watchAll=!0),r);function t$(e){const t=nf(),{control:r=t.control,name:n,defaultValue:a,disabled:o,exact:i}=e||{},l=He.useRef(n);l.current=n,yv({disabled:o,subject:r._subjects.values,next:d=>{US(l.current,d.name,i)&&u(Br(BS(l.current,r._names,d.values||r._formValues,!1,a)))}});const[c,u]=He.useState(r._getWatch(n,a));return He.useEffect(()=>r._removeUnmounted()),c}function r$(e){const t=nf(),{name:r,disabled:n,control:a=t.control,shouldUnregister:o}=e,i=IS(a._names.array,r),l=t$({control:a,name:r,defaultValue:ke(a._formValues,r,ke(a._defaultValues,r,e.defaultValue)),exact:!0}),c=e$({control:a,name:r,exact:!0}),u=He.useRef(a.register(r,{...e.rules,value:l,...ps(e.disabled)?{disabled:e.disabled}:{}}));return He.useEffect(()=>{const d=a._options.shouldUnregister||o,m=(f,p)=>{const v=ke(a._fields,f);v&&v._f&&(v._f.mount=p)};if(m(r,!0),d){const f=Br(ke(a._options.defaultValues,r));wt(a._defaultValues,r,f),Gt(ke(a._formValues,r))&&wt(a._formValues,r,f)}return()=>{(i?d&&!a._state.action:d)?a.unregister(r):m(r,!1)}},[r,a,i,o]),He.useEffect(()=>{ke(a._fields,r)&&a._updateDisabledField({disabled:n,fields:a._fields,name:r,value:ke(a._fields,r)._f.value})},[n,r,a]),{field:{name:r,value:l,...ps(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:He.useCallback(d=>u.current.onChange({target:{value:OS(d),name:r},type:Yh.CHANGE}),[r]),onBlur:He.useCallback(()=>u.current.onBlur({target:{value:ke(a._formValues,r),name:r},type:Yh.BLUR}),[r,a]),ref:He.useCallback(d=>{const m=ke(a._fields,r);m&&d&&(m._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:f=>d.setCustomValidity(f),reportValidity:()=>d.reportValidity()})},[a._fields,r])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ke(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!ke(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ke(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ke(c.validatingFields,r)},error:{enumerable:!0,get:()=>ke(c.errors,r)}})}}const s$=e=>e.render(r$(e));var VS=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},mb=e=>({isOnSubmit:!e||e===Us.onSubmit,isOnBlur:e===Us.onBlur,isOnChange:e===Us.onChange,isOnAll:e===Us.all,isOnTouch:e===Us.onTouched}),fb=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Tc=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const o=ke(e,a);if(o){const{_f:i,...l}=o;if(i){if(i.refs&&i.refs[0]&&t(i.refs[0],a)&&!n)return!0;if(i.ref&&t(i.ref,i.name)&&!n)return!0;if(Tc(l,t))break}else if(Xt(l)&&Tc(l,t))break}}};var n$=(e,t,r)=>{const n=Pc(ke(e,r));return wt(n,"root",t[r]),wt(e,r,n),e},wv=e=>e.type==="file",Vn=e=>typeof e=="function",Kh=e=>{if(!xv)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},rh=e=>gn(e),bv=e=>e.type==="radio",Gh=e=>e instanceof RegExp;const pb={value:!1,isValid:!1},gb={value:!0,isValid:!0};var WS=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Gt(e[0].attributes.value)?Gt(e[0].value)||e[0].value===""?gb:{value:e[0].value,isValid:!0}:gb:pb}return pb};const xb={isValid:!1,value:null};var HS=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,xb):xb;function vb(e,t,r="validate"){if(rh(e)||Array.isArray(e)&&e.every(rh)||ps(e)&&!e)return{type:r,message:rh(e)?e:"",ref:t}}var Ni=e=>Xt(e)&&!Gh(e)?e:{value:e,message:""},yb=async(e,t,r,n,a)=>{const{ref:o,refs:i,required:l,maxLength:c,minLength:u,min:d,max:m,pattern:f,validate:p,name:v,valueAsNumber:g,mount:b,disabled:y}=e._f,x=ke(t,v);if(!b||y)return{};const w=i?i[0]:o,j=_=>{n&&w.reportValidity&&(w.setCustomValidity(ps(_)?"":_||""),w.reportValidity())},k={},A=bv(o),C=Wd(o),T=A||C,B=(g||wv(o))&&Gt(o.value)&&Gt(x)||Kh(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,$=VS.bind(null,v,r,k),W=(_,R,O,ne=An.maxLength,P=An.minLength)=>{const H=_?R:O;k[v]={type:_?ne:P,message:H,ref:o,...$(_?ne:P,H)}};if(a?!Array.isArray(x)||!x.length:l&&(!T&&(B||Rr(x))||ps(x)&&!x||C&&!WS(i).isValid||A&&!HS(i).isValid)){const{value:_,message:R}=rh(l)?{value:!!l,message:l}:Ni(l);if(_&&(k[v]={type:An.required,message:R,ref:w,...$(An.required,R)},!r))return j(R),k}if(!B&&(!Rr(d)||!Rr(m))){let _,R;const O=Ni(m),ne=Ni(d);if(!Rr(x)&&!isNaN(x)){const P=o.valueAsNumber||x&&+x;Rr(O.value)||(_=P>O.value),Rr(ne.value)||(R=P<ne.value)}else{const P=o.valueAsDate||new Date(x),H=F=>new Date(new Date().toDateString()+" "+F),L=o.type=="time",M=o.type=="week";gn(O.value)&&x&&(_=L?H(x)>H(O.value):M?x>O.value:P>new Date(O.value)),gn(ne.value)&&x&&(R=L?H(x)<H(ne.value):M?x<ne.value:P<new Date(ne.value))}if((_||R)&&(W(!!_,O.message,ne.message,An.max,An.min),!r))return j(k[v].message),k}if((c||u)&&!B&&(gn(x)||a&&Array.isArray(x))){const _=Ni(c),R=Ni(u),O=!Rr(_.value)&&x.length>+_.value,ne=!Rr(R.value)&&x.length<+R.value;if((O||ne)&&(W(O,_.message,R.message),!r))return j(k[v].message),k}if(f&&!B&&gn(x)){const{value:_,message:R}=Ni(f);if(Gh(_)&&!x.match(_)&&(k[v]={type:An.pattern,message:R,ref:o,...$(An.pattern,R)},!r))return j(R),k}if(p){if(Vn(p)){const _=await p(x,t),R=vb(_,w);if(R&&(k[v]={...R,...$(An.validate,R.message)},!r))return j(R.message),k}else if(Xt(p)){let _={};for(const R in p){if(!Vr(_)&&!r)break;const O=vb(await p[R](x,t),w,R);O&&(_={...O,...$(R,O.message)},j(O.message),r&&(k[v]=_))}if(!Vr(_)&&(k[v]={ref:w,..._},!r))return k}}return j(!0),k};function a$(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Gt(e)?n++:e[t[n++]];return e}function o$(e){for(const t in e)if(e.hasOwnProperty(t)&&!Gt(e[t]))return!1;return!0}function or(e,t){const r=Array.isArray(t)?t:vv(t)?[t]:LS(t),n=r.length===1?e:a$(e,r),a=r.length-1,o=r[a];return n&&delete n[o],a!==0&&(Xt(n)&&Vr(n)||Array.isArray(n)&&o$(n))&&or(e,r.slice(0,-1)),e}var Lp=()=>{let e=[];return{get observers(){return e},next:a=>{for(const o of e)o.next&&o.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(o=>o!==a)}}),unsubscribe:()=>{e=[]}}},hx=e=>Rr(e)||!AS(e);function Pa(e,t){if(hx(e)||hx(t))return e===t;if(Io(e)&&Io(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const o=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const i=t[a];if(Io(o)&&Io(i)||Xt(o)&&Xt(i)||Array.isArray(o)&&Array.isArray(i)?!Pa(o,i):o!==i)return!1}}return!0}var qS=e=>e.type==="select-multiple",i$=e=>bv(e)||Wd(e),Fp=e=>Kh(e)&&e.isConnected,YS=e=>{for(const t in e)if(Vn(e[t]))return!0;return!1};function Jh(e,t={}){const r=Array.isArray(e);if(Xt(e)||r)for(const n in e)Array.isArray(e[n])||Xt(e[n])&&!YS(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Jh(e[n],t[n])):Rr(e[n])||(t[n]=!0);return t}function KS(e,t,r){const n=Array.isArray(e);if(Xt(e)||n)for(const a in e)Array.isArray(e[a])||Xt(e[a])&&!YS(e[a])?Gt(t)||hx(r[a])?r[a]=Array.isArray(e[a])?Jh(e[a],[]):{...Jh(e[a])}:KS(e[a],Rr(t)?{}:t[a],r[a]):r[a]=!Pa(e[a],t[a]);return r}var rc=(e,t)=>KS(e,t,Jh(t)),GS=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Gt(e)?e:t?e===""?NaN:e&&+e:r&&gn(e)?new Date(e):n?n(e):e;function $p(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return wv(t)?t.files:bv(t)?HS(e.refs).value:qS(t)?[...t.selectedOptions].map(({value:r})=>r):Wd(t)?WS(e.refs).value:GS(Gt(t.value)?e.ref.value:t.value,e)}var l$=(e,t,r,n)=>{const a={};for(const o of e){const i=ke(t,o);i&&wt(a,o,i._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},sc=e=>Gt(e)?e:Gh(e)?e.source:Xt(e)?Gh(e.value)?e.value.source:e.value:e;const wb="AsyncFunction";var c$=e=>(!e||!e.validate)&&!!(Vn(e.validate)&&e.validate.constructor.name===wb||Xt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===wb)),d$=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function bb(e,t,r){const n=ke(e,r);if(n||vv(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const o=a.join("."),i=ke(t,o),l=ke(e,o);if(i&&!Array.isArray(i)&&r!==o)return{name:r};if(l&&l.type)return{name:o,error:l};a.pop()}return{name:r}}var u$=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,h$=(e,t)=>!sf(ke(e,t)).length&&or(e,t);const m$={mode:Us.onSubmit,reValidateMode:Us.onChange,shouldFocusError:!0};function f$(e={}){let t={...m$,...e},r={submitCount:0,isDirty:!1,isLoading:Vn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Xt(t.defaultValues)||Xt(t.values)?Br(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:Br(a),i={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={values:Lp(),array:Lp(),state:Lp()},f=mb(t.mode),p=mb(t.reValidateMode),v=t.criteriaMode===Us.all,g=V=>E=>{clearTimeout(u),u=setTimeout(V,E)},b=async V=>{if(!e.disabled&&(d.isValid||V)){const E=t.resolver?Vr((await T()).errors):await $(n,!0);E!==r.isValid&&m.state.next({isValid:E})}},y=(V,E)=>{!e.disabled&&(d.isValidating||d.validatingFields)&&((V||Array.from(l.mount)).forEach(Y=>{Y&&(E?wt(r.validatingFields,Y,E):or(r.validatingFields,Y))}),m.state.next({validatingFields:r.validatingFields,isValidating:!Vr(r.validatingFields)}))},x=(V,E=[],Y,ae,le=!0,ie=!0)=>{if(ae&&Y&&!e.disabled){if(i.action=!0,ie&&Array.isArray(ke(n,V))){const ve=Y(ke(n,V),ae.argA,ae.argB);le&&wt(n,V,ve)}if(ie&&Array.isArray(ke(r.errors,V))){const ve=Y(ke(r.errors,V),ae.argA,ae.argB);le&&wt(r.errors,V,ve),h$(r.errors,V)}if(d.touchedFields&&ie&&Array.isArray(ke(r.touchedFields,V))){const ve=Y(ke(r.touchedFields,V),ae.argA,ae.argB);le&&wt(r.touchedFields,V,ve)}d.dirtyFields&&(r.dirtyFields=rc(a,o)),m.state.next({name:V,isDirty:_(V,E),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else wt(o,V,E)},w=(V,E)=>{wt(r.errors,V,E),m.state.next({errors:r.errors})},j=V=>{r.errors=V,m.state.next({errors:r.errors,isValid:!1})},k=(V,E,Y,ae)=>{const le=ke(n,V);if(le){const ie=ke(o,V,Gt(Y)?ke(a,V):Y);Gt(ie)||ae&&ae.defaultChecked||E?wt(o,V,E?ie:$p(le._f)):ne(V,ie),i.mount&&b()}},A=(V,E,Y,ae,le)=>{let ie=!1,ve=!1;const De={name:V};if(!e.disabled){const $e=!!(ke(n,V)&&ke(n,V)._f&&ke(n,V)._f.disabled);if(!Y||ae){d.isDirty&&(ve=r.isDirty,r.isDirty=De.isDirty=_(),ie=ve!==De.isDirty);const ct=$e||Pa(ke(a,V),E);ve=!!(!$e&&ke(r.dirtyFields,V)),ct||$e?or(r.dirtyFields,V):wt(r.dirtyFields,V,!0),De.dirtyFields=r.dirtyFields,ie=ie||d.dirtyFields&&ve!==!ct}if(Y){const ct=ke(r.touchedFields,V);ct||(wt(r.touchedFields,V,Y),De.touchedFields=r.touchedFields,ie=ie||d.touchedFields&&ct!==Y)}ie&&le&&m.state.next(De)}return ie?De:{}},C=(V,E,Y,ae)=>{const le=ke(r.errors,V),ie=d.isValid&&ps(E)&&r.isValid!==E;if(e.delayError&&Y?(c=g(()=>w(V,Y)),c(e.delayError)):(clearTimeout(u),c=null,Y?wt(r.errors,V,Y):or(r.errors,V)),(Y?!Pa(le,Y):le)||!Vr(ae)||ie){const ve={...ae,...ie&&ps(E)?{isValid:E}:{},errors:r.errors,name:V};r={...r,...ve},m.state.next(ve)}},T=async V=>{y(V,!0);const E=await t.resolver(o,t.context,l$(V||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return y(V),E},B=async V=>{const{errors:E}=await T(V);if(V)for(const Y of V){const ae=ke(E,Y);ae?wt(r.errors,Y,ae):or(r.errors,Y)}else r.errors=E;return E},$=async(V,E,Y={valid:!0})=>{for(const ae in V){const le=V[ae];if(le){const{_f:ie,...ve}=le;if(ie){const De=l.array.has(ie.name),$e=le._f&&c$(le._f);$e&&d.validatingFields&&y([ae],!0);const ct=await yb(le,o,v,t.shouldUseNativeValidation&&!E,De);if($e&&d.validatingFields&&y([ae]),ct[ie.name]&&(Y.valid=!1,E))break;!E&&(ke(ct,ie.name)?De?n$(r.errors,ct,ie.name):wt(r.errors,ie.name,ct[ie.name]):or(r.errors,ie.name))}!Vr(ve)&&await $(ve,E,Y)}}return Y.valid},W=()=>{for(const V of l.unMount){const E=ke(n,V);E&&(E._f.refs?E._f.refs.every(Y=>!Fp(Y)):!Fp(E._f.ref))&&U(V)}l.unMount=new Set},_=(V,E)=>!e.disabled&&(V&&E&&wt(o,V,E),!Pa(G(),a)),R=(V,E,Y)=>BS(V,l,{...i.mount?o:Gt(E)?a:gn(V)?{[V]:E}:E},Y,E),O=V=>sf(ke(i.mount?o:a,V,e.shouldUnregister?ke(a,V,[]):[])),ne=(V,E,Y={})=>{const ae=ke(n,V);let le=E;if(ae){const ie=ae._f;ie&&(!ie.disabled&&wt(o,V,GS(E,ie)),le=Kh(ie.ref)&&Rr(E)?"":E,qS(ie.ref)?[...ie.ref.options].forEach(ve=>ve.selected=le.includes(ve.value)):ie.refs?Wd(ie.ref)?ie.refs.length>1?ie.refs.forEach(ve=>(!ve.defaultChecked||!ve.disabled)&&(ve.checked=Array.isArray(le)?!!le.find(De=>De===ve.value):le===ve.value)):ie.refs[0]&&(ie.refs[0].checked=!!le):ie.refs.forEach(ve=>ve.checked=ve.value===le):wv(ie.ref)?ie.ref.value="":(ie.ref.value=le,ie.ref.type||m.values.next({name:V,values:{...o}})))}(Y.shouldDirty||Y.shouldTouch)&&A(V,le,Y.shouldTouch,Y.shouldDirty,!0),Y.shouldValidate&&F(V)},P=(V,E,Y)=>{for(const ae in E){const le=E[ae],ie=`${V}.${ae}`,ve=ke(n,ie);(l.array.has(V)||Xt(le)||ve&&!ve._f)&&!Io(le)?P(ie,le,Y):ne(ie,le,Y)}},H=(V,E,Y={})=>{const ae=ke(n,V),le=l.array.has(V),ie=Br(E);wt(o,V,ie),le?(m.array.next({name:V,values:{...o}}),(d.isDirty||d.dirtyFields)&&Y.shouldDirty&&m.state.next({name:V,dirtyFields:rc(a,o),isDirty:_(V,ie)})):ae&&!ae._f&&!Rr(ie)?P(V,ie,Y):ne(V,ie,Y),fb(V,l)&&m.state.next({...r}),m.values.next({name:i.mount?V:void 0,values:{...o}})},L=async V=>{i.mount=!0;const E=V.target;let Y=E.name,ae=!0;const le=ke(n,Y),ie=()=>E.type?$p(le._f):OS(V),ve=De=>{ae=Number.isNaN(De)||Io(De)&&isNaN(De.getTime())||Pa(De,ke(o,Y,De))};if(le){let De,$e;const ct=ie(),Xe=V.type===Yh.BLUR||V.type===Yh.FOCUS_OUT,We=!d$(le._f)&&!t.resolver&&!ke(r.errors,Y)&&!le._f.deps||u$(Xe,ke(r.touchedFields,Y),r.isSubmitted,p,f),Rt=fb(Y,l,Xe);wt(o,Y,ct),Xe?(le._f.onBlur&&le._f.onBlur(V),c&&c(0)):le._f.onChange&&le._f.onChange(V);const mr=A(Y,ct,Xe,!1),zr=!Vr(mr)||Rt;if(!Xe&&m.values.next({name:Y,type:V.type,values:{...o}}),We)return d.isValid&&(e.mode==="onBlur"?Xe&&b():b()),zr&&m.state.next({name:Y,...Rt?{}:mr});if(!Xe&&Rt&&m.state.next({...r}),t.resolver){const{errors:ma}=await T([Y]);if(ve(ct),ae){const yo=bb(r.errors,n,Y),En=bb(ma,n,yo.name||Y);De=En.error,Y=En.name,$e=Vr(ma)}}else y([Y],!0),De=(await yb(le,o,v,t.shouldUseNativeValidation))[Y],y([Y]),ve(ct),ae&&(De?$e=!1:d.isValid&&($e=await $(n,!0)));ae&&(le._f.deps&&F(le._f.deps),C(Y,$e,De,mr))}},M=(V,E)=>{if(ke(r.errors,E)&&V.focus)return V.focus(),1},F=async(V,E={})=>{let Y,ae;const le=Pc(V);if(t.resolver){const ie=await B(Gt(V)?V:le);Y=Vr(ie),ae=V?!le.some(ve=>ke(ie,ve)):Y}else V?(ae=(await Promise.all(le.map(async ie=>{const ve=ke(n,ie);return await $(ve&&ve._f?{[ie]:ve}:ve)}))).every(Boolean),!(!ae&&!r.isValid)&&b()):ae=Y=await $(n);return m.state.next({...!gn(V)||d.isValid&&Y!==r.isValid?{}:{name:V},...t.resolver||!V?{isValid:Y}:{},errors:r.errors}),E.shouldFocus&&!ae&&Tc(n,M,V?le:l.mount),ae},G=V=>{const E={...i.mount?o:a};return Gt(V)?E:gn(V)?ke(E,V):V.map(Y=>ke(E,Y))},q=(V,E)=>({invalid:!!ke((E||r).errors,V),isDirty:!!ke((E||r).dirtyFields,V),error:ke((E||r).errors,V),isValidating:!!ke(r.validatingFields,V),isTouched:!!ke((E||r).touchedFields,V)}),de=V=>{V&&Pc(V).forEach(E=>or(r.errors,E)),m.state.next({errors:V?r.errors:{}})},z=(V,E,Y)=>{const ae=(ke(n,V,{_f:{}})._f||{}).ref,le=ke(r.errors,V)||{},{ref:ie,message:ve,type:De,...$e}=le;wt(r.errors,V,{...$e,...E,ref:ae}),m.state.next({name:V,errors:r.errors,isValid:!1}),Y&&Y.shouldFocus&&ae&&ae.focus&&ae.focus()},ee=(V,E)=>Vn(V)?m.values.subscribe({next:Y=>V(R(void 0,E),Y)}):R(V,E,!0),U=(V,E={})=>{for(const Y of V?Pc(V):l.mount)l.mount.delete(Y),l.array.delete(Y),E.keepValue||(or(n,Y),or(o,Y)),!E.keepError&&or(r.errors,Y),!E.keepDirty&&or(r.dirtyFields,Y),!E.keepTouched&&or(r.touchedFields,Y),!E.keepIsValidating&&or(r.validatingFields,Y),!t.shouldUnregister&&!E.keepDefaultValue&&or(a,Y);m.values.next({values:{...o}}),m.state.next({...r,...E.keepDirty?{isDirty:_()}:{}}),!E.keepIsValid&&b()},S=({disabled:V,name:E,field:Y,fields:ae,value:le})=>{if(ps(V)&&i.mount||V){const ie=V?void 0:Gt(le)?$p(Y?Y._f:ke(ae,E)._f):le;wt(o,E,ie),A(E,ie,!1,!1,!0)}},K=(V,E={})=>{let Y=ke(n,V);const ae=ps(E.disabled)||ps(e.disabled);return wt(n,V,{...Y||{},_f:{...Y&&Y._f?Y._f:{ref:{name:V}},name:V,mount:!0,...E}}),l.mount.add(V),Y?S({field:Y,disabled:ps(E.disabled)?E.disabled:e.disabled,name:V,value:E.value}):k(V,!0,E.value),{...ae?{disabled:E.disabled||e.disabled}:{},...t.progressive?{required:!!E.required,min:sc(E.min),max:sc(E.max),minLength:sc(E.minLength),maxLength:sc(E.maxLength),pattern:sc(E.pattern)}:{},name:V,onChange:L,onBlur:L,ref:le=>{if(le){K(V,E),Y=ke(n,V);const ie=Gt(le.value)&&le.querySelectorAll&&le.querySelectorAll("input,select,textarea")[0]||le,ve=i$(ie),De=Y._f.refs||[];if(ve?De.find($e=>$e===ie):ie===Y._f.ref)return;wt(n,V,{_f:{...Y._f,...ve?{refs:[...De.filter(Fp),ie,...Array.isArray(ke(a,V))?[{}]:[]],ref:{type:ie.type,name:V}}:{ref:ie}}}),k(V,!1,void 0,ie)}else Y=ke(n,V,{}),Y._f&&(Y._f.mount=!1),(t.shouldUnregister||E.shouldUnregister)&&!(IS(l.array,V)&&i.action)&&l.unMount.add(V)}}},te=()=>t.shouldFocusError&&Tc(n,M,l.mount),Q=V=>{ps(V)&&(m.state.next({disabled:V}),Tc(n,(E,Y)=>{const ae=ke(n,Y);ae&&(E.disabled=ae._f.disabled||V,Array.isArray(ae._f.refs)&&ae._f.refs.forEach(le=>{le.disabled=ae._f.disabled||V}))},0,!1))},oe=(V,E)=>async Y=>{let ae;Y&&(Y.preventDefault&&Y.preventDefault(),Y.persist&&Y.persist());let le=Br(o);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:ie,values:ve}=await T();r.errors=ie,le=ve}else await $(n);if(or(r.errors,"root"),Vr(r.errors)){m.state.next({errors:{}});try{await V(le,Y)}catch(ie){ae=ie}}else E&&await E({...r.errors},Y),te(),setTimeout(te);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Vr(r.errors)&&!ae,submitCount:r.submitCount+1,errors:r.errors}),ae)throw ae},xe=(V,E={})=>{ke(n,V)&&(Gt(E.defaultValue)?H(V,Br(ke(a,V))):(H(V,E.defaultValue),wt(a,V,Br(E.defaultValue))),E.keepTouched||or(r.touchedFields,V),E.keepDirty||(or(r.dirtyFields,V),r.isDirty=E.defaultValue?_(V,Br(ke(a,V))):_()),E.keepError||(or(r.errors,V),d.isValid&&b()),m.state.next({...r}))},Ne=(V,E={})=>{const Y=V?Br(V):a,ae=Br(Y),le=Vr(V),ie=le?a:ae;if(E.keepDefaultValues||(a=Y),!E.keepValues){if(E.keepDirtyValues){const ve=new Set([...l.mount,...Object.keys(rc(a,o))]);for(const De of Array.from(ve))ke(r.dirtyFields,De)?wt(ie,De,ke(o,De)):H(De,ke(ie,De))}else{if(xv&&Gt(V))for(const ve of l.mount){const De=ke(n,ve);if(De&&De._f){const $e=Array.isArray(De._f.refs)?De._f.refs[0]:De._f.ref;if(Kh($e)){const ct=$e.closest("form");if(ct){ct.reset();break}}}}n={}}o=e.shouldUnregister?E.keepDefaultValues?Br(a):{}:Br(ie),m.array.next({values:{...ie}}),m.values.next({values:{...ie}})}l={mount:E.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!d.isValid||!!E.keepIsValid||!!E.keepDirtyValues,i.watch=!!e.shouldUnregister,m.state.next({submitCount:E.keepSubmitCount?r.submitCount:0,isDirty:le?!1:E.keepDirty?r.isDirty:!!(E.keepDefaultValues&&!Pa(V,a)),isSubmitted:E.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:le?{}:E.keepDirtyValues?E.keepDefaultValues&&o?rc(a,o):r.dirtyFields:E.keepDefaultValues&&V?rc(a,V):E.keepDirty?r.dirtyFields:{},touchedFields:E.keepTouched?r.touchedFields:{},errors:E.keepErrors?r.errors:{},isSubmitSuccessful:E.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Se=(V,E)=>Ne(Vn(V)?V(o):V,E);return{control:{register:K,unregister:U,getFieldState:q,handleSubmit:oe,setError:z,_executeSchema:T,_getWatch:R,_getDirty:_,_updateValid:b,_removeUnmounted:W,_updateFieldArray:x,_updateDisabledField:S,_getFieldArray:O,_reset:Ne,_resetDefaultValues:()=>Vn(t.defaultValues)&&t.defaultValues().then(V=>{Se(V,t.resetOptions),m.state.next({isLoading:!1})}),_updateFormState:V=>{r={...r,...V}},_disableForm:Q,_subjects:m,_proxyFormState:d,_setErrors:j,get _fields(){return n},get _formValues(){return o},get _state(){return i},set _state(V){i=V},get _defaultValues(){return a},get _names(){return l},set _names(V){l=V},get _formState(){return r},set _formState(V){r=V},get _options(){return t},set _options(V){t={...t,...V}}},trigger:F,register:K,handleSubmit:oe,watch:ee,setValue:H,getValues:G,reset:Se,resetField:xe,clearErrors:de,unregister:U,setError:z,setFocus:(V,E={})=>{const Y=ke(n,V),ae=Y&&Y._f;if(ae){const le=ae.refs?ae.refs[0]:ae.ref;le.focus&&(le.focus(),E.shouldSelect&&le.select())}},getFieldState:q}}function ta(e={}){const t=He.useRef(),r=He.useRef(),[n,a]=He.useState({isDirty:!1,isValidating:!1,isLoading:Vn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Vn(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...f$(e),formState:n});const o=t.current.control;return o._options=e,yv({subject:o._subjects.state,next:i=>{zS(i,o._proxyFormState,o._updateFormState,!0)&&a({...o._formState})}}),He.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),He.useEffect(()=>{if(o._proxyFormState.isDirty){const i=o._getDirty();i!==n.isDirty&&o._subjects.state.next({isDirty:i})}},[o,n.isDirty]),He.useEffect(()=>{e.values&&!Pa(e.values,r.current)?(o._reset(e.values,o._options.resetOptions),r.current=e.values,a(i=>({...i}))):o._resetDefaultValues()},[e.values,o]),He.useEffect(()=>{e.errors&&o._setErrors(e.errors)},[e.errors,o]),He.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),He.useEffect(()=>{e.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[e.shouldUnregister,o]),He.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[n]),t.current.formState=$S(n,o),t.current}const jb=(e,t,r)=>{if(e&&"reportValidity"in e){const n=ke(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},JS=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?jb(n.ref,r,e):n.refs&&n.refs.forEach(a=>jb(a,r,e))}},p$=(e,t)=>{t.shouldUseNativeValidation&&JS(e,t);const r={};for(const n in e){const a=ke(t.fields,n),o=Object.assign(e[n]||{},{ref:a&&a.ref});if(g$(t.names||Object.keys(e),n)){const i=Object.assign({},ke(r,n));wt(i,"root",o),wt(r,n,i)}else wt(r,n,o)}return r},g$=(e,t)=>e.some(r=>r.startsWith(t+"."));var x$=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,o=n.message,i=n.path.join(".");if(!r[i])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[i]={message:l.message,type:l.code}}else r[i]={message:o,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(m){return e.push(m)})}),t){var c=r[i].types,u=c&&c[n.code];r[i]=VS(i,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},ra=function(e,t,r){return r===void 0&&(r={}),function(n,a,o){try{return Promise.resolve(function(i,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return o.shouldUseNativeValidation&&JS({},o),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(i){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(i))return{values:{},errors:p$(x$(i.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw i}))}catch(i){return Promise.reject(i)}}},xt;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const o={};for(const i of a)o[i]=i;return o},e.getValidEnumValues=a=>{const o=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),i={};for(const l of o)i[l]=a[l];return e.objectValues(i)},e.objectValues=a=>e.objectKeys(a).map(function(o){return a[o]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const o=[];for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&o.push(i);return o},e.find=(a,o)=>{for(const i of a)if(o(i))return i},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,o=" | "){return a.map(i=>typeof i=="string"?`'${i}'`:i).join(o)}e.joinValues=n,e.jsonStringifyReplacer=(a,o)=>typeof o=="bigint"?o.toString():o})(xt||(xt={}));var mx;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(mx||(mx={}));const Te=xt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ta=e=>{switch(typeof e){case"undefined":return Te.undefined;case"string":return Te.string;case"number":return isNaN(e)?Te.nan:Te.number;case"boolean":return Te.boolean;case"function":return Te.function;case"bigint":return Te.bigint;case"symbol":return Te.symbol;case"object":return Array.isArray(e)?Te.array:e===null?Te.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Te.promise:typeof Map<"u"&&e instanceof Map?Te.map:typeof Set<"u"&&e instanceof Set?Te.set:typeof Date<"u"&&e instanceof Date?Te.date:Te.object;default:return Te.unknown}},be=xt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),v$=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class ls extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(o){return o.message},n={_errors:[]},a=o=>{for(const i of o.issues)if(i.code==="invalid_union")i.unionErrors.map(a);else if(i.code==="invalid_return_type")a(i.returnTypeError);else if(i.code==="invalid_arguments")a(i.argumentsError);else if(i.path.length===0)n._errors.push(r(i));else{let l=n,c=0;for(;c<i.path.length;){const u=i.path[c];c===i.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(i))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof ls))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,xt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ls.create=e=>new ls(e);const wl=(e,t)=>{let r;switch(e.code){case be.invalid_type:e.received===Te.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case be.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,xt.jsonStringifyReplacer)}`;break;case be.unrecognized_keys:r=`Unrecognized key(s) in object: ${xt.joinValues(e.keys,", ")}`;break;case be.invalid_union:r="Invalid input";break;case be.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${xt.joinValues(e.options)}`;break;case be.invalid_enum_value:r=`Invalid enum value. Expected ${xt.joinValues(e.options)}, received '${e.received}'`;break;case be.invalid_arguments:r="Invalid function arguments";break;case be.invalid_return_type:r="Invalid function return type";break;case be.invalid_date:r="Invalid date";break;case be.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:xt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case be.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case be.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case be.custom:r="Invalid input";break;case be.invalid_intersection_types:r="Intersection results could not be merged";break;case be.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case be.not_finite:r="Number must be finite";break;default:r=t.defaultError,xt.assertNever(e)}return{message:r}};let ZS=wl;function y$(e){ZS=e}function Zh(){return ZS}const Qh=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,o=[...r,...a.path||[]],i={...a,path:o};if(a.message!==void 0)return{...a,path:o,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(i,{data:t,defaultError:l}).message;return{...a,path:o,message:l}},w$=[];function Ce(e,t){const r=Zh(),n=Qh({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===wl?void 0:wl].filter(a=>!!a)});e.common.issues.push(n)}class Dr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return Ge;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const o=await a.key,i=await a.value;n.push({key:o,value:i})}return Dr.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:o,value:i}=a;if(o.status==="aborted"||i.status==="aborted")return Ge;o.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof i.value<"u"||a.alwaysSet)&&(n[o.value]=i.value)}return{status:t.value,value:n}}}const Ge=Object.freeze({status:"aborted"}),Bi=e=>({status:"dirty",value:e}),Ir=e=>({status:"valid",value:e}),fx=e=>e.status==="aborted",px=e=>e.status==="dirty",nd=e=>e.status==="valid",ad=e=>typeof Promise<"u"&&e instanceof Promise;function Xh(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function QS(e,t,r,n,a){if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var ze;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ze||(ze={}));var hc,mc;class Sn{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Nb=(e,t)=>{if(nd(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ls(e.common.issues);return this._error=r,this._error}}};function st(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(i,l)=>{var c,u;const{message:d}=e;return i.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:(c=d??n)!==null&&c!==void 0?c:l.defaultError}:i.code!=="invalid_type"?{message:l.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:l.defaultError}},description:a}}class lt{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Ta(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Ta(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Dr,ctx:{common:t.parent.common,data:t.data,parsedType:Ta(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(ad(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const a={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ta(t)},o=this._parseSync({data:t,path:a.path,parent:a});return Nb(a,o)}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ta(t)},a=this._parse({data:t,path:n.path,parent:n}),o=await(ad(a)?a:Promise.resolve(a));return Nb(n,o)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,o)=>{const i=t(a),l=()=>o.addIssue({code:be.custom,...n(a)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(l(),!1)):i?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new sn({schema:this,typeName:qe.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return wn.create(this,this._def)}nullable(){return so.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Gs.create(this,this._def)}promise(){return jl.create(this,this._def)}or(t){return cd.create([this,t],this._def)}and(t){return dd.create(this,t,this._def)}transform(t){return new sn({...st(this._def),schema:this,typeName:qe.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new pd({...st(this._def),innerType:this,defaultValue:r,typeName:qe.ZodDefault})}brand(){return new jv({typeName:qe.ZodBranded,type:this,...st(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new gd({...st(this._def),innerType:this,catchValue:r,typeName:qe.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Hd.create(this,t)}readonly(){return xd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const b$=/^c[^\s-]{8,}$/i,j$=/^[0-9a-z]+$/,N$=/^[0-9A-HJKMNP-TV-Z]{26}$/,_$=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,k$=/^[a-z0-9_-]{21}$/i,S$=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,C$=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,D$="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let zp;const P$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,T$=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,E$=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,XS="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",M$=new RegExp(`^${XS}$`);function e2(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function R$(e){return new RegExp(`^${e2(e)}$`)}function t2(e){let t=`${XS}T${e2(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function A$(e,t){return!!((t==="v4"||!t)&&P$.test(e)||(t==="v6"||!t)&&T$.test(e))}class Ws extends lt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Te.string){const o=this._getOrReturnCtx(t);return Ce(o,{code:be.invalid_type,expected:Te.string,received:o.parsedType}),Ge}const n=new Dr;let a;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(a=this._getOrReturnCtx(t,a),Ce(a,{code:be.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")t.data.length>o.value&&(a=this._getOrReturnCtx(t,a),Ce(a,{code:be.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){const i=t.data.length>o.value,l=t.data.length<o.value;(i||l)&&(a=this._getOrReturnCtx(t,a),i?Ce(a,{code:be.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):l&&Ce(a,{code:be.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")C$.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"email",code:be.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")zp||(zp=new RegExp(D$,"u")),zp.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"emoji",code:be.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")_$.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"uuid",code:be.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")k$.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"nanoid",code:be.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")b$.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"cuid",code:be.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")j$.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"cuid2",code:be.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")N$.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"ulid",code:be.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),Ce(a,{validation:"url",code:be.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"regex",code:be.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(a=this._getOrReturnCtx(t,a),Ce(a,{code:be.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(a=this._getOrReturnCtx(t,a),Ce(a,{code:be.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(a=this._getOrReturnCtx(t,a),Ce(a,{code:be.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?t2(o).test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{code:be.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?M$.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{code:be.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?R$(o).test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{code:be.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?S$.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"duration",code:be.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?A$(t.data,o.version)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"ip",code:be.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?E$.test(t.data)||(a=this._getOrReturnCtx(t,a),Ce(a,{validation:"base64",code:be.invalid_string,message:o.message}),n.dirty()):xt.assertNever(o);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:be.invalid_string,...ze.errToObj(n)})}_addCheck(t){return new Ws({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ze.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ze.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ze.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ze.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ze.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ze.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ze.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ze.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ze.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ze.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...ze.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ze.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ze.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...ze.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...ze.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...ze.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...ze.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...ze.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...ze.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...ze.errToObj(r)})}nonempty(t){return this.min(1,ze.errToObj(t))}trim(){return new Ws({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ws({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ws({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ws.create=e=>{var t;return new Ws({checks:[],typeName:qe.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...st(e)})};function O$(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,o=parseInt(e.toFixed(a).replace(".","")),i=parseInt(t.toFixed(a).replace(".",""));return o%i/Math.pow(10,a)}class eo extends lt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Te.number){const o=this._getOrReturnCtx(t);return Ce(o,{code:be.invalid_type,expected:Te.number,received:o.parsedType}),Ge}let n;const a=new Dr;for(const o of this._def.checks)o.kind==="int"?xt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Ce(n,{code:be.invalid_type,expected:"integer",received:"float",message:o.message}),a.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),Ce(n,{code:be.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),Ce(n,{code:be.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),a.dirty()):o.kind==="multipleOf"?O$(t.data,o.value)!==0&&(n=this._getOrReturnCtx(t,n),Ce(n,{code:be.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Ce(n,{code:be.not_finite,message:o.message}),a.dirty()):xt.assertNever(o);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ze.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ze.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ze.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ze.toString(r))}setLimit(t,r,n,a){return new eo({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ze.toString(a)}]})}_addCheck(t){return new eo({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ze.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ze.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ze.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ze.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ze.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ze.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:ze.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ze.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ze.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&xt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}eo.create=e=>new eo({checks:[],typeName:qe.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...st(e)});class to extends lt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==Te.bigint){const o=this._getOrReturnCtx(t);return Ce(o,{code:be.invalid_type,expected:Te.bigint,received:o.parsedType}),Ge}let n;const a=new Dr;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),Ce(n,{code:be.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),Ce(n,{code:be.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),a.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Ce(n,{code:be.not_multiple_of,multipleOf:o.value,message:o.message}),a.dirty()):xt.assertNever(o);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,ze.toString(r))}gt(t,r){return this.setLimit("min",t,!1,ze.toString(r))}lte(t,r){return this.setLimit("max",t,!0,ze.toString(r))}lt(t,r){return this.setLimit("max",t,!1,ze.toString(r))}setLimit(t,r,n,a){return new to({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:ze.toString(a)}]})}_addCheck(t){return new to({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ze.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ze.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ze.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ze.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:ze.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}to.create=e=>{var t;return new to({checks:[],typeName:qe.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...st(e)})};class od extends lt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Te.boolean){const n=this._getOrReturnCtx(t);return Ce(n,{code:be.invalid_type,expected:Te.boolean,received:n.parsedType}),Ge}return Ir(t.data)}}od.create=e=>new od({typeName:qe.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...st(e)});class Zo extends lt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Te.date){const o=this._getOrReturnCtx(t);return Ce(o,{code:be.invalid_type,expected:Te.date,received:o.parsedType}),Ge}if(isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return Ce(o,{code:be.invalid_date}),Ge}const n=new Dr;let a;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(a=this._getOrReturnCtx(t,a),Ce(a,{code:be.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(a=this._getOrReturnCtx(t,a),Ce(a,{code:be.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):xt.assertNever(o);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Zo({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:ze.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:ze.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Zo.create=e=>new Zo({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:qe.ZodDate,...st(e)});class em extends lt{_parse(t){if(this._getType(t)!==Te.symbol){const n=this._getOrReturnCtx(t);return Ce(n,{code:be.invalid_type,expected:Te.symbol,received:n.parsedType}),Ge}return Ir(t.data)}}em.create=e=>new em({typeName:qe.ZodSymbol,...st(e)});class id extends lt{_parse(t){if(this._getType(t)!==Te.undefined){const n=this._getOrReturnCtx(t);return Ce(n,{code:be.invalid_type,expected:Te.undefined,received:n.parsedType}),Ge}return Ir(t.data)}}id.create=e=>new id({typeName:qe.ZodUndefined,...st(e)});class ld extends lt{_parse(t){if(this._getType(t)!==Te.null){const n=this._getOrReturnCtx(t);return Ce(n,{code:be.invalid_type,expected:Te.null,received:n.parsedType}),Ge}return Ir(t.data)}}ld.create=e=>new ld({typeName:qe.ZodNull,...st(e)});class bl extends lt{constructor(){super(...arguments),this._any=!0}_parse(t){return Ir(t.data)}}bl.create=e=>new bl({typeName:qe.ZodAny,...st(e)});class $o extends lt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ir(t.data)}}$o.create=e=>new $o({typeName:qe.ZodUnknown,...st(e)});class Qn extends lt{_parse(t){const r=this._getOrReturnCtx(t);return Ce(r,{code:be.invalid_type,expected:Te.never,received:r.parsedType}),Ge}}Qn.create=e=>new Qn({typeName:qe.ZodNever,...st(e)});class tm extends lt{_parse(t){if(this._getType(t)!==Te.undefined){const n=this._getOrReturnCtx(t);return Ce(n,{code:be.invalid_type,expected:Te.void,received:n.parsedType}),Ge}return Ir(t.data)}}tm.create=e=>new tm({typeName:qe.ZodVoid,...st(e)});class Gs extends lt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Te.array)return Ce(r,{code:be.invalid_type,expected:Te.array,received:r.parsedType}),Ge;if(a.exactLength!==null){const i=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(i||l)&&(Ce(r,{code:i?be.too_big:be.too_small,minimum:l?a.exactLength.value:void 0,maximum:i?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(Ce(r,{code:be.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(Ce(r,{code:be.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((i,l)=>a.type._parseAsync(new Sn(r,i,r.path,l)))).then(i=>Dr.mergeArray(n,i));const o=[...r.data].map((i,l)=>a.type._parseSync(new Sn(r,i,r.path,l)));return Dr.mergeArray(n,o)}get element(){return this._def.type}min(t,r){return new Gs({...this._def,minLength:{value:t,message:ze.toString(r)}})}max(t,r){return new Gs({...this._def,maxLength:{value:t,message:ze.toString(r)}})}length(t,r){return new Gs({...this._def,exactLength:{value:t,message:ze.toString(r)}})}nonempty(t){return this.min(1,t)}}Gs.create=(e,t)=>new Gs({type:e,minLength:null,maxLength:null,exactLength:null,typeName:qe.ZodArray,...st(t)});function Si(e){if(e instanceof Bt){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=wn.create(Si(n))}return new Bt({...e._def,shape:()=>t})}else return e instanceof Gs?new Gs({...e._def,type:Si(e.element)}):e instanceof wn?wn.create(Si(e.unwrap())):e instanceof so?so.create(Si(e.unwrap())):e instanceof Cn?Cn.create(e.items.map(t=>Si(t))):e}class Bt extends lt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=xt.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Te.object){const u=this._getOrReturnCtx(t);return Ce(u,{code:be.invalid_type,expected:Te.object,received:u.parsedType}),Ge}const{status:n,ctx:a}=this._processInputParams(t),{shape:o,keys:i}=this._getCached(),l=[];if(!(this._def.catchall instanceof Qn&&this._def.unknownKeys==="strip"))for(const u in a.data)i.includes(u)||l.push(u);const c=[];for(const u of i){const d=o[u],m=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Sn(a,m,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Qn){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(Ce(a,{code:be.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const m=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Sn(a,m,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const m=await d.key,f=await d.value;u.push({key:m,value:f,alwaysSet:d.alwaysSet})}return u}).then(u=>Dr.mergeObjectSync(n,u)):Dr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return ze.errToObj,new Bt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,o,i,l;const c=(i=(o=(a=this._def).errorMap)===null||o===void 0?void 0:o.call(a,r,n).message)!==null&&i!==void 0?i:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=ze.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Bt({...this._def,unknownKeys:"strip"})}passthrough(){return new Bt({...this._def,unknownKeys:"passthrough"})}extend(t){return new Bt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Bt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:qe.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Bt({...this._def,catchall:t})}pick(t){const r={};return xt.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Bt({...this._def,shape:()=>r})}omit(t){const r={};return xt.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new Bt({...this._def,shape:()=>r})}deepPartial(){return Si(this)}partial(t){const r={};return xt.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}),new Bt({...this._def,shape:()=>r})}required(t){const r={};return xt.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof wn;)o=o._def.innerType;r[n]=o}}),new Bt({...this._def,shape:()=>r})}keyof(){return r2(xt.objectKeys(this.shape))}}Bt.create=(e,t)=>new Bt({shape:()=>e,unknownKeys:"strip",catchall:Qn.create(),typeName:qe.ZodObject,...st(t)});Bt.strictCreate=(e,t)=>new Bt({shape:()=>e,unknownKeys:"strict",catchall:Qn.create(),typeName:qe.ZodObject,...st(t)});Bt.lazycreate=(e,t)=>new Bt({shape:e,unknownKeys:"strip",catchall:Qn.create(),typeName:qe.ZodObject,...st(t)});class cd extends lt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(o){for(const l of o)if(l.result.status==="valid")return l.result;for(const l of o)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const i=o.map(l=>new ls(l.ctx.common.issues));return Ce(r,{code:be.invalid_union,unionErrors:i}),Ge}if(r.common.async)return Promise.all(n.map(async o=>{const i={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:i}),ctx:i}})).then(a);{let o;const i=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!o&&(o={result:d,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;const l=i.map(c=>new ls(c));return Ce(r,{code:be.invalid_union,unionErrors:l}),Ge}}get options(){return this._def.options}}cd.create=(e,t)=>new cd({options:e,typeName:qe.ZodUnion,...st(t)});const On=e=>e instanceof hd?On(e.schema):e instanceof sn?On(e.innerType()):e instanceof md?[e.value]:e instanceof ro?e.options:e instanceof fd?xt.objectValues(e.enum):e instanceof pd?On(e._def.innerType):e instanceof id?[void 0]:e instanceof ld?[null]:e instanceof wn?[void 0,...On(e.unwrap())]:e instanceof so?[null,...On(e.unwrap())]:e instanceof jv||e instanceof xd?On(e.unwrap()):e instanceof gd?On(e._def.innerType):[];class af extends lt{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Te.object)return Ce(r,{code:be.invalid_type,expected:Te.object,received:r.parsedType}),Ge;const n=this.discriminator,a=r.data[n],o=this.optionsMap.get(a);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(Ce(r,{code:be.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Ge)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const a=new Map;for(const o of r){const i=On(o.shape[t]);if(!i.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of i){if(a.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);a.set(l,o)}}return new af({typeName:qe.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...st(n)})}}function gx(e,t){const r=Ta(e),n=Ta(t);if(e===t)return{valid:!0,data:e};if(r===Te.object&&n===Te.object){const a=xt.objectKeys(t),o=xt.objectKeys(e).filter(l=>a.indexOf(l)!==-1),i={...e,...t};for(const l of o){const c=gx(e[l],t[l]);if(!c.valid)return{valid:!1};i[l]=c.data}return{valid:!0,data:i}}else if(r===Te.array&&n===Te.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let o=0;o<e.length;o++){const i=e[o],l=t[o],c=gx(i,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Te.date&&n===Te.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class dd extends lt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(o,i)=>{if(fx(o)||fx(i))return Ge;const l=gx(o.value,i.value);return l.valid?((px(o)||px(i))&&r.dirty(),{status:r.value,value:l.data}):(Ce(n,{code:be.invalid_intersection_types}),Ge)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,i])=>a(o,i)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}dd.create=(e,t,r)=>new dd({left:e,right:t,typeName:qe.ZodIntersection,...st(r)});class Cn extends lt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Te.array)return Ce(n,{code:be.invalid_type,expected:Te.array,received:n.parsedType}),Ge;if(n.data.length<this._def.items.length)return Ce(n,{code:be.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ge;!this._def.rest&&n.data.length>this._def.items.length&&(Ce(n,{code:be.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const o=[...n.data].map((i,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Sn(n,i,n.path,l)):null}).filter(i=>!!i);return n.common.async?Promise.all(o).then(i=>Dr.mergeArray(r,i)):Dr.mergeArray(r,o)}get items(){return this._def.items}rest(t){return new Cn({...this._def,rest:t})}}Cn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Cn({items:e,typeName:qe.ZodTuple,rest:null,...st(t)})};class ud extends lt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Te.object)return Ce(n,{code:be.invalid_type,expected:Te.object,received:n.parsedType}),Ge;const a=[],o=this._def.keyType,i=this._def.valueType;for(const l in n.data)a.push({key:o._parse(new Sn(n,l,n.path,l)),value:i._parse(new Sn(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?Dr.mergeObjectAsync(r,a):Dr.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof lt?new ud({keyType:t,valueType:r,typeName:qe.ZodRecord,...st(n)}):new ud({keyType:Ws.create(),valueType:t,typeName:qe.ZodRecord,...st(r)})}}class rm extends lt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Te.map)return Ce(n,{code:be.invalid_type,expected:Te.map,received:n.parsedType}),Ge;const a=this._def.keyType,o=this._def.valueType,i=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new Sn(n,l,n.path,[u,"key"])),value:o._parse(new Sn(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of i){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Ge;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of i){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Ge;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}rm.create=(e,t,r)=>new rm({valueType:t,keyType:e,typeName:qe.ZodMap,...st(r)});class Qo extends lt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Te.set)return Ce(n,{code:be.invalid_type,expected:Te.set,received:n.parsedType}),Ge;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(Ce(n,{code:be.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(Ce(n,{code:be.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const o=this._def.valueType;function i(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Ge;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>o._parse(new Sn(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>i(c)):i(l)}min(t,r){return new Qo({...this._def,minSize:{value:t,message:ze.toString(r)}})}max(t,r){return new Qo({...this._def,maxSize:{value:t,message:ze.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Qo.create=(e,t)=>new Qo({valueType:e,minSize:null,maxSize:null,typeName:qe.ZodSet,...st(t)});class rl extends lt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Te.function)return Ce(r,{code:be.invalid_type,expected:Te.function,received:r.parsedType}),Ge;function n(l,c){return Qh({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Zh(),wl].filter(u=>!!u),issueData:{code:be.invalid_arguments,argumentsError:c}})}function a(l,c){return Qh({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Zh(),wl].filter(u=>!!u),issueData:{code:be.invalid_return_type,returnTypeError:c}})}const o={errorMap:r.common.contextualErrorMap},i=r.data;if(this._def.returns instanceof jl){const l=this;return Ir(async function(...c){const u=new ls([]),d=await l._def.args.parseAsync(c,o).catch(p=>{throw u.addIssue(n(c,p)),u}),m=await Reflect.apply(i,this,d);return await l._def.returns._def.type.parseAsync(m,o).catch(p=>{throw u.addIssue(a(m,p)),u})})}else{const l=this;return Ir(function(...c){const u=l._def.args.safeParse(c,o);if(!u.success)throw new ls([n(c,u.error)]);const d=Reflect.apply(i,this,u.data),m=l._def.returns.safeParse(d,o);if(!m.success)throw new ls([a(d,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new rl({...this._def,args:Cn.create(t).rest($o.create())})}returns(t){return new rl({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new rl({args:t||Cn.create([]).rest($o.create()),returns:r||$o.create(),typeName:qe.ZodFunction,...st(n)})}}class hd extends lt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}hd.create=(e,t)=>new hd({getter:e,typeName:qe.ZodLazy,...st(t)});class md extends lt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Ce(r,{received:r.data,code:be.invalid_literal,expected:this._def.value}),Ge}return{status:"valid",value:t.data}}get value(){return this._def.value}}md.create=(e,t)=>new md({value:e,typeName:qe.ZodLiteral,...st(t)});function r2(e,t){return new ro({values:e,typeName:qe.ZodEnum,...st(t)})}class ro extends lt{constructor(){super(...arguments),hc.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Ce(r,{expected:xt.joinValues(n),received:r.parsedType,code:be.invalid_type}),Ge}if(Xh(this,hc)||QS(this,hc,new Set(this._def.values)),!Xh(this,hc).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Ce(r,{received:r.data,code:be.invalid_enum_value,options:n}),Ge}return Ir(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return ro.create(t,{...this._def,...r})}exclude(t,r=this._def){return ro.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}hc=new WeakMap;ro.create=r2;class fd extends lt{constructor(){super(...arguments),mc.set(this,void 0)}_parse(t){const r=xt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Te.string&&n.parsedType!==Te.number){const a=xt.objectValues(r);return Ce(n,{expected:xt.joinValues(a),received:n.parsedType,code:be.invalid_type}),Ge}if(Xh(this,mc)||QS(this,mc,new Set(xt.getValidEnumValues(this._def.values))),!Xh(this,mc).has(t.data)){const a=xt.objectValues(r);return Ce(n,{received:n.data,code:be.invalid_enum_value,options:a}),Ge}return Ir(t.data)}get enum(){return this._def.values}}mc=new WeakMap;fd.create=(e,t)=>new fd({values:e,typeName:qe.ZodNativeEnum,...st(t)});class jl extends lt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Te.promise&&r.common.async===!1)return Ce(r,{code:be.invalid_type,expected:Te.promise,received:r.parsedType}),Ge;const n=r.parsedType===Te.promise?r.data:Promise.resolve(r.data);return Ir(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}jl.create=(e,t)=>new jl({type:e,typeName:qe.ZodPromise,...st(t)});class sn extends lt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===qe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,o={addIssue:i=>{Ce(n,i),i.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),a.type==="preprocess"){const i=a.transform(n.data,o);if(n.common.async)return Promise.resolve(i).then(async l=>{if(r.value==="aborted")return Ge;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Ge:c.status==="dirty"||r.value==="dirty"?Bi(c.value):c});{if(r.value==="aborted")return Ge;const l=this._def.schema._parseSync({data:i,path:n.path,parent:n});return l.status==="aborted"?Ge:l.status==="dirty"||r.value==="dirty"?Bi(l.value):l}}if(a.type==="refinement"){const i=l=>{const c=a.refinement(l,o);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ge:(l.status==="dirty"&&r.dirty(),i(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Ge:(l.status==="dirty"&&r.dirty(),i(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!nd(i))return i;const l=a.transform(i.value,o);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>nd(i)?Promise.resolve(a.transform(i.value,o)).then(l=>({status:r.value,value:l})):i);xt.assertNever(a)}}sn.create=(e,t,r)=>new sn({schema:e,typeName:qe.ZodEffects,effect:t,...st(r)});sn.createWithPreprocess=(e,t,r)=>new sn({schema:t,effect:{type:"preprocess",transform:e},typeName:qe.ZodEffects,...st(r)});class wn extends lt{_parse(t){return this._getType(t)===Te.undefined?Ir(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}wn.create=(e,t)=>new wn({innerType:e,typeName:qe.ZodOptional,...st(t)});class so extends lt{_parse(t){return this._getType(t)===Te.null?Ir(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}so.create=(e,t)=>new so({innerType:e,typeName:qe.ZodNullable,...st(t)});class pd extends lt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Te.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}pd.create=(e,t)=>new pd({innerType:e,typeName:qe.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...st(t)});class gd extends lt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ad(a)?a.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new ls(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ls(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}gd.create=(e,t)=>new gd({innerType:e,typeName:qe.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...st(t)});class sm extends lt{_parse(t){if(this._getType(t)!==Te.nan){const n=this._getOrReturnCtx(t);return Ce(n,{code:be.invalid_type,expected:Te.nan,received:n.parsedType}),Ge}return{status:"valid",value:t.data}}}sm.create=e=>new sm({typeName:qe.ZodNaN,...st(e)});const I$=Symbol("zod_brand");class jv extends lt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Hd extends lt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Ge:o.status==="dirty"?(r.dirty(),Bi(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ge:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new Hd({in:t,out:r,typeName:qe.ZodPipeline})}}class xd extends lt{_parse(t){const r=this._def.innerType._parse(t),n=a=>(nd(a)&&(a.value=Object.freeze(a.value)),a);return ad(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}xd.create=(e,t)=>new xd({innerType:e,typeName:qe.ZodReadonly,...st(t)});function s2(e,t={},r){return e?bl.create().superRefine((n,a)=>{var o,i;if(!e(n)){const l=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,c=(i=(o=l.fatal)!==null&&o!==void 0?o:r)!==null&&i!==void 0?i:!0,u=typeof l=="string"?{message:l}:l;a.addIssue({code:"custom",...u,fatal:c})}}):bl.create()}const L$={object:Bt.lazycreate};var qe;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(qe||(qe={}));const F$=(e,t={message:`Input not instance of ${e.name}`})=>s2(r=>r instanceof e,t),Lt=Ws.create,n2=eo.create,$$=sm.create,z$=to.create,a2=od.create,vd=Zo.create,U$=em.create,B$=id.create,V$=ld.create,o2=bl.create,W$=$o.create,H$=Qn.create,q$=tm.create,i2=Gs.create,ni=Bt.create,Y$=Bt.strictCreate,K$=cd.create,G$=af.create,J$=dd.create,Z$=Cn.create,Q$=ud.create,X$=rm.create,e9=Qo.create,t9=rl.create,r9=hd.create,s9=md.create,l2=ro.create,n9=fd.create,a9=jl.create,_b=sn.create,o9=wn.create,i9=so.create,l9=sn.createWithPreprocess,c9=Hd.create,d9=()=>Lt().optional(),u9=()=>n2().optional(),h9=()=>a2().optional(),c2={string:e=>Ws.create({...e,coerce:!0}),number:e=>eo.create({...e,coerce:!0}),boolean:e=>od.create({...e,coerce:!0}),bigint:e=>to.create({...e,coerce:!0}),date:e=>Zo.create({...e,coerce:!0})},m9=Ge;var Wr=Object.freeze({__proto__:null,defaultErrorMap:wl,setErrorMap:y$,getErrorMap:Zh,makeIssue:Qh,EMPTY_PATH:w$,addIssueToContext:Ce,ParseStatus:Dr,INVALID:Ge,DIRTY:Bi,OK:Ir,isAborted:fx,isDirty:px,isValid:nd,isAsync:ad,get util(){return xt},get objectUtil(){return mx},ZodParsedType:Te,getParsedType:Ta,ZodType:lt,datetimeRegex:t2,ZodString:Ws,ZodNumber:eo,ZodBigInt:to,ZodBoolean:od,ZodDate:Zo,ZodSymbol:em,ZodUndefined:id,ZodNull:ld,ZodAny:bl,ZodUnknown:$o,ZodNever:Qn,ZodVoid:tm,ZodArray:Gs,ZodObject:Bt,ZodUnion:cd,ZodDiscriminatedUnion:af,ZodIntersection:dd,ZodTuple:Cn,ZodRecord:ud,ZodMap:rm,ZodSet:Qo,ZodFunction:rl,ZodLazy:hd,ZodLiteral:md,ZodEnum:ro,ZodNativeEnum:fd,ZodPromise:jl,ZodEffects:sn,ZodTransformer:sn,ZodOptional:wn,ZodNullable:so,ZodDefault:pd,ZodCatch:gd,ZodNaN:sm,BRAND:I$,ZodBranded:jv,ZodPipeline:Hd,ZodReadonly:xd,custom:s2,Schema:lt,ZodSchema:lt,late:L$,get ZodFirstPartyTypeKind(){return qe},coerce:c2,any:o2,array:i2,bigint:z$,boolean:a2,date:vd,discriminatedUnion:G$,effect:_b,enum:l2,function:t9,instanceof:F$,intersection:J$,lazy:r9,literal:s9,map:X$,nan:$$,nativeEnum:n9,never:H$,null:V$,nullable:i9,number:n2,object:ni,oboolean:h9,onumber:u9,optional:o9,ostring:d9,pipeline:c9,preprocess:l9,promise:a9,record:Q$,set:e9,strictObject:Y$,string:Lt,symbol:U$,transformer:_b,tuple:Z$,undefined:B$,union:K$,unknown:W$,void:q$,NEVER:m9,ZodIssueCode:be,quotelessJson:v$,ZodError:ls});const sa=XF,d2=h.createContext({}),it=({...e})=>s.jsx(d2.Provider,{value:{name:e.name},children:s.jsx(s$,{...e})}),of=()=>{const e=h.useContext(d2),t=h.useContext(u2),{getFieldState:r,formState:n}=nf(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...a}},u2=h.createContext({}),et=h.forwardRef(({className:e,...t},r)=>{const n=h.useId();return s.jsx(u2.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:se("space-y-2",e),...t})})});et.displayName="FormItem";const tt=h.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=of();return s.jsx(ue,{ref:r,className:se(n&&"text-destructive",e),htmlFor:a,...t})});tt.displayName="FormLabel";const rt=h.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:o}=of();return s.jsx(Nn,{ref:t,id:n,"aria-describedby":r?`${a} ${o}`:`${a}`,"aria-invalid":!!r,...e})});rt.displayName="FormControl";const f9=h.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=of();return s.jsx("p",{ref:r,id:n,className:se("text-sm text-muted-foreground",e),...t})});f9.displayName="FormDescription";const dt=h.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:o}=of(),i=a?String(a==null?void 0:a.message):t;return i?s.jsx("p",{ref:n,id:o,className:se("text-sm font-medium text-destructive",e),...r,children:i}):null});dt.displayName="FormMessage";const p9=ni({name:Lt().min(1,{message:"프로젝트명은 필수입니다."}),currentPhase:Lt().min(1,{message:"현재 단계를 선택해주세요."}),manager:Lt().min(1,{message:"담당자는 필수입니다."}),requestDate:vd().optional(),targetSOPDate:vd({required_error:"마감일은 필수입니다."}),promotionStatus:Lt().min(1,{message:"진행 상태를 선택해주세요."})}),g9=({open:e,onOpenChange:t})=>{const{clients:r,managers:n,addProject:a,departments:o,corporations:i,getProjectStatuses:l,phases:c}=yt(),{translations:u}=Yt(),d=new Date,[m,f]=h.useState([]),[p,v]=h.useState(null),[g,b]=h.useState(null),y=l(),x=y.length>0?y[0].name:"Planning",w=ta({resolver:ra(p9),defaultValues:{name:"",currentPhase:c.length>0?c[0].id:"",manager:"",requestDate:d,targetSOPDate:new Date(d.getFullYear(),d.getMonth()+3,d.getDate()),promotionStatus:x}}),j=$=>{if($.target.files){const W=Array.from($.target.files);f(_=>[..._,...W])}},k=$=>{f(W=>W.filter((_,R)=>R!==$))},A=$=>{var _;const W=(_=$.target.files)==null?void 0:_[0];if(W&&W.type.startsWith("image/")){v(W);const R=new FileReader;R.onload=O=>{var ne;b((ne=O.target)==null?void 0:ne.result)},R.readAsDataURL(W)}},C=()=>{v(null),b(null)},T=async $=>{var W;try{const _=`p${Date.now()}`;let R="";p&&g&&(R=g);const O={id:_,name:$.name,description:"",status:$.promotionStatus||x,progress:0,startDate:Ke(new Date,"yyyy-MM-dd"),dueDate:Ke($.targetSOPDate,"yyyy-MM-dd"),endDate:"",team:[],manager:$.manager||"",managerId:"",clientId:"",clientName:"고객사 미지정",department:"",phase:$.currentPhase||((W=c[0])==null?void 0:W.id)||"",type:"일반",projectType:"일반",requestDate:$.requestDate?Ke($.requestDate,"yyyy-MM-dd"):Ke(new Date,"yyyy-MM-dd"),targetSOPDate:Ke($.targetSOPDate,"yyyy-MM-dd"),currentPhase:$.currentPhase,annualQuantity:0,averageAmount:0,annualAmount:0,promotionStatus:$.promotionStatus||"planned",competitor:"",issueCorporation:"",completed:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),image:R};await a(O),m.length>0&&await B(_,m),Fs({title:"프로젝트 생성 완료",description:`"${O.name}" 프로젝트가 성공적으로 생성되었습니다.${m.length>0?` (파일 ${m.length}개 업로드 완료)`:""}`}),w.reset(),f([]),v(null),b(null),t(!1)}catch(_){console.error("Error creating project:",_),Fs({title:"프로젝트 생성 실패",description:"프로젝트 생성 중 오류가 발생했습니다. 다시 시도해주세요.",variant:"destructive"})}},B=async($,W)=>{const{data:{user:_}}=await re.auth.getUser();if(!_)throw new Error("로그인이 필요합니다.");for(const R of W)try{const O=R.name.split(".").pop(),ne=`${$}_${Date.now()}.${O}`,P=`project-files/${ne}`,{data:H,error:L}=await re.storage.from("project-files").upload(P,R);if(L){console.error("파일 업로드 오류:",L);continue}const{data:M,error:F}=await re.from("files").insert([{filename:ne,original_filename:R.name,file_size:R.size,content_type:R.type,file_path:P,uploaded_by:_.id}]).select().single();if(F){console.error("파일 정보 저장 오류:",F);continue}const{error:G}=await re.from("project_attachments").insert([{project_id:$,file_id:M.id,description:`프로젝트 첨부파일: ${R.name}`}]);G&&console.error("첨부파일 연결 오류:",G)}catch(O){console.error(`파일 "${R.name}" 업로드 중 오류:`,O)}};return s.jsx(kt,{open:e,onOpenChange:t,children:s.jsxs(bt,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto border-0 shadow-2xl",children:[s.jsxs("div",{className:"relative overflow-hidden rounded-t-lg bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 p-6 text-white",children:[s.jsx("div",{className:"absolute inset-0 bg-black/10"}),s.jsx("div",{className:"absolute -right-10 -top-10 h-32 w-32 rounded-full bg-white/10 blur-2xl"}),s.jsx("div",{className:"absolute -bottom-10 -left-10 h-32 w-32 rounded-full bg-white/10 blur-2xl"}),s.jsx(jt,{className:"relative z-10",children:s.jsxs(Nt,{className:"flex items-center gap-3 text-2xl font-bold",children:[s.jsx("div",{className:"p-2 rounded-xl bg-white/20 backdrop-blur-sm",children:s.jsx(Xs,{className:"h-6 w-6"})}),"새 프로젝트 생성",s.jsxs(Le,{variant:"secondary",className:"bg-white/20 text-white border-white/30",children:[s.jsx(dc,{className:"h-3 w-3 mr-1"}),"간편 생성"]})]})})]}),s.jsx(sa,{...w,children:s.jsxs("form",{onSubmit:w.handleSubmit(T),className:"space-y-6 p-6",children:[s.jsxs(Pe,{className:"border-0 shadow-lg overflow-hidden",children:[s.jsx("div",{className:"h-1 bg-gradient-to-r from-blue-500 to-purple-500"}),s.jsxs(Ee,{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Wa,{className:"h-5 w-5 text-blue-600"}),"기본 정보"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(it,{control:w.control,name:"name",render:({field:$})=>s.jsxs(et,{children:[s.jsx(tt,{className:"text-base font-medium",children:"프로젝트명 *"}),s.jsx(rt,{children:s.jsx(fe,{...$,placeholder:"프로젝트명을 입력하세요",className:"h-12 text-base border-2 focus:border-blue-500 transition-colors"})}),s.jsx(dt,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(it,{control:w.control,name:"manager",render:({field:$})=>s.jsxs(et,{children:[s.jsx(tt,{className:"text-base font-medium",children:"담당자 (PIC) *"}),s.jsxs(Oe,{onValueChange:$.onChange,defaultValue:$.value,children:[s.jsx(rt,{children:s.jsx(Re,{className:"h-12 text-base border-2 focus:border-blue-500 transition-colors",children:s.jsx(Ie,{placeholder:"담당자 선택"})})}),s.jsx(Ae,{children:n.map(W=>s.jsx(ce,{value:W.name,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 text-sm font-medium",children:W.name.charAt(0)}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:W.name}),W.email&&s.jsx("div",{className:"text-xs text-gray-500",children:W.email})]})]})},W.id))})]}),s.jsx(dt,{})]})}),s.jsx(it,{control:w.control,name:"currentPhase",render:({field:$})=>s.jsxs(et,{children:[s.jsx(tt,{className:"text-base font-medium",children:"프로젝트 단계 *"}),s.jsxs(Oe,{onValueChange:$.onChange,defaultValue:$.value,children:[s.jsx(rt,{children:s.jsx(Re,{className:"h-12 text-base border-2 focus:border-blue-500 transition-colors",children:s.jsx(Ie,{placeholder:"단계 선택"})})}),s.jsx(Ae,{children:c.map(W=>s.jsx(ce,{value:W.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:W.color}}),W.name]})},W.id))})]}),s.jsx(dt,{})]})})]})]})]})]}),s.jsxs(Pe,{className:"border-0 shadow-lg overflow-hidden",children:[s.jsx("div",{className:"h-1 bg-gradient-to-r from-purple-500 to-pink-500"}),s.jsxs(Ee,{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(sr,{className:"h-5 w-5 text-purple-600"}),"일정 정보"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(it,{control:w.control,name:"requestDate",render:({field:$})=>s.jsxs(et,{className:"flex flex-col",children:[s.jsx(tt,{className:"text-base font-medium",children:"시작일"}),s.jsxs(Hh,{children:[s.jsx(qh,{asChild:!0,children:s.jsx(rt,{children:s.jsxs(X,{variant:"outline",className:se("h-12 text-base border-2 focus:border-purple-500 transition-colors justify-start text-left font-normal",!$.value&&"text-muted-foreground"),children:[s.jsx(sr,{className:"mr-2 h-4 w-4"}),$.value?Ke($.value,"yyyy년 MM월 dd일"):s.jsx("span",{children:"날짜 선택"})]})})}),s.jsx(sd,{className:"w-auto p-0",children:s.jsx(vl,{mode:"single",selected:$.value,onSelect:$.onChange,initialFocus:!0,className:"p-3"})})]}),s.jsx(dt,{})]})}),s.jsx(it,{control:w.control,name:"targetSOPDate",render:({field:$})=>s.jsxs(et,{className:"flex flex-col",children:[s.jsx(tt,{className:"text-base font-medium",children:"마감일 *"}),s.jsxs(Hh,{children:[s.jsx(qh,{asChild:!0,children:s.jsx(rt,{children:s.jsxs(X,{variant:"outline",className:se("h-12 text-base border-2 focus:border-purple-500 transition-colors justify-start text-left font-normal",!$.value&&"text-muted-foreground"),children:[s.jsx(sr,{className:"mr-2 h-4 w-4"}),$.value?Ke($.value,"yyyy년 MM월 dd일"):s.jsx("span",{children:"날짜 선택"})]})})}),s.jsx(sd,{className:"w-auto p-0",children:s.jsx(vl,{mode:"single",selected:$.value,onSelect:$.onChange,initialFocus:!0,className:"p-3"})})]}),s.jsx(dt,{})]})})]})]})]}),s.jsxs(Pe,{className:"border-0 shadow-lg overflow-hidden",children:[s.jsx("div",{className:"h-1 bg-gradient-to-r from-green-500 to-teal-500"}),s.jsxs(Ee,{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Ks,{className:"h-5 w-5 text-green-600"}),"상태 정보"]}),s.jsx(it,{control:w.control,name:"promotionStatus",render:({field:$})=>s.jsxs(et,{children:[s.jsx(tt,{className:"text-base font-medium",children:"진행 상태 *"}),s.jsxs(Oe,{onValueChange:$.onChange,defaultValue:$.value,children:[s.jsx(rt,{children:s.jsx(Re,{className:"h-12 text-base border-2 focus:border-green-500 transition-colors",children:s.jsx(Ie,{placeholder:"상태 선택"})})}),s.jsx(Ae,{children:y.map(W=>{var _;return s.jsx(ce,{value:W.name,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:W.color}}),W.translationKey&&((_=u.global)!=null&&_[W.translationKey])?u.global[W.translationKey]:W.name]})},W.id)})})]}),s.jsx(dt,{})]})})]})]}),s.jsxs(Pe,{className:"border-0 shadow-lg overflow-hidden",children:[s.jsx("div",{className:"h-1 bg-gradient-to-r from-orange-500 to-red-500"}),s.jsxs(Ee,{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Ol,{className:"h-5 w-5 text-orange-600"}),"파일 및 이미지"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ue,{className:"text-base font-medium",children:"프로젝트 이미지"}),s.jsxs("div",{className:"mt-2",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:A,className:"hidden",id:"image-upload"}),s.jsx("label",{htmlFor:"image-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-orange-300 rounded-lg cursor-pointer bg-orange-50 hover:bg-orange-100 transition-colors",children:s.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[s.jsx(Yo,{className:"w-8 h-8 mb-2 text-orange-500"}),s.jsx("p",{className:"mb-2 text-sm text-orange-700",children:s.jsx("span",{className:"font-semibold",children:"클릭하여 이미지 업로드"})}),s.jsx("p",{className:"text-xs text-orange-500",children:"PNG, JPG, JPEG (최대 10MB)"})]})})]}),g&&s.jsxs("div",{className:"mt-4 relative",children:[s.jsx("img",{src:g,alt:"미리보기",className:"w-full h-48 object-cover rounded-lg border-2 border-orange-200"}),s.jsx(X,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:C,children:s.jsx(It,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-base font-medium",children:"첨부 파일"}),s.jsxs("div",{className:"mt-2",children:[s.jsx("input",{type:"file",multiple:!0,onChange:j,className:"hidden",id:"file-upload"}),s.jsx("label",{htmlFor:"file-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-dashed border-blue-300 rounded-lg cursor-pointer bg-blue-50 hover:bg-blue-100 transition-colors",children:s.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[s.jsx($i,{className:"w-8 h-8 mb-2 text-blue-500"}),s.jsx("p",{className:"mb-2 text-sm text-blue-700",children:s.jsx("span",{className:"font-semibold",children:"클릭하여 파일 업로드"})}),s.jsx("p",{className:"text-xs text-blue-500",children:"모든 파일 형식 지원"})]})})]}),m.length>0&&s.jsx("div",{className:"mt-4 space-y-2",children:m.map(($,W)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($i,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:$.name}),s.jsxs("span",{className:"text-xs text-gray-500",children:["(",($.size/1024/1024).toFixed(2)," MB)"]})]}),s.jsx(X,{type:"button",variant:"ghost",size:"sm",onClick:()=>k(W),className:"text-red-500 hover:text-red-700",children:s.jsx(It,{className:"h-4 w-4"})})]},W))})]})]})]})]}),s.jsx($t,{className:"pt-6 border-t",children:s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsx(X,{type:"button",variant:"outline",onClick:()=>t(!1),className:"flex-1 h-12 text-base border-2 hover:bg-gray-50",children:"취소"}),s.jsxs(X,{type:"submit",className:"flex-1 h-12 text-base bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white border-0 shadow-lg",children:[s.jsx(Xs,{className:"mr-2 h-5 w-5"}),"프로젝트 생성"]})]})})]})})]})})},x9=({project:e,onClick:t})=>{const{clients:r,managers:n,phases:a,tasks:o,calculateProjectProgress:i}=yt();console.log(`ProjectCard - ${e.name}:`,{promotionStatus:e.promotionStatus,phase:e.phase,type:e.type,status:e.status});const l=(f,p)=>{if(p)return p;if(f){const v=n.find(g=>g.id===f);if(v)return v.name}return"담당자 미지정"},c=i(e.id),u=(f,p)=>{const v=f.toLowerCase().trim();return console.log(`업무 상태 분석: status="${f}", progress=${p}`),p===100||v==="completed"||v==="done"||v==="완료"||v==="finished"?(console.log(`→ 완료로 분류 (진행률: ${p}%, 상태: ${f})`),"completed"):p===20||p===40||p===60||p===80||p>0&&p<100||v==="in-progress"||v==="in_progress"||v==="progress"||v==="doing"||v==="진행중"||v==="active"||v==="reviewing"||v==="검토중"?(console.log(`→ 진행중으로 분류 (진행률: ${p}%, 상태: ${f})`),"inProgress"):(console.log(`→ 시작전으로 분류 (진행률: ${p}%, 상태: ${f})`),"notStarted")},m=(()=>{const f=o.filter(g=>g.projectId===e.id),p=f.length;if(console.log(`=== 프로젝트 "${e.name}" 업무 현황 계산 ===`),console.log(`전체 업무 수: ${p}`),p===0)return console.log("업무가 없어서 모든 값을 0으로 반환"),{total:0,notStarted:0,inProgress:0,completed:0};const v=f.reduce((g,b)=>{const y=u(b.status,b.progress||0);return g[y]++,console.log(`업무 "${b.title}": ${b.status} (${b.progress}%) → ${y}`),g},{notStarted:0,inProgress:0,completed:0});return console.log("최종 통계:",v),console.log("==============================="),{total:p,notStarted:v.notStarted,inProgress:v.inProgress,completed:v.completed}})();return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow duration-200 cursor-pointer p-4",onClick:t,children:[s.jsxs("div",{className:"flex gap-3 mb-3",children:[s.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-gray-100 rounded-lg overflow-hidden",children:e.image?s.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(Wa,{className:"h-6 w-6 text-gray-400"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-gray-900 truncate mb-1",children:e.name}),s.jsxs("div",{className:"flex gap-1 mb-1",children:[e.promotionStage&&e.promotionStage!=="Promotion"?s.jsx(Le,{variant:"secondary",className:"text-xs px-1.5 py-0.5 bg-blue-100 text-blue-700 text-[10px] leading-3",children:e.promotionStage}):e.promotionStage==="Promotion"?s.jsx(Le,{variant:"secondary",className:"text-xs px-1.5 py-0.5 bg-red-100 text-red-700 text-[10px] leading-3",children:"Promotion"}):null,e.phase&&e.phase!==e.promotionStage&&!["진행중","일반","planned","active","in-progress","planning"].includes(e.phase.toLowerCase())&&!e.phase.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i)&&s.jsx(Le,{variant:"outline",className:"text-xs px-1.5 py-0.5 text-[10px] leading-3",children:e.phase}),e.projectType&&e.projectType!==e.promotionStage&&e.projectType!==e.phase&&!["일반","general","normal"].includes(e.projectType.toLowerCase())&&s.jsx(Le,{variant:"outline",className:"text-xs px-1.5 py-0.5 text-[10px] leading-3",children:e.projectType})]}),s.jsxs("div",{className:"flex items-center gap-1 text-sm text-green-600",children:[s.jsx(nr,{className:"h-3 w-3"}),s.jsx("span",{children:l(e.managerId,e.manager)})]})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"진행률"}),s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[c,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:s.jsx("div",{className:"bg-gray-800 h-1.5 rounded-full transition-all duration-300",style:{width:`${c}%`}})})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("h4",{className:"text-sm text-gray-600 mb-2",children:"업무 현황"}),m.total===0?s.jsx("div",{className:"text-center text-xs text-gray-400 py-2",children:"등록된 업무가 없습니다"}):s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"○ 시작전"}),s.jsxs("span",{className:"text-gray-900",children:[m.notStarted,"/",m.total]})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"○ 진행중"}),s.jsxs("span",{className:"text-gray-900",children:[m.inProgress,"/",m.total]})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"○ 완료"}),s.jsxs("span",{className:"text-gray-900",children:[m.completed,"/",m.total]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 pt-3 border-t border-gray-100",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(sr,{className:"h-3 w-3"}),s.jsxs("span",{children:["시작: ",e.startDate&&!isNaN(new Date(e.startDate).getTime())?Ke(new Date(e.startDate),"MM/dd",{locale:Yr}):"05/26"]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(yr,{className:"h-3 w-3"}),s.jsxs("span",{children:["마감: ",e.dueDate&&!isNaN(new Date(e.dueDate).getTime())?Ke(new Date(e.dueDate),"MM/dd",{locale:Yr}):"07/18"]})]})]})]})},v9=()=>{var A,C,T,B,$,W;const{projects:e,calculateProjectProgress:t}=yt(),[r,n]=h.useState(!1),[a,o]=h.useState("grid"),[i,l]=h.useState("all"),{translations:c}=Yt(),u=lo();console.log("=== 전체 프로젝트 데이터 디버깅 ==="),console.log("프로젝트 개수:",e.length),e.forEach((_,R)=>{console.log(`프로젝트 ${R+1}:`,{id:_.id,name:_.name,status:_.status,phase:_.phase,type:_.type,projectType:_.projectType,promotionStatus:_.promotionStatus,progress:t(_.id)})}),console.log("=====================================");const d=_=>{if(!_)return"-";try{const R=E0(_);return Om(R)?Ke(R,"yyyy-MM-dd",{locale:Yr}):_}catch{return _}},m=_=>t(_.id),f=_=>{if(!_.endDate)return!1;const R=new Date(_.endDate),O=new Date,ne=m(_);if(R<O&&_.status!=="completed")return!0;const P=_.startDate?Math.ceil((R.getTime()-new Date(_.startDate).getTime())/(1e3*60*60*24)):0,H=_.startDate?Math.ceil((O.getTime()-new Date(_.startDate).getTime())/(1e3*60*60*24)):0;if(P>0){const L=Math.min(H/P*100,100);if(ne<L-20&&_.status==="active")return!0}return!1},p=_=>{const R=m(_);return console.log(`=== 프로젝트 상태 계산: ${_.name} ===`),console.log(`진행률: ${R}%`),console.log(`프로젝트 상태: ${_.status}`),console.log(`시작일: ${_.startDate}`),console.log(`마감일: ${_.endDate}`),R>=100||_.status==="completed"?(console.log(`결과: completed (진행률 ${R}% 또는 상태 completed)`),"completed"):_.status==="on-hold"?(console.log("결과: on-hold (상태가 on-hold)"),"on-hold"):f(_)?(console.log("결과: delayed (지연 조건 충족)"),"delayed"):R===0?(console.log("결과: not-started (진행률 0%)"),"not-started"):(console.log("결과: active (기본값 - 진행중)"),"active")},v=_=>_<30?"from-red-500 to-orange-500":_<70?"from-yellow-500 to-amber-500":"from-green-500 to-emerald-500",g=_=>{switch(_){case"completed":return Ks;case"active":return wr;case"delayed":return rr;case"not-started":return yr;default:return yr}},b=_=>{switch(_){case"completed":return"default";case"active":return"default";case"delayed":return"destructive";case"on-hold":return"secondary";case"not-started":return"outline";default:return"outline"}},y=_=>{var R,O,ne,P;switch(_){case"completed":return((R=c.projects)==null?void 0:R.statusCompleted)||"완료";case"active":return((O=c.projects)==null?void 0:O.statusActive)||"진행중";case"delayed":return((ne=c.projects)==null?void 0:ne.statusDelayed)||"지연";case"on-hold":return((P=c.projects)==null?void 0:P.statusOnHold)||"보류";case"not-started":return"시작전";default:return _}},x=_=>({competitor_analysis:"경쟁사 분석",raw_material_check:"원자재 확인",equipment_check:"설비 확인",eservice_creation:"E-Service 제작",process_configuration:"공정구성",cost_analysis:"원가 분석",mass_production_verification:"양산검증","1-1":"1-1. 경쟁사 샘플 입수","1-2":"1-2. 경쟁사 샘플 분석","2-1":"2-1. 원자재 소싱 견적","3-1":"3-1. 설비 소싱 견적","3-2":"3-2. 설비 제작 완료","4-1":"4-1. E-Service 내용 구성","4-2":"4-2. E-Service 영상 제작","5-1":"5-1. LINE 그리기","6-1":"6-1. 원가 산출","7-1":"7-1. PP","7-2":"7-2. 품질 문제점 확인","8-1":"8-1. 최종 개선","9-1":"9-1. Order getting"})[_]||_,w=_=>{u(`/projects/${_.id}`)};e.length,e.filter(_=>p(_)==="not-started").length,e.filter(_=>p(_)==="active").length,e.filter(_=>p(_)==="completed").length,e.filter(_=>p(_)==="delayed").length,e.filter(_=>p(_)==="on-hold").length;const j={all:e.length,"1-1":e.filter(_=>_.type==="1-1").length,"1-2":e.filter(_=>_.type==="1-2").length,"2-1":e.filter(_=>_.type==="2-1").length,"3-1":e.filter(_=>_.type==="3-1").length,"3-2":e.filter(_=>_.type==="3-2").length,"4-1":e.filter(_=>_.type==="4-1").length,"4-2":e.filter(_=>_.type==="4-2").length,"5-1":e.filter(_=>_.type==="5-1").length,"6-1":e.filter(_=>_.type==="6-1").length,"7-1":e.filter(_=>_.type==="7-1").length,"7-2":e.filter(_=>_.type==="7-2").length,"8-1":e.filter(_=>_.type==="8-1").length,"9-1":e.filter(_=>_.type==="9-1").length},k=e.filter(_=>i==="all"?!0:((_.phase||"").toLowerCase(),(_.status||"").toLowerCase(),(_.type||"").toLowerCase(),(_.projectType||"").toLowerCase(),(_.promotionStatus||"").toLowerCase(),i==="Promotion"?_.promotionStage==="Promotion":i==="Sample"?_.promotionStage==="Sample":i==="1차"?_.promotionStage==="1차검증":i==="설계"?_.promotionStage==="설계검증":i==="Set"?_.promotionStage==="Set검증":i==="승인"?_.promotionStage==="승인":i==="수주"?_.promotionStage==="수주":i==="Drop"?_.promotionStage==="Drop":Object.keys(j).includes(i)?_.type===i:p(_)===i));return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-800",children:[s.jsxs("div",{className:"w-full p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-blue-500 to-purple-500",children:s.jsx(Ys,{className:"h-6 w-6 text-white"})}),((A=c.projects)==null?void 0:A.title)||"프로젝트 관리"]}),s.jsx("p",{className:"text-muted-foreground mt-2",children:((C=c.projects)==null?void 0:C.subtitle)||"전체 프로젝트 목록 및 현황"})]}),s.jsxs(X,{size:"lg",className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white shadow-lg",onClick:()=>n(!0),children:[s.jsx(_n,{className:"h-5 w-5 mr-2"}),((T=c.projects)==null?void 0:T.new)||"새 프로젝트"]})]}),s.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-5 lg:grid-cols-9 gap-3 mb-6",children:[s.jsx(Pe,{className:se("border-0 shadow-md cursor-pointer transition-all duration-200 hover:shadow-lg hover:scale-105",i==="all"&&"ring-2 ring-primary shadow-lg scale-105"),onClick:()=>l("all"),children:s.jsx(Ee,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"p-2 rounded-lg mb-2 bg-slate-100 dark:bg-slate-800",children:s.jsx(Ys,{className:"h-5 w-5 text-slate-600"})}),s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"전체"}),s.jsx("p",{className:"text-2xl font-bold",children:e.length})]})})}),[{key:"Promotion",label:"Promotion",color:"red",icon:Wa},{key:"Sample",label:"Sample 및 검적",color:"orange",icon:pn},{key:"1차",label:"1차 특성 검증",color:"yellow",icon:Ks},{key:"설계",label:"설계 검증",color:"green",icon:F0},{key:"Set",label:"Set 검증",color:"cyan",icon:Et},{key:"승인",label:"승인",color:"blue",icon:Ks},{key:"수주",label:"수주",color:"purple",icon:EO},{key:"Drop",label:"Drop",color:"gray",icon:rr}].map(_=>{const R=e.filter(P=>((P.phase||"").toString().toLowerCase(),(P.status||"").toString().toLowerCase(),(P.type||"").toString().toLowerCase(),(P.projectType||"").toString().toLowerCase(),(P.promotionStatus||"").toString().toLowerCase(),_.key==="Promotion"&&console.log(`프로젝트 "${P.name}" 검사:`,{phase:P.phase,status:P.status,type:P.type,projectType:P.projectType,promotionStatus:P.promotionStatus,promotionStage:P.promotionStage,매칭여부:P.promotionStage==="Promotion"}),_.key==="Promotion"?P.promotionStage==="Promotion":_.key==="Sample"?P.promotionStage==="Sample":_.key==="1차"?P.promotionStage==="1차검증":_.key==="설계"?P.promotionStage==="설계검증":_.key==="Set"?P.promotionStage==="Set검증":_.key==="승인"?P.promotionStage==="승인":_.key==="수주"?P.promotionStage==="수주":_.key==="Drop"?P.promotionStage==="Drop":!1)),O=R.length,ne=O>0?Math.round(R.reduce((P,H)=>P+t(H.id),0)/O):0;return _.key==="Promotion"&&(console.log("=== Promotion 단계 최종 결과 ==="),console.log("매칭된 프로젝트 수:",O),console.log("매칭된 프로젝트들:",R.map(P=>({name:P.name,progress:t(P.id)}))),console.log("평균 진행률:",ne+"%"),console.log("================================")),s.jsx(Pe,{className:se("border-0 shadow-md cursor-pointer transition-all duration-200 hover:shadow-lg hover:scale-105",i===_.key&&"ring-2 ring-primary shadow-lg scale-105"),onClick:()=>l(_.key),children:s.jsx(Ee,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:se("p-2 rounded-lg mb-2",_.color==="red"&&"bg-red-100 dark:bg-red-900/20",_.color==="orange"&&"bg-orange-100 dark:bg-orange-900/20",_.color==="yellow"&&"bg-yellow-100 dark:bg-yellow-900/20",_.color==="green"&&"bg-green-100 dark:bg-green-900/20",_.color==="cyan"&&"bg-cyan-100 dark:bg-cyan-900/20",_.color==="blue"&&"bg-blue-100 dark:bg-blue-900/20",_.color==="purple"&&"bg-purple-100 dark:bg-purple-900/20",_.color==="gray"&&"bg-gray-100 dark:bg-gray-900/20"),children:s.jsx(_.icon,{className:se("h-5 w-5",_.color==="red"&&"text-red-600",_.color==="orange"&&"text-orange-600",_.color==="yellow"&&"text-yellow-600",_.color==="green"&&"text-green-600",_.color==="cyan"&&"text-cyan-600",_.color==="blue"&&"text-blue-600",_.color==="purple"&&"text-purple-600",_.color==="gray"&&"text-gray-600")})}),s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:_.label}),s.jsx("p",{className:"text-2xl font-bold",children:O}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:s.jsx("div",{className:se("h-2 rounded-full transition-all duration-300",_.color==="red"&&"bg-red-500",_.color==="orange"&&"bg-orange-500",_.color==="yellow"&&"bg-yellow-500",_.color==="green"&&"bg-green-500",_.color==="cyan"&&"bg-cyan-500",_.color==="blue"&&"bg-blue-500",_.color==="purple"&&"bg-purple-500",_.color==="gray"&&"bg-gray-500"),style:{width:`${ne}%`}})}),s.jsxs("div",{className:"flex items-center justify-between w-full mt-1",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"평균 진행률"}),s.jsxs("span",{className:"text-xs font-medium text-gray-900",children:[ne,"%"]})]}),s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"전체 비율"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[e.length>0?Math.round(O/e.length*100):0,"%"]})]})]})})},_.key)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(z0,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[k.length,"개의 프로젝트"]})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-slate-800 rounded-lg shadow-md p-1",children:[s.jsx(X,{variant:"ghost",size:"sm",className:se("h-8 px-3",a==="grid"&&"bg-primary text-primary-foreground"),onClick:()=>o("grid"),children:s.jsx(fO,{className:"h-4 w-4"})}),s.jsx(X,{variant:"ghost",size:"sm",className:se("h-8 px-3",a==="list"&&"bg-primary text-primary-foreground"),onClick:()=>o("list"),children:s.jsx(jO,{className:"h-4 w-4"})})]})]})]}),a==="grid"?s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:k.map(_=>s.jsx(x9,{project:_,onClick:()=>w(_)},_.id))}):s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"프로젝트"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"고객사"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"상태"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"진행률"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"마감일"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"담당자"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:k.map(_=>{const R=m(_),O=g(p(_));return s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors",onClick:()=>w(_),children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:_.name}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:_.projectType&&x(_.projectType)})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(pn,{className:"h-4 w-4 text-gray-400 mr-2"}),s.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:_.clientName||"미지정"})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs(Le,{variant:b(p(_)),className:"flex items-center gap-1 w-fit",children:[s.jsx(O,{className:"h-3 w-3"}),y(p(_))]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-3",children:s.jsx("div",{className:se("h-2 rounded-full bg-gradient-to-r",v(R)),style:{width:`${R}%`}})}),s.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[R,"%"]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(sr,{className:"h-4 w-4 text-gray-400 mr-2"}),d(_.dueDate)]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(us,{className:"h-4 w-4 text-gray-400 mr-2"}),_.manager||"미지정"]})})]},_.id)})})]})})}),k.length===0&&s.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[s.jsx("div",{className:"p-4 rounded-full bg-slate-100 dark:bg-slate-800 mb-4",children:s.jsx(Ys,{className:"h-12 w-12 text-muted-foreground"})}),s.jsx("div",{className:"text-xl font-medium mb-2",children:((B=c.projects)==null?void 0:B.noProjects)||"프로젝트가 없습니다."}),s.jsx("p",{className:"text-muted-foreground mb-6",children:(($=c.projects)==null?void 0:$.createFirst)||"새 프로젝트를 만들어보세요."}),s.jsxs(X,{size:"lg",className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white",onClick:()=>n(!0),children:[s.jsx(_n,{className:"h-5 w-5 mr-2"}),((W=c.projects)==null?void 0:W.new)||"새 프로젝트"]})]})]}),s.jsx(g9,{open:r,onOpenChange:n})]})};function y9(e,t=[]){let r=[];function n(o,i){const l=h.createContext(i),c=r.length;r=[...r,i];function u(m){const{scope:f,children:p,...v}=m,g=(f==null?void 0:f[e][c])||l,b=h.useMemo(()=>v,Object.values(v));return s.jsx(g.Provider,{value:b,children:p})}function d(m,f){const p=(f==null?void 0:f[e][c])||l,v=h.useContext(p);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const a=()=>{const o=r.map(i=>h.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,w9(a,...t)]}function w9(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const m=c(o)[`__scope${u}`];return{...l,...m}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var Up="rovingFocusGroup.onEntryFocus",b9={bubbles:!1,cancelable:!0},lf="RovingFocusGroup",[xx,h2,j9]=Lm(lf),[N9,cf]=y9(lf,[j9]),[_9,k9]=N9(lf),m2=h.forwardRef((e,t)=>s.jsx(xx.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(xx.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(S9,{...e,ref:t})})}));m2.displayName=lf;var S9=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...m}=e,f=h.useRef(null),p=ut(t,f),v=Um(o),[g=null,b]=Qs({prop:i,defaultProp:l,onChange:c}),[y,x]=h.useState(!1),w=jr(u),j=h2(r),k=h.useRef(!1),[A,C]=h.useState(0);return h.useEffect(()=>{const T=f.current;if(T)return T.addEventListener(Up,w),()=>T.removeEventListener(Up,w)},[w]),s.jsx(_9,{scope:r,orientation:n,dir:v,loop:a,currentTabStopId:g,onItemFocus:h.useCallback(T=>b(T),[b]),onItemShiftTab:h.useCallback(()=>x(!0),[]),onFocusableItemAdd:h.useCallback(()=>C(T=>T+1),[]),onFocusableItemRemove:h.useCallback(()=>C(T=>T-1),[]),children:s.jsx(Be.div,{tabIndex:y||A===0?-1:0,"data-orientation":n,...m,ref:p,style:{outline:"none",...e.style},onMouseDown:_e(e.onMouseDown,()=>{k.current=!0}),onFocus:_e(e.onFocus,T=>{const B=!k.current;if(T.target===T.currentTarget&&B&&!y){const $=new CustomEvent(Up,b9);if(T.currentTarget.dispatchEvent($),!$.defaultPrevented){const W=j().filter(P=>P.focusable),_=W.find(P=>P.active),R=W.find(P=>P.id===g),ne=[_,R,...W].filter(Boolean).map(P=>P.ref.current);g2(ne,d)}}k.current=!1}),onBlur:_e(e.onBlur,()=>x(!1))})})}),f2="RovingFocusGroupItem",p2=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:o,...i}=e,l=js(),c=o||l,u=k9(f2,r),d=u.currentTabStopId===c,m=h2(r),{onFocusableItemAdd:f,onFocusableItemRemove:p}=u;return h.useEffect(()=>{if(n)return f(),()=>p()},[n,f,p]),s.jsx(xx.ItemSlot,{scope:r,id:c,focusable:n,active:a,children:s.jsx(Be.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:_e(e.onMouseDown,v=>{n?u.onItemFocus(c):v.preventDefault()}),onFocus:_e(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:_e(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const g=P9(v,u.orientation,u.dir);if(g!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let y=m().filter(x=>x.focusable).map(x=>x.ref.current);if(g==="last")y.reverse();else if(g==="prev"||g==="next"){g==="prev"&&y.reverse();const x=y.indexOf(v.currentTarget);y=u.loop?T9(y,x+1):y.slice(x+1)}setTimeout(()=>g2(y))}})})})});p2.displayName=f2;var C9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function D9(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function P9(e,t,r){const n=D9(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return C9[n]}function g2(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function T9(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var x2=m2,v2=p2,Nv="Tabs",[E9,GB]=Cs(Nv,[cf]),y2=cf(),[M9,_v]=E9(Nv),w2=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Um(l),[m,f]=Qs({prop:n,onChange:a,defaultProp:o});return s.jsx(M9,{scope:r,baseId:js(),value:m,onValueChange:f,orientation:i,dir:d,activationMode:c,children:s.jsx(Be.div,{dir:d,"data-orientation":i,...u,ref:t})})});w2.displayName=Nv;var b2="TabsList",j2=h.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,o=_v(b2,r),i=y2(r);return s.jsx(x2,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:s.jsx(Be.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});j2.displayName=b2;var N2="TabsTrigger",_2=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...o}=e,i=_v(N2,r),l=y2(r),c=C2(i.baseId,n),u=D2(i.baseId,n),d=n===i.value;return s.jsx(v2,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(Be.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...o,ref:t,onMouseDown:_e(e.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?i.onValueChange(n):m.preventDefault()}),onKeyDown:_e(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&i.onValueChange(n)}),onFocus:_e(e.onFocus,()=>{const m=i.activationMode!=="manual";!d&&!a&&m&&i.onValueChange(n)})})})});_2.displayName=N2;var k2="TabsContent",S2=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:o,...i}=e,l=_v(k2,r),c=C2(l.baseId,n),u=D2(l.baseId,n),d=n===l.value,m=h.useRef(d);return h.useEffect(()=>{const f=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(f)},[]),s.jsx(ts,{present:a||d,children:({present:f})=>s.jsx(Be.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:f&&o})})});S2.displayName=k2;function C2(e,t){return`${e}-trigger-${t}`}function D2(e,t){return`${e}-content-${t}`}var R9=w2,P2=j2,T2=_2,E2=S2;const ai=R9,xo=h.forwardRef(({className:e,...t},r)=>s.jsx(P2,{ref:r,className:se("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));xo.displayName=P2.displayName;const Jt=h.forwardRef(({className:e,...t},r)=>s.jsx(T2,{ref:r,className:se("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Jt.displayName=T2.displayName;const Qt=h.forwardRef(({className:e,...t},r)=>s.jsx(E2,{ref:r,className:se("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Qt.displayName=E2.displayName;const A9=()=>{const{projects:e,currentUser:t,users:r,managers:n,calculateProjectProgress:a,getProjectStatuses:o}=yt();Yt();const[i,l]=h.useState(""),[c,u]=h.useState("all"),[d,m]=h.useState("all"),[f,p]=h.useState("dueDate"),[v,g]=h.useState("asc"),[b,y]=h.useState(new Date),[x,w]=h.useState(null),j=e.filter(M=>{var F;return M.managerId===(t==null?void 0:t.id)||M.manager===(t==null?void 0:t.name)||((F=M.team)==null?void 0:F.includes((t==null?void 0:t.id)||""))});[...j.filter(M=>{var de;const F=!i||M.name.toLowerCase().includes(i.toLowerCase())||((de=M.description)==null?void 0:de.toLowerCase().includes(i.toLowerCase())),G=c==="all"||M.status===c,q=d==="all"||M.managerId===d;return F&&G&&q})].sort((M,F)=>{let G=0;switch(f){case"name":G=M.name.localeCompare(F.name);break;case"dueDate":const q=M.dueDate?new Date(M.dueDate).getTime():0,de=F.dueDate?new Date(F.dueDate).getTime():0;G=q-de;break;case"progress":const z=a?a(M.id):M.progress||0,ee=a?a(F.id):F.progress||0;G=z-ee;break;case"status":G=(M.status||"").localeCompare(F.status||"");break}return v==="asc"?G:-G});const A=j.filter(M=>M.dueDate&&P0(new Date(M.dueDate),new Date)&&M.status!=="완료"),C=j.filter(M=>M.status==="진행중"||M.status==="계획중"),T=j.filter(M=>M.status==="완료"),B=j.filter(M=>M.dueDate&&ku(new Date(M.dueDate),new Date)<=7&&ku(new Date(M.dueDate),new Date)>=0&&M.status!=="완료"),$=j.filter(M=>M.dueDate),W=M=>{f===M?g(v==="asc"?"desc":"asc"):(p(M),g("asc"))},_=M=>{switch(M){case"완료":return"bg-gradient-to-r from-green-100 to-emerald-100 text-green-800 border-green-300 shadow-sm";case"진행중":return"bg-gradient-to-r from-blue-100 to-cyan-100 text-blue-800 border-blue-300 shadow-sm";case"계획중":return"bg-gradient-to-r from-purple-100 to-violet-100 text-purple-800 border-purple-300 shadow-sm";case"보류":return"bg-gradient-to-r from-yellow-100 to-orange-100 text-yellow-800 border-yellow-300 shadow-sm";case"지연":return"bg-gradient-to-r from-red-100 to-pink-100 text-red-800 border-red-300 shadow-sm";default:return"bg-gradient-to-r from-gray-100 to-slate-100 text-gray-800 border-gray-300 shadow-sm"}},R=M=>M>=90?"text-emerald-600":M>=75?"text-green-600":M>=50?"text-blue-600":M>=25?"text-yellow-600":"text-red-600",O=M=>M>=90?"from-emerald-400 to-green-500":M>=75?"from-green-400 to-emerald-500":M>=50?"from-blue-400 to-cyan-500":M>=25?"from-yellow-400 to-orange-500":"from-red-400 to-pink-500",ne=M=>{const F=a?a(M.id):M.progress||0;return M.status==="완료"?s.jsx(Qc,{className:"h-4 w-4 text-green-600"}):A.some(G=>G.id===M.id)?s.jsx(rr,{className:"h-4 w-4 text-red-600"}):B.some(G=>G.id===M.id)?s.jsx(Ow,{className:"h-4 w-4 text-orange-600"}):F>=75?s.jsx(Dc,{className:"h-4 w-4 text-yellow-600"}):F>=50?s.jsx(Wa,{className:"h-4 w-4 text-blue-600"}):s.jsx(PO,{className:"h-4 w-4 text-purple-600"})},P=M=>{const F=ku(new Date(M),new Date);return F<0?`${Math.abs(F)}일 지연`:F===0?"오늘 마감":F===1?"내일 마감":F<=7?`${F}일 후 마감`:`${F}일 남음`},H=M=>{const F=a?a(M.id):M.progress||0,G=x===M.id,q=M.dueDate?ku(new Date(M.dueDate),new Date):null;return s.jsxs(Pe,{className:se("group relative overflow-hidden transition-all duration-500 ease-out cursor-pointer","hover:shadow-2xl hover:shadow-blue-500/25 hover:-translate-y-2","bg-gradient-to-br from-white to-gray-50/50 border-0 shadow-lg","before:absolute before:inset-0 before:bg-gradient-to-r before:from-blue-600/0 before:to-purple-600/0","hover:before:from-blue-600/5 hover:before:to-purple-600/5 before:transition-all before:duration-500",G&&"scale-105 shadow-2xl shadow-purple-500/30"),onMouseEnter:()=>w(M.id),onMouseLeave:()=>w(null),children:[s.jsx("div",{className:se("h-1 w-full bg-gradient-to-r transition-all duration-300",M.status==="완료"?"from-green-400 to-emerald-500":M.status==="진행중"?"from-blue-400 to-cyan-500":M.status==="계획중"?"from-purple-400 to-violet-500":M.status==="보류"?"from-yellow-400 to-orange-500":"from-gray-400 to-slate-500")}),s.jsx(ft,{className:"pb-3 relative",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[ne(M),s.jsx(pt,{className:se("text-lg font-bold line-clamp-1 transition-all duration-300","bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",G&&"from-blue-600 to-purple-600"),children:M.name})]}),s.jsx(Ct,{className:"line-clamp-2 text-gray-600 leading-relaxed",children:M.description||"프로젝트 설명이 없습니다."})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2 ml-3",children:[s.jsx(Le,{variant:"outline",className:se("font-medium shadow-sm transition-all duration-300",_(M.status||""),G&&"scale-110 shadow-md"),children:M.status||"미정"}),q!==null&&s.jsx("span",{className:se("text-xs font-medium px-2 py-1 rounded-full",q<0?"bg-red-100 text-red-700":q<=3?"bg-orange-100 text-orange-700":q<=7?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"),children:P(M.dueDate)})]})]})}),s.jsxs(Ee,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Va,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-gray-600 font-medium",children:"진행률"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:se("font-bold text-lg",R(F)),children:[F,"%"]}),s.jsx("div",{className:"flex items-center",children:Array.from({length:5}).map((de,z)=>s.jsx(Dc,{className:se("h-3 w-3 transition-all duration-300",z<Math.floor(F/20)?"text-yellow-400 fill-current":"text-gray-300")},z))})]})]}),s.jsx("div",{className:"relative w-full bg-gray-200 rounded-full h-3 overflow-hidden shadow-inner",children:s.jsxs("div",{className:se("h-full rounded-full transition-all duration-700 ease-out relative overflow-hidden","bg-gradient-to-r shadow-sm",O(F)),style:{width:`${F}%`},children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent"}),s.jsx("div",{className:se("absolute inset-0 opacity-0 transition-opacity duration-300","bg-gradient-to-r from-transparent via-white/40 to-transparent","animate-pulse",G&&"opacity-100")})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[M.dueDate&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 uppercase tracking-wide font-medium",children:[s.jsx(sr,{className:"h-3 w-3"}),"마감일"]}),s.jsx("div",{className:"text-sm font-semibold text-gray-900",children:Ke(new Date(M.dueDate),"MM월 dd일",{locale:Yr})})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 uppercase tracking-wide font-medium",children:[s.jsx(nr,{className:"h-3 w-3"}),"담당자"]}),s.jsx("div",{className:"text-sm font-semibold text-gray-900 truncate",children:M.manager||"미지정"})]})]}),s.jsxs("div",{className:se("flex items-center justify-between pt-2 border-t border-gray-100","transition-all duration-300",G&&"border-blue-200"),children:[s.jsx("div",{className:"flex items-center gap-3",children:M.status==="진행중"?s.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[s.jsx(dO,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs font-medium",children:"진행중"})]}):M.status==="보류"?s.jsxs("div",{className:"flex items-center gap-1 text-yellow-600",children:[s.jsx(cO,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs font-medium",children:"보류"})]}):M.status==="완료"?s.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[s.jsx(Sr,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs font-medium",children:"완료"})]}):s.jsxs("div",{className:"flex items-center gap-1 text-purple-600",children:[s.jsx(Wa,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs font-medium",children:"계획중"})]})}),s.jsxs(X,{variant:"ghost",size:"sm",className:se("h-8 px-3 text-gray-600 hover:text-blue-600 hover:bg-blue-50","transition-all duration-300 group-hover:scale-105"),children:[s.jsx(uo,{className:"h-3 w-3 mr-1"}),s.jsx("span",{className:"text-xs font-medium",children:"상세보기"}),s.jsx(pl,{className:"h-3 w-3 ml-1"})]})]})]}),s.jsx("div",{className:se("absolute inset-0 bg-gradient-to-br from-blue-500/0 to-purple-500/0","transition-all duration-500 pointer-events-none",G&&"from-blue-500/5 to-purple-500/5")}),s.jsx("div",{className:se("absolute -inset-0.5 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg blur opacity-0","transition-all duration-500 -z-10",G&&"opacity-20")})]},M.id)},L=(M,F,G,q,de)=>s.jsx(Pe,{className:se("relative overflow-hidden border-0 shadow-lg transition-all duration-500","hover:shadow-xl hover:-translate-y-1 cursor-pointer group",de),children:s.jsxs(Ee,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-white/80 text-sm font-medium",children:F}),s.jsx("p",{className:"text-white text-3xl font-bold",children:G})]}),s.jsx("div",{className:se("p-3 rounded-full bg-white/20 backdrop-blur-sm","transition-all duration-300 group-hover:scale-110 group-hover:bg-white/30"),children:M})]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -skew-x-12 transform -translate-x-full group-hover:translate-x-full transition-transform duration-1000"})]})});return s.jsxs("div",{className:"p-6 w-full bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/30 min-h-screen",children:[s.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gradient-to-br from-blue-400/20 to-purple-400/20 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gradient-to-tr from-cyan-400/20 to-blue-400/20 rounded-full blur-3xl"})]}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-r from-blue-500 to-purple-600 shadow-lg",children:s.jsx(Ys,{className:"h-8 w-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-gray-900 via-blue-800 to-purple-800 bg-clip-text text-transparent",children:"내 프로젝트"}),s.jsx("p",{className:"text-gray-600 text-lg",children:"내가 담당하는 프로젝트들의 현황과 진행 상태를 한눈에 확인하세요"})]})]})}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs(Le,{variant:"outline",className:"bg-gradient-to-r from-blue-50 to-purple-50 text-blue-700 border-blue-200 px-4 py-2 text-base shadow-sm",children:[s.jsx(Al,{className:"h-4 w-4 mr-2"}),"총 ",j.length,"개 프로젝트"]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[L(s.jsx(yr,{className:"h-6 w-6 text-white"}),"진행중",C.length,"blue","bg-gradient-to-r from-blue-500 to-blue-600"),L(s.jsx(Ui,{className:"h-6 w-6 text-white"}),"기간 경과",A.length,"red","bg-gradient-to-r from-red-500 to-pink-600"),L(s.jsx(Sr,{className:"h-6 w-6 text-white"}),"완료",T.length,"green","bg-gradient-to-r from-green-500 to-emerald-600"),L(s.jsx(Ow,{className:"h-6 w-6 text-white"}),"긴급",B.length,"orange","bg-gradient-to-r from-orange-500 to-red-600")]})]}),s.jsx(Pe,{className:"mb-8 border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:s.jsx(Ee,{className:"p-6",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"relative flex-1 min-w-64",children:[s.jsx(Ga,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx(fe,{placeholder:"프로젝트 검색...",value:i,onChange:M=>l(M.target.value),className:"pl-12 h-12 bg-white/50 border-gray-200 focus:border-blue-400 focus:ring-blue-400/20"})]}),s.jsxs(Oe,{value:c,onValueChange:u,children:[s.jsx(Re,{className:"w-48 h-12 bg-white/50 border-gray-200",children:s.jsx(Ie,{placeholder:"상태 필터"})}),s.jsxs(Ae,{children:[s.jsx(ce,{value:"all",children:"모든 상태"}),s.jsx(ce,{value:"계획중",children:"계획중"}),s.jsx(ce,{value:"진행중",children:"진행중"}),s.jsx(ce,{value:"완료",children:"완료"}),s.jsx(ce,{value:"보류",children:"보류"})]})]}),s.jsxs(Oe,{value:d,onValueChange:m,children:[s.jsx(Re,{className:"w-48 h-12 bg-white/50 border-gray-200",children:s.jsx(Ie,{placeholder:"담당자 필터"})}),s.jsxs(Ae,{children:[s.jsx(ce,{value:"all",children:"모든 담당자"}),[...r,...n].filter(M=>M.id&&M.name).map(M=>s.jsx(ce,{value:M.id,children:M.name},M.id))]})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-white/50 border border-gray-200 rounded-lg p-2",children:[s.jsx(z0,{className:"h-4 w-4 text-gray-500"}),s.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>W("name"),className:"h-auto p-2 hover:bg-blue-50",children:["이름 ",f==="name"&&s.jsx(yp,{className:"h-3 w-3 ml-1"})]}),s.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>W("dueDate"),className:"h-auto p-2 hover:bg-blue-50",children:["마감일 ",f==="dueDate"&&s.jsx(yp,{className:"h-3 w-3 ml-1"})]}),s.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>W("progress"),className:"h-auto p-2 hover:bg-blue-50",children:["진행률 ",f==="progress"&&s.jsx(yp,{className:"h-3 w-3 ml-1"})]})]})]})})}),s.jsxs(ai,{defaultValue:"overdue",className:"w-full",children:[s.jsxs(xo,{className:"grid w-full grid-cols-4 bg-white/80 backdrop-blur-sm border-0 shadow-lg rounded-xl p-2 h-auto",children:[s.jsxs(Jt,{value:"overdue",className:"flex items-center gap-2 py-3 px-4 rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-red-500 data-[state=active]:to-pink-600 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-300",children:[s.jsx(Ui,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"기간 경과"}),s.jsx(Le,{variant:"secondary",className:"bg-white/20 text-current border-0",children:A.length})]}),s.jsxs(Jt,{value:"progress",className:"flex items-center gap-2 py-3 px-4 rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-cyan-600 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-300",children:[s.jsx(yr,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"진행중"}),s.jsx(Le,{variant:"secondary",className:"bg-white/20 text-current border-0",children:C.length})]}),s.jsxs(Jt,{value:"completed",className:"flex items-center gap-2 py-3 px-4 rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-green-500 data-[state=active]:to-emerald-600 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-300",children:[s.jsx(Sr,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"완료"}),s.jsx(Le,{variant:"secondary",className:"bg-white/20 text-current border-0",children:T.length})]}),s.jsxs(Jt,{value:"timeline",className:"flex items-center gap-2 py-3 px-4 rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-violet-600 data-[state=active]:text-white data-[state=active]:shadow-lg transition-all duration-300",children:[s.jsx(oO,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"타임라인"})]})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx(Qt,{value:"overdue",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.length>0?A.map(H):s.jsx(Pe,{className:"col-span-full text-center py-12 border-0 shadow-lg bg-gradient-to-br from-green-50 to-emerald-50",children:s.jsxs(Ee,{children:[s.jsx(Sr,{className:"h-16 w-16 mx-auto mb-4 text-green-500"}),s.jsx("h3",{className:"text-xl font-semibold text-green-800 mb-2",children:"훌륭합니다! 🎉"}),s.jsx("p",{className:"text-green-600",children:"기간이 경과된 프로젝트가 없습니다."})]})})})}),s.jsx(Qt,{value:"progress",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.length>0?C.map(H):s.jsx(Pe,{className:"col-span-full text-center py-12 border-0 shadow-lg bg-gradient-to-br from-blue-50 to-cyan-50",children:s.jsxs(Ee,{children:[s.jsx(Wa,{className:"h-16 w-16 mx-auto mb-4 text-blue-500"}),s.jsx("h3",{className:"text-xl font-semibold text-blue-800 mb-2",children:"새로운 시작을 준비하세요"}),s.jsx("p",{className:"text-blue-600",children:"현재 진행중인 프로젝트가 없습니다."})]})})})}),s.jsx(Qt,{value:"completed",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.length>0?T.map(H):s.jsx(Pe,{className:"col-span-full text-center py-12 border-0 shadow-lg bg-gradient-to-br from-purple-50 to-violet-50",children:s.jsxs(Ee,{children:[s.jsx(Qc,{className:"h-16 w-16 mx-auto mb-4 text-purple-500"}),s.jsx("h3",{className:"text-xl font-semibold text-purple-800 mb-2",children:"첫 번째 완료를 향해!"}),s.jsx("p",{className:"text-purple-600",children:"완료된 프로젝트가 없습니다."})]})})})}),s.jsx(Qt,{value:"timeline",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(Pe,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:[s.jsxs(ft,{className:"bg-gradient-to-r from-purple-500 to-violet-600 text-white rounded-t-lg",children:[s.jsxs(pt,{className:"text-xl flex items-center gap-2",children:[s.jsx(sr,{className:"h-5 w-5"}),"프로젝트 달력"]}),s.jsx(Ct,{className:"text-purple-100",children:"마감일 기준"})]}),s.jsx(Ee,{className:"p-6",children:s.jsx(vl,{mode:"single",selected:b,onSelect:y,modifiers:{hasDueDate:$.map(M=>new Date(M.dueDate))},modifiersStyles:{hasDueDate:{backgroundColor:"#8b5cf6",color:"white",fontWeight:"bold",borderRadius:"6px"}},className:"rounded-md border-0"})})]})}),s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(Pe,{className:"border-0 shadow-lg bg-white/80 backdrop-blur-sm",children:[s.jsxs(ft,{className:"bg-gradient-to-r from-blue-500 to-cyan-600 text-white rounded-t-lg",children:[s.jsx(pt,{className:"text-xl",children:b?Ke(b,"yyyy년 MM월 dd일",{locale:Yr}):"날짜를 선택하세요"}),s.jsx(Ct,{className:"text-blue-100",children:"해당 날짜의 마감 프로젝트"})]}),s.jsx(Ee,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[b&&$.filter(M=>{const F=new Date(M.dueDate);return Ke(F,"yyyy-MM-dd")===Ke(b,"yyyy-MM-dd")}).map(M=>{const F=a?a(M.id):M.progress||0;return s.jsxs("div",{className:"group flex items-center justify-between p-4 border border-gray-200 rounded-xl hover:shadow-md hover:border-blue-300 transition-all duration-300 bg-gradient-to-r from-white to-gray-50/50",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[ne(M),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors",children:M.name}),s.jsx("p",{className:"text-sm text-gray-600 line-clamp-1",children:M.description||"설명이 없습니다."})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Le,{variant:"outline",className:_(M.status||""),children:M.status||"미정"}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:se("text-lg font-bold",R(F)),children:[F,"%"]}),s.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-1.5 mt-1",children:s.jsx("div",{className:se("h-full rounded-full bg-gradient-to-r",O(F)),style:{width:`${F}%`}})})]})]})]},M.id)}),b&&$.filter(M=>{const F=new Date(M.dueDate);return Ke(F,"yyyy-MM-dd")===Ke(b,"yyyy-MM-dd")}).length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(sr,{className:"h-16 w-16 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"일정이 없는 날"}),s.jsx("p",{className:"text-gray-500",children:"해당 날짜에 마감되는 프로젝트가 없습니다."})]})]})})]})})]})})]})]})]}),s.jsx("style",{children:`
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(30px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        @keyframes shimmer {
          0% {
            transform: translateX(-100%);
          }
          100% {
            transform: translateX(100%);
          }
        }
        
        .animate-fadeInUp {
          animation: fadeInUp 0.6s ease-out;
        }
        
        .animate-shimmer {
          animation: shimmer 2s infinite;
        }
      `})]})},O9=({open:e,onOpenChange:t,pdfUrl:r,fileName:n})=>{const a=()=>{const i=document.createElement("a");i.href=r,i.download=n,document.body.appendChild(i),i.click(),document.body.removeChild(i)},o=()=>{window.open(r,"_blank")};return s.jsx(kt,{open:e,onOpenChange:t,children:s.jsxs(bt,{className:"max-w-6xl max-h-[95vh] p-0 gap-0",children:[s.jsx(jt,{className:"px-6 py-4 border-b bg-gradient-to-r from-slate-50 to-blue-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Nt,{className:"text-lg font-semibold text-gray-900",children:n}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(X,{variant:"ghost",size:"sm",onClick:a,className:"text-gray-600 hover:text-gray-900",children:[s.jsx(gl,{className:"h-4 w-4 mr-2"}),"다운로드"]}),s.jsxs(X,{variant:"ghost",size:"sm",onClick:o,className:"text-gray-600 hover:text-gray-900",children:[s.jsx(zm,{className:"h-4 w-4 mr-2"}),"새 탭에서 열기"]}),s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>t(!1),className:"text-gray-600 hover:text-gray-900",children:s.jsx(It,{className:"h-4 w-4"})})]})]})}),s.jsx("div",{className:"flex-1 h-[calc(95vh-100px)]",children:s.jsx("iframe",{src:`${r}#toolbar=1`,className:"w-full h-full border-0",title:n})})]})})},I9=({project:e,isOpen:t,onClose:r,onUpdate:n})=>{const{updateProject:a,departments:o}=yt(),{toast:i}=Pr(),[l,c]=h.useState({name:e.name||"",startDate:e.startDate||"",dueDate:e.dueDate||"",managerId:e.managerId||"",manager:e.manager||"",department:e.department||""}),[u,d]=h.useState(e.image||""),[m,f]=h.useState(null),[p,v]=h.useState([]),[g,b]=h.useState([]),[y,x]=h.useState(!1),[w,j]=h.useState(!1);h.useEffect(()=>{t&&e&&(c({name:e.name||"",startDate:e.startDate||"",dueDate:e.dueDate||"",managerId:e.managerId||"",manager:e.manager||"",department:e.department||""}),d(e.image||""),k())},[t,e]);const k=async()=>{try{const{data:R,error:O}=await re.from("project_attachments").select(`
          id,
          file_id,
          description,
          created_at,
          files:file_id (
            id,
            original_filename,
            filename,
            content_type,
            file_size,
            file_path
          )
        `).eq("project_id",e.id);if(O)throw O;const ne=(R||[]).map(P=>{var M,F;const H=P.files;if(!H)return null;let L=H.file_path;if(H.file_path&&!H.file_path.startsWith("http")){const{data:{publicUrl:G}}=re.storage.from("project-files").getPublicUrl(H.file_path);L=G}return{id:H.id,name:H.original_filename||H.filename,type:(M=H.content_type)!=null&&M.includes("pdf")?"pdf":(F=H.content_type)!=null&&F.includes("image")?"image":"document",url:L||"",size:H.file_size||0}}).filter(Boolean);v(ne)}catch(R){console.error("파일 로드 오류:",R)}},A=R=>{var ne;const O=(ne=R.target.files)==null?void 0:ne[0];if(O)if(O.type.startsWith("image/")){f(O);const P=new FileReader;P.onload=H=>{var L;d((L=H.target)==null?void 0:L.result)},P.readAsDataURL(O)}else i({title:"오류",description:"이미지 파일만 선택할 수 있습니다.",variant:"destructive"})},C=R=>{const O=Array.from(R.target.files||[]);b(ne=>[...ne,...O])},T=R=>{b(O=>O.filter((ne,P)=>P!==R))},B=async R=>{try{const{error:O}=await re.from("project_attachments").delete().eq("project_id",e.id).eq("file_id",R);if(O)throw O;v(ne=>ne.filter(P=>P.id!==R)),i({title:"성공",description:"파일이 삭제되었습니다."})}catch(O){console.error("파일 삭제 오류:",O),i({title:"오류",description:"파일 삭제에 실패했습니다.",variant:"destructive"})}},$=async()=>{const R=[];if(m){const O=`${e.id}_image_${Date.now()}.${m.name.split(".").pop()}`,{data:ne,error:P}=await re.storage.from("project-files").upload(O,m);if(P)throw P;const{data:{publicUrl:H}}=re.storage.from("project-files").getPublicUrl(O);d(H)}for(const O of g){const ne=`${e.id}_${Date.now()}_${O.name}`,{data:P,error:H}=await re.storage.from("project-files").upload(ne,O);if(H)throw H;const{data:L,error:M}=await re.from("files").insert({original_filename:O.name,filename:ne,content_type:O.type,file_size:O.size,file_path:P.path}).select().single();if(M)throw M;const{error:F}=await re.from("project_attachments").insert({project_id:e.id,file_id:L.id,description:O.name});if(F)throw F;R.push(L.id)}return R},W=async R=>{R.preventDefault(),j(!0);try{(m||g.length>0)&&(x(!0),await $(),x(!1));const O={name:l.name,startDate:l.startDate,dueDate:l.dueDate,managerId:l.managerId,manager:l.manager,department:l.department,image:u,updatedAt:new Date().toISOString()};await a(e.id,O),i({title:"성공",description:"프로젝트가 성공적으로 수정되었습니다."}),n(),r()}catch(O){console.error("프로젝트 수정 오류:",O),i({title:"오류",description:"프로젝트 수정에 실패했습니다.",variant:"destructive"})}finally{j(!1),x(!1)}},_=R=>{if(R===0)return"0 Bytes";const O=1024,ne=["Bytes","KB","MB","GB"],P=Math.floor(Math.log(R)/Math.log(O));return parseFloat((R/Math.pow(O,P)).toFixed(2))+" "+ne[P]};return s.jsx(kt,{open:t,onOpenChange:r,children:s.jsxs(bt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(jt,{children:[s.jsxs(Nt,{className:"flex items-center gap-2",children:[s.jsx(ho,{className:"h-5 w-5"}),"프로젝트 수정"]}),s.jsx(yn,{children:"프로젝트 정보, 이미지, 첨부파일을 수정할 수 있습니다."})]}),s.jsxs("form",{onSubmit:W,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"name",children:"프로젝트 이름 *"}),s.jsx(fe,{id:"name",value:l.name,onChange:R=>c(O=>({...O,name:R.target.value})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"startDate",children:"시작일"}),s.jsx(fe,{id:"startDate",type:"date",value:l.startDate,onChange:R=>c(O=>({...O,startDate:R.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"dueDate",children:"마감일"}),s.jsx(fe,{id:"dueDate",type:"date",value:l.dueDate,onChange:R=>c(O=>({...O,dueDate:R.target.value}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"manager",children:"담당자"}),s.jsx(fe,{id:"manager",value:l.manager,onChange:R=>c(O=>({...O,manager:R.target.value})),placeholder:"담당자 이름"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"department",children:"부서"}),s.jsxs(Oe,{value:l.department,onValueChange:R=>c(O=>({...O,department:R})),children:[s.jsx(Re,{children:s.jsx(Ie,{placeholder:"부서 선택"})}),s.jsx(Ae,{children:o.map(R=>s.jsx(ce,{value:R.id,children:R.name},R.id))})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(ue,{children:"프로젝트 이미지"}),u&&s.jsxs("div",{className:"relative w-full max-w-md",children:[s.jsx("img",{src:u,alt:"프로젝트 이미지",className:"w-full h-48 object-cover rounded-lg border"}),s.jsx(X,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>{d(""),f(null)},children:s.jsx(It,{className:"h-4 w-4"})})]}),s.jsxs("div",{children:[s.jsx(fe,{type:"file",accept:"image/*",onChange:A,className:"hidden",id:"image-upload"}),s.jsxs(ue,{htmlFor:"image-upload",className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-md cursor-pointer hover:bg-gray-50",children:[s.jsx(Yo,{className:"h-4 w-4"}),"이미지 선택"]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(ue,{children:"첨부 파일"}),p.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"기존 파일"}),p.map(R=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[R.type==="pdf"?s.jsx(Et,{className:"h-5 w-5 text-red-500"}):R.type==="image"?s.jsx(Yo,{className:"h-5 w-5 text-blue-500"}):s.jsx(Et,{className:"h-5 w-5 text-gray-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:R.name}),s.jsx("p",{className:"text-xs text-gray-500",children:_(R.size)})]})]}),s.jsx(X,{type:"button",variant:"destructive",size:"sm",onClick:()=>B(R.id),children:s.jsx(It,{className:"h-4 w-4"})})]},R.id))]}),g.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"새 파일"}),g.map((R,O)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-blue-50",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Et,{className:"h-5 w-5 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:R.name}),s.jsx("p",{className:"text-xs text-gray-500",children:_(R.size)})]})]}),s.jsx(X,{type:"button",variant:"destructive",size:"sm",onClick:()=>T(O),children:s.jsx(It,{className:"h-4 w-4"})})]},O))]}),s.jsxs("div",{children:[s.jsx(fe,{type:"file",multiple:!0,onChange:C,className:"hidden",id:"file-upload"}),s.jsxs(ue,{htmlFor:"file-upload",className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-md cursor-pointer hover:bg-gray-50",children:[s.jsx(Ol,{className:"h-4 w-4"}),"파일 선택"]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx(X,{type:"button",variant:"outline",onClick:r,children:"취소"}),s.jsx(X,{type:"submit",disabled:w||y,className:"min-w-[100px]",children:w?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"h-4 w-4 mr-2 animate-spin"}),y?"업로드 중...":"저장 중..."]}):"저장"})]})]})]})})},na=h.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:se("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));na.displayName="Textarea";const L9=({task:e,isOpen:t,onClose:r,onUpdate:n})=>{const{toast:a}=Pr(),[o,i]=h.useState([]),[l,c]=h.useState(!1),[u,d]=h.useState(!1),[m,f]=h.useState([]),[p,v]=h.useState({title:"",url:"",description:""}),g=async()=>{if(e.id){c(!0);try{const{data:C,error:T}=await re.from("task_attachments").select(`
          *,
          files:file_id (
            id,
            original_filename,
            filename,
            content_type,
            file_size,
            file_path
          )
        `).eq("task_id",e.id).order("created_at",{ascending:!1});if(T)throw T;i(C||[])}catch(C){console.error("첨부 파일 로드 오류:",C),a({title:"오류",description:"첨부 파일을 불러오는데 실패했습니다.",variant:"destructive"})}finally{c(!1)}}};h.useEffect(()=>{t&&e.id&&g()},[t,e.id]);const b=C=>{const T=Array.from(C.target.files||[]);f(B=>[...B,...T])},y=C=>{f(T=>T.filter((B,$)=>$!==C))},x=async()=>{if(m.length!==0){d(!0);try{for(const C of m){const T=`task_${e.id}_${Date.now()}_${C.name}`,{data:B,error:$}=await re.storage.from("task-files").upload(T,C);if($)throw $;const{data:W,error:_}=await re.from("files").insert({original_filename:C.name,filename:T,content_type:C.type,file_size:C.size,file_path:B.path}).select().single();if(_)throw _;const{error:R}=await re.from("task_attachments").insert({task_id:e.id,file_id:W.id,attachment_type:"file"});if(R)throw R}a({title:"성공",description:`${m.length}개의 파일이 업로드되었습니다.`}),f([]),await g(),n()}catch(C){console.error("파일 업로드 오류:",C),a({title:"오류",description:"파일 업로드에 실패했습니다.",variant:"destructive"})}finally{d(!1)}}},w=async()=>{if(!p.title.trim()||!p.url.trim()){a({title:"입력 오류",description:"링크 제목과 URL을 모두 입력해주세요.",variant:"destructive"});return}try{const{error:C}=await re.from("task_attachments").insert({task_id:e.id,link_url:p.url,link_title:p.title,link_description:p.description||null,attachment_type:"link"});if(C)throw C;a({title:"성공",description:"링크가 추가되었습니다."}),v({title:"",url:"",description:""}),await g(),n()}catch(C){console.error("링크 추가 오류:",C),a({title:"오류",description:"링크 추가에 실패했습니다.",variant:"destructive"})}},j=async C=>{try{const{error:T}=await re.from("task_attachments").delete().eq("id",C);if(T)throw T;a({title:"성공",description:"첨부 파일이 삭제되었습니다."}),await g(),n()}catch(T){console.error("첨부 파일 삭제 오류:",T),a({title:"오류",description:"첨부 파일 삭제에 실패했습니다.",variant:"destructive"})}},k=C=>{if(C===0)return"0 Bytes";const T=1024,B=["Bytes","KB","MB","GB"],$=Math.floor(Math.log(C)/Math.log(T));return parseFloat((C/Math.pow(T,$)).toFixed(2))+" "+B[$]},A=C=>{const{data:{publicUrl:T}}=re.storage.from("task-files").getPublicUrl(C);return T};return s.jsx(kt,{open:t,onOpenChange:r,children:s.jsxs(bt,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(jt,{children:[s.jsxs(Nt,{className:"flex items-center gap-2",children:[s.jsx(Et,{className:"h-5 w-5"}),"업무 자료 관리 - ",e.title]}),s.jsx(yn,{children:"업무에 관련된 파일과 링크를 관리할 수 있습니다."})]}),s.jsxs(ai,{defaultValue:"files",className:"w-full",children:[s.jsxs(xo,{className:"grid w-full grid-cols-2",children:[s.jsx(Jt,{value:"files",children:"파일 첨부"}),s.jsx(Jt,{value:"links",children:"링크 추가"})]}),s.jsxs(Qt,{value:"files",className:"space-y-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ol,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{type:"file",multiple:!0,onChange:b,className:"hidden",id:"file-upload"}),s.jsxs(ue,{htmlFor:"file-upload",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md cursor-pointer hover:bg-blue-700",children:[s.jsx(_n,{className:"h-4 w-4"}),"파일 선택"]}),s.jsx("p",{className:"text-sm text-gray-500",children:"또는 파일을 여기로 드래그하세요"})]})]})}),m.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"선택된 파일"}),m.map((C,T)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg bg-blue-50",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Et,{className:"h-5 w-5 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:C.name}),s.jsx("p",{className:"text-xs text-gray-500",children:k(C.size)})]})]}),s.jsx(X,{type:"button",variant:"destructive",size:"sm",onClick:()=>y(T),children:s.jsx(It,{className:"h-4 w-4"})})]},T)),s.jsx(X,{onClick:x,disabled:u,className:"w-full",children:u?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"h-4 w-4 mr-2 animate-spin"}),"업로드 중..."]}):"파일 업로드"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"첨부된 파일"}),l?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(wr,{className:"h-6 w-6 animate-spin text-gray-400"}),s.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"로딩 중..."})]}):s.jsxs("div",{className:"space-y-2",children:[o.filter(C=>C.attachment_type==="file").map(C=>{var _,R;const T=C.files;if(!T)return null;const B=A(T.file_path),$=(_=T.content_type)==null?void 0:_.startsWith("image/"),W=(R=T.content_type)==null?void 0:R.includes("pdf");return s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[$?s.jsx(Yo,{className:"h-5 w-5 text-blue-500"}):W?s.jsx(Et,{className:"h-5 w-5 text-red-500"}):s.jsx(Et,{className:"h-5 w-5 text-gray-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:T.original_filename}),s.jsxs("p",{className:"text-xs text-gray-500",children:[k(T.file_size)," • ",new Date(C.created_at).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>window.open(B,"_blank"),children:[s.jsx(uo,{className:"h-4 w-4 mr-1"}),"보기"]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>{const O=document.createElement("a");O.href=B,O.download=T.original_filename,O.click()},children:[s.jsx(gl,{className:"h-4 w-4 mr-1"}),"다운로드"]}),s.jsx(X,{variant:"destructive",size:"sm",onClick:()=>j(C.id),children:s.jsx(It,{className:"h-4 w-4"})})]})]},C.id)}),o.filter(C=>C.attachment_type==="file").length===0&&s.jsx("p",{className:"text-center py-8 text-gray-500",children:"첨부된 파일이 없습니다."})]})]})]}),s.jsxs(Qt,{value:"links",className:"space-y-4",children:[s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-gray-50",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"새 링크 추가"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"link-title",children:"링크 제목 *"}),s.jsx(fe,{id:"link-title",value:p.title,onChange:C=>v(T=>({...T,title:C.target.value})),placeholder:"링크 제목을 입력하세요"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"link-url",children:"URL *"}),s.jsx(fe,{id:"link-url",type:"url",value:p.url,onChange:C=>v(T=>({...T,url:C.target.value})),placeholder:"https://example.com"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"link-description",children:"설명"}),s.jsx(na,{id:"link-description",value:p.description,onChange:C=>v(T=>({...T,description:C.target.value})),placeholder:"링크에 대한 설명을 입력하세요 (선택사항)",rows:2})]}),s.jsxs(X,{onClick:w,className:"w-full",children:[s.jsx(Ih,{className:"h-4 w-4 mr-2"}),"링크 추가"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"추가된 링크"}),s.jsxs("div",{className:"space-y-2",children:[o.filter(C=>C.attachment_type==="link").map(C=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx(Ih,{className:"h-5 w-5 text-blue-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:C.link_title}),s.jsx("p",{className:"text-xs text-blue-600 hover:underline cursor-pointer",onClick:()=>window.open(C.link_url,"_blank"),children:C.link_url}),C.link_description&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:C.link_description}),s.jsx("p",{className:"text-xs text-gray-400",children:new Date(C.created_at).toLocaleDateString()})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>window.open(C.link_url,"_blank"),children:[s.jsx(zm,{className:"h-4 w-4 mr-1"}),"열기"]}),s.jsx(X,{variant:"destructive",size:"sm",onClick:()=>j(C.id),children:s.jsx(It,{className:"h-4 w-4"})})]})]},C.id)),o.filter(C=>C.attachment_type==="link").length===0&&s.jsx("p",{className:"text-center py-8 text-gray-500",children:"추가된 링크가 없습니다."})]})]})]})]}),s.jsx("div",{className:"flex justify-end pt-4 border-t",children:s.jsx(X,{onClick:r,children:"닫기"})})]})})};var M2="AlertDialog",[F9,JB]=Cs(M2,[Kk]),aa=Kk(),R2=e=>{const{__scopeAlertDialog:t,...r}=e,n=aa(t);return s.jsx(av,{...n,...r,modal:!0})};R2.displayName=M2;var $9="AlertDialogTrigger",z9=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=aa(r);return s.jsx(ov,{...a,...n,ref:t})});z9.displayName=$9;var U9="AlertDialogPortal",A2=e=>{const{__scopeAlertDialog:t,...r}=e,n=aa(t);return s.jsx(iv,{...n,...r})};A2.displayName=U9;var B9="AlertDialogOverlay",O2=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=aa(r);return s.jsx(Id,{...a,...n,ref:t})});O2.displayName=B9;var sl="AlertDialogContent",[V9,W9]=F9(sl),I2=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,o=aa(r),i=h.useRef(null),l=ut(t,i),c=h.useRef(null);return s.jsx(e8,{contentName:sl,titleName:L2,docsSlug:"alert-dialog",children:s.jsx(V9,{scope:r,cancelRef:c,children:s.jsxs(Ld,{role:"alertdialog",...o,...a,ref:l,onOpenAutoFocus:_e(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(R0,{children:n}),s.jsx(q9,{contentRef:i})]})})})});I2.displayName=sl;var L2="AlertDialogTitle",F2=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=aa(r);return s.jsx(Fd,{...a,...n,ref:t})});F2.displayName=L2;var $2="AlertDialogDescription",z2=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=aa(r);return s.jsx($d,{...a,...n,ref:t})});z2.displayName=$2;var H9="AlertDialogAction",U2=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=aa(r);return s.jsx(tf,{...a,...n,ref:t})});U2.displayName=H9;var B2="AlertDialogCancel",V2=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=W9(B2,r),o=aa(r),i=ut(t,a);return s.jsx(tf,{...o,...n,ref:i})});V2.displayName=B2;var q9=({contentRef:e})=>{const t=`\`${sl}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${sl}\` by passing a \`${$2}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${sl}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Y9=R2,K9=A2,W2=O2,H2=I2,q2=U2,Y2=V2,K2=F2,G2=z2;const vo=Y9,G9=K9,J2=h.forwardRef(({className:e,...t},r)=>s.jsx(W2,{className:se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));J2.displayName=W2.displayName;const oa=h.forwardRef(({className:e,...t},r)=>s.jsxs(G9,{children:[s.jsx(J2,{}),s.jsx(H2,{ref:r,className:se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));oa.displayName=H2.displayName;const ia=({className:e,...t})=>s.jsx("div",{className:se("flex flex-col space-y-2 text-center sm:text-left",e),...t});ia.displayName="AlertDialogHeader";const la=({className:e,...t})=>s.jsx("div",{className:se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});la.displayName="AlertDialogFooter";const ca=h.forwardRef(({className:e,...t},r)=>s.jsx(K2,{ref:r,className:se("text-lg font-semibold",e),...t}));ca.displayName=K2.displayName;const da=h.forwardRef(({className:e,...t},r)=>s.jsx(G2,{ref:r,className:se("text-sm text-muted-foreground",e),...t}));da.displayName=G2.displayName;const ua=h.forwardRef(({className:e,...t},r)=>s.jsx(q2,{ref:r,className:se(rd(),e),...t}));ua.displayName=q2.displayName;const ha=h.forwardRef(({className:e,...t},r)=>s.jsx(Y2,{ref:r,className:se(rd({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));ha.displayName=Y2.displayName;const J9=()=>{const{id:e}=tN(),t=lo(),{translations:r}=Yt(),{projects:n,users:a,tasks:o,departments:i,updateProject:l,clients:c,employees:u,managers:d,phases:m,calculateProjectProgress:f,deleteProject:p,currentUser:v,addTask:g,updateTask:b,deleteTask:y,getProjectStatuses:x}=yt(),{toast:w}=Pr(),[j,k]=h.useState(null),[A,C]=h.useState(!1),[T,B]=h.useState(!1),[$,W]=h.useState(!1);h.useState(!1),h.useState(!1),h.useState(!1);const[_,R]=h.useState([]),[O,ne]=h.useState(!1),[P,H]=h.useState(""),[L,M]=h.useState("all"),[F,G]=h.useState("all"),[q,de]=h.useState("stage"),[z,ee]=h.useState("asc"),[U,S]=h.useState([]),[K,te]=h.useState(null),[Q,oe]=h.useState({}),[xe,Ne]=h.useState(!1),[Se,Je]=h.useState({title:"",assignedTo:"",department:"",dueDate:"",status:"",taskPhase:""}),[Ze,Qe]=h.useState(!1);h.useState(!1);const[V,E]=h.useState(null),[Y,ae]=h.useState(!1),[le,ie]=h.useState({}),[ve,De]=h.useState(!1),[$e,ct]=h.useState(null),Xe=h.useRef(null);r.projects,r.global;const We=n.find(I=>I.id===e),Rt=(v==null?void 0:v.role)||"user",mr=Rt==="admin"||Rt==="manager",zr=x(),ma=zr.map(I=>I.name);console.log("=== 프로젝트 상태 디버깅 ==="),console.log("프로젝트 상태들:",zr),console.log("상태 옵션들:",ma),console.log("상태 개수:",zr.length);const yo=h.useMemo(()=>{if(zr.length>0){const I=zr.find(me=>me.is_active);return I?I.name:zr[0].name}return"할 일"},[zr]);h.useEffect(()=>{yo&&Se.status===""&&Je(I=>({...I,status:yo}))},[yo,Se.status]);const En=I=>{const me=zr.find(Ue=>Ue.name===I);return(me==null?void 0:me.color)||"#6b7280"},Bl=[...a.map(I=>({id:I.id,name:I.name,type:"user"})),...u.map(I=>({id:I.id,name:I.name,type:"employee"})),...d.map(I=>({id:I.id,name:I.name,type:"manager"}))].sort((I,me)=>I.name.localeCompare(me.name)),eu=i.map(I=>({id:I.id,name:I.name,code:I.code})),wf=async()=>{try{const{data:I,error:me}=await re.from("task_phases").select("*").eq("is_active",!0).order("order_index");if(me)throw me;S(I||[])}catch(I){console.error("업무 단계 로드 오류:",I)}},bf=async()=>{if(We){ne(!0);try{const{data:I,error:me}=await re.from("project_attachments").select("id, file_id, description, created_at").eq("project_id",We.id).order("created_at",{ascending:!1});if(me){console.error("첨부파일 로드 오류:",me),R([]);return}if(!I||I.length===0){R([]);return}const Ue=I.map(er=>er.file_id),{data:Ve,error:je}=await re.from("files").select("*").in("id",Ue);if(je){console.error("파일 정보 로드 오류:",je),R([]);return}const Dt=I.map(er=>{var fa,su;const ar=Ve==null?void 0:Ve.find(No=>No.id===er.file_id);if(!ar)return null;let fs=ar.file_path;if(ar.file_path&&!ar.file_path.startsWith("http"))try{const{data:{publicUrl:No}}=re.storage.from("project-files").getPublicUrl(ar.file_path);fs=No}catch(No){console.error("URL 생성 오류:",No)}return{id:ar.id,name:ar.original_filename||ar.filename,type:(fa=ar.content_type)!=null&&fa.includes("pdf")?"pdf":(su=ar.content_type)!=null&&su.includes("image")?"image":"document",url:fs||"",size:ar.file_size||0,uploadedAt:ar.created_at||er.created_at}}).filter(Boolean);R(Dt)}catch(I){console.error("파일 로드 중 오류:",I),R([])}finally{ne(!1)}}};h.useEffect(()=>{We!=null&&We.id&&(bf(),wf())},[We==null?void 0:We.id]),h.useEffect(()=>{const I=Ue=>{const Ve=Ue.target;Ve&&Ve.nodeType===Node.ELEMENT_NODE&&(Ve.closest("[data-radix-select-content]")||Ve.closest("[data-radix-select-trigger]")||Ve.closest("[data-radix-select-viewport]")||Ve.closest("[data-radix-popper-content-wrapper]")||Ve.hasAttribute("data-radix-select-trigger")||Ve.hasAttribute("data-radix-select-content"))||Xe.current&&!Xe.current.contains(Ve)&&(te(null),oe({}))},me=Ue=>{Ue.key==="Escape"&&(xe&&(Ne(!1),Je({title:"",assignedTo:"",department:"",dueDate:"",status:"",taskPhase:""})),te(null),oe({}))};return document.addEventListener("mousedown",I),document.addEventListener("keydown",me),()=>{document.removeEventListener("mousedown",I),document.removeEventListener("keydown",me)}},[xe]);const jf=I=>{if(!I)return{name:"단계 미지정",color:"#6b7280"};const me=U.find(Ue=>Ue.id===I);return me?{name:me.name,color:me.color||"#3b82f6"}:{name:"단계 미지정",color:"#6b7280"}},Nf=I=>{if(!I)return{name:"단계 미지정",color:"#6b7280"};const me=m.find(Ue=>Ue.id===I);return me?{name:me.name,color:me.color||"#3b82f6"}:{name:"단계 미지정",color:"#6b7280"}},_f=I=>{if(I.currentPhase){const me=Nf(I.currentPhase);if(me.name!=="단계 미지정")return me}return I.phase?{name:I.phase,color:"#3b82f6"}:I.promotionStatus?{name:I.promotionStatus,color:"#8b5cf6"}:I.type||I.projectType?{name:I.type||I.projectType,color:"#f59e0b"}:{name:"단계 미지정",color:"#6b7280"}},ci=I=>{if(!I)return"-";try{const me=E0(I);return Om(me)?Ke(me,"yyyy-MM-dd",{locale:Yr}):I}catch{return I}},di=We?o.filter(I=>I.projectId===We.id&&!I.parentTaskId):[],tu=We?f(We.id):0,kf=I=>{if(I){const Ue=a.find(Dt=>Dt.id===I);if(Ue)return Ue.name;const Ve=u.find(Dt=>Dt.id===I);if(Ve)return Ve.name;const je=d.find(Dt=>Dt.id===I);if(je)return je.name}const me=We==null?void 0:We.manager;return me&&typeof me=="string"&&me.trim()!==""?me:"-"},Vl=I=>{if(!I)return"미지정";const me=a.find(je=>je.id===I);if(me)return me.name;const Ue=u.find(je=>je.id===I);if(Ue)return Ue.name;const Ve=d.find(je=>je.id===I);return Ve?Ve.name:"미지정"},ru=I=>{if(!I)return"-";const me=i.find(er=>er.id===I);if(me)return me.name;const Ue=i.find(er=>er.code===I);if(Ue)return Ue.name;const Ve=i.find(er=>er.name===I);if(Ve)return Ve.name;const Dt={sales:"영업",development:"개발",manufacturing:"제조",quality:"품질",finance:"재무",administration:"관리",management:"경영",engineering:"기술",rnd:"연구개발",production:"생산",qa:"품질보증"}[I.toLowerCase()];return Dt||I},Sf=I=>{k(I),C(!0)},Cf=async()=>{if(We)try{B(!0),await p(We.id),w({title:"프로젝트 삭제 완료",description:`"${We.name}" 프로젝트가 성공적으로 삭제되었습니다. 업무 개수: ${di.length}개`,variant:"default"}),t("/projects")}catch(I){console.error("프로젝트 삭제 오류:",I),w({title:"삭제 실패",description:"프로젝트 삭제 중 오류가 발생했습니다. 다시 시도해주세요.",variant:"destructive"})}finally{B(!1),W(!1)}},Df=I=>{if(I===0)return"0 Bytes";const me=1024,Ue=["Bytes","KB","MB","GB"],Ve=Math.floor(Math.log(I)/Math.log(me));return parseFloat((I/Math.pow(me,Ve)).toFixed(2))+" "+Ue[Ve]},Pf=I=>{const me=U.find(Ve=>Ve.id===I.taskPhase),Ue=(me==null?void 0:me.order_index)||0;return String(Ue).padStart(2,"0")},Tf={"not-started":"할 일","to-do":"할 일",todo:"할 일","in-progress":"진행중",progress:"진행중",doing:"진행중",reviewing:"검토중",review:"검토중",pending:"검토중",completed:"완료",done:"완료",finished:"완료",delayed:"지연",blocked:"지연","on-hold":"보류",paused:"보류"},ui=di.map(I=>({...I,status:Tf[I.status.toLowerCase()]||I.status})),Ef=()=>{const I=ui.length;if(console.log(`=== 프로젝트 상세 페이지 "${We==null?void 0:We.name}" 업무 현황 계산 ===`),console.log(`전체 업무 수: ${I}`),I===0)return console.log("업무가 없어서 모든 값을 0으로 반환"),{total:0,completed:0,inProgress:0,notStarted:0};const me=ui.reduce((Ue,Ve)=>{const je=Ve.progress||0,Dt=Ve.status;return console.log(`업무 "${Ve.title}": ${Dt} (${je}%)`),je===100||Dt==="완료"?(Ue.completed++,console.log(`→ 완료로 분류 (진행률: ${je}%, 상태: ${Dt})`)):je===20||je===40||je===60||je===80||je>0&&je<100||Dt==="진행중"||Dt==="검토중"?(Ue.inProgress++,console.log(`→ 진행중으로 분류 (진행률: ${je}%, 상태: ${Dt})`)):(Ue.notStarted++,console.log(`→ 시작전으로 분류 (진행률: ${je}%, 상태: ${Dt})`)),Ue},{completed:0,inProgress:0,notStarted:0});return console.log("최종 통계:",me),console.log("==============================="),{total:I,completed:me.completed,inProgress:me.inProgress,notStarted:me.notStarted}},Ps=[...ui.filter(I=>{var Dt;const me=!P||I.title.toLowerCase().includes(P.toLowerCase())||((Dt=I.description)==null?void 0:Dt.toLowerCase().includes(P.toLowerCase()));let Ue=L;if(L!=="all"){const er=zr.find(ar=>ar.id===L);Ue=er?er.name:L}const Ve=L==="all"||I.status===Ue,je=F==="all"||I.assignedTo===F;return me&&Ve&&je})].sort((I,me)=>{let Ue=0;switch(q){case"stage":const Ve=U.find(fa=>fa.id===I.taskPhase),je=U.find(fa=>fa.id===me.taskPhase);Ue=((Ve==null?void 0:Ve.order_index)||999)-((je==null?void 0:je.order_index)||999);break;case"title":Ue=I.title.localeCompare(me.title);break;case"assignedTo":const Dt=Vl(I.assignedTo),er=Vl(me.assignedTo);Ue=Dt.localeCompare(er);break;case"dueDate":const ar=I.dueDate?new Date(I.dueDate).getTime():0,fs=me.dueDate?new Date(me.dueDate).getTime():0;Ue=ar-fs;break;case"status":Ue=(I.status||"").localeCompare(me.status||"");break}return z==="asc"?Ue:-Ue}),mi=I=>{q===I?ee(z==="asc"?"desc":"asc"):(de(I),ee("asc"))},wo=(I,me,Ue)=>{te({taskId:I,field:me}),oe({...Q,[`${I}_${me}`]:Ue})},bo=async(I,me)=>{const Ue=`${I}_${me}`,Ve=Q[Ue];if(!Ve||Ve===""){w({title:"입력 오류",description:"값을 입력해주세요.",variant:"destructive"});return}try{const je={[me]:Ve};if(me==="status"&&Ve==="완료")je.progress=100,console.log("상태가 완료로 변경됨 - 진행률을 100%로 설정");else if(me==="status"&&Ve!=="완료"){const Dt=ui.find(er=>er.id===I);Dt&&Dt.progress===100&&(je.progress=80,console.log("완료 상태에서 다른 상태로 변경됨 - 진행률을 80%로 조정"))}console.log(`업무 ${I}의 ${me}를 ${Ve}로 업데이트`,je),await b(I,je),w({title:"업무 업데이트 완료",description:"업무가 성공적으로 업데이트되었습니다.",variant:"default"}),te(null),oe({})}catch(je){console.error("업무 업데이트 오류:",je),w({title:"업데이트 실패",description:"업무 업데이트 중 오류가 발생했습니다. 다시 시도해주세요.",variant:"destructive"})}},jo=()=>{te(null),oe({})},Wv=async()=>{if(We){if(!Se.title.trim()){w({title:"입력 오류",description:"업무명을 입력해주세요.",variant:"destructive"});return}try{const I={title:Se.title.trim(),description:Se.title.trim(),projectId:We.id,assignedTo:Se.assignedTo||void 0,startDate:new Date().toISOString().split("T")[0],dueDate:Se.dueDate||new Date(Date.now()+6048e5).toISOString().split("T")[0],priority:"medium",department:Se.department||"management",status:Se.status||"할 일",taskPhase:Se.taskPhase,progress:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),parentTaskId:void 0};console.log("새로운 업무 생성 데이터:",I);const me=await g(I);w({title:"업무 생성 완료",description:`"${I.title}" 업무가 성공적으로 생성되었습니다.`,variant:"default"}),Ne(!1),Je({title:"",assignedTo:"",department:"",dueDate:"",status:"",taskPhase:""}),console.log("새로운 업무 ID:",me)}catch(I){console.error("업무 생성 오류:",I),w({title:"생성 실패",description:"업무 생성 중 오류가 발생했습니다. 다시 시도해주세요.",variant:"destructive"})}}},Hv=()=>{Ne(!1),Je({title:"",assignedTo:"",department:"",dueDate:"",status:"",taskPhase:""})},Mf=async(I,me)=>{ct({id:I,title:me}),De(!0)},D=async()=>{if($e)try{await y($e.id),w({title:"업무 삭제 완료",description:`"${$e.title}" 업무가 성공적으로 삭제되었습니다.`,variant:"default"})}catch(I){console.error("업무 삭제 오류:",I),w({title:"삭제 실패",description:"업무 삭제 중 오류가 발생했습니다. 다시 시도해주세요.",variant:"destructive"})}finally{De(!1),ct(null)}},N=()=>{Qe(!0)},Z=()=>{Qe(!1),window.location.reload()},J=async()=>{try{const I=Ps.map(je=>je.id);if(I.length===0)return;const{data:me,error:Ue}=await re.from("task_attachments").select(`
          *,
          files:file_id (
            id,
            original_filename,
            filename,
            content_type,
            file_size,
            file_path
          )
        `).in("task_id",I);if(Ue)throw Ue;const Ve={};(me||[]).forEach(je=>{Ve[je.task_id]||(Ve[je.task_id]=[]),Ve[je.task_id].push(je)}),ie(Ve)}catch(I){console.error("업무 첨부 파일 로드 오류:",I)}};h.useEffect(()=>{Ps.length>0&&J()},[Ps.length]);const pe=I=>{E(I),ae(!0)},Fe=()=>{J()},Tr=({taskId:I})=>{const me=le[I]||[],Ue=me.filter(je=>je.attachment_type==="file"),Ve=me.filter(je=>je.attachment_type==="link");return me.length===0?s.jsx("div",{className:"flex items-center justify-center text-gray-400",children:s.jsx("span",{className:"text-xs",children:"-"})}):s.jsxs("div",{className:"flex items-center gap-2",children:[Ue.length>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Xc,{className:"h-3 w-3 text-blue-500"}),s.jsx("span",{className:"text-xs text-blue-600 font-medium",children:Ue.length})]}),Ve.length>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ih,{className:"h-3 w-3 text-green-500"}),s.jsx("span",{className:"text-xs text-green-600 font-medium",children:Ve.length})]}),s.jsxs("div",{className:"flex gap-1",children:[me.slice(0,3).map((je,Dt)=>{var er,ar;if(je.attachment_type==="file"){const fs=je.files;if(!fs)return null;const fa=(er=fs.content_type)==null?void 0:er.startsWith("image/"),su=(ar=fs.content_type)==null?void 0:ar.includes("pdf");return s.jsx("div",{className:"w-6 h-6 rounded border border-gray-200 flex items-center justify-center bg-white hover:bg-gray-50 cursor-pointer",title:fs.original_filename,onClick:No=>{No.stopPropagation();const{data:{publicUrl:qD}}=re.storage.from("task-files").getPublicUrl(fs.file_path);window.open(qD,"_blank")},children:fa?s.jsx(Yo,{className:"h-3 w-3 text-blue-500"}):su?s.jsx(Et,{className:"h-3 w-3 text-red-500"}):s.jsx(Et,{className:"h-3 w-3 text-gray-500"})},je.id)}else if(je.attachment_type==="link")return s.jsx("div",{className:"w-6 h-6 rounded border border-gray-200 flex items-center justify-center bg-white hover:bg-gray-50 cursor-pointer",title:je.link_title,onClick:fs=>{fs.stopPropagation(),window.open(je.link_url,"_blank")},children:s.jsx(zm,{className:"h-3 w-3 text-green-500"})},je.id);return null}),me.length>3&&s.jsxs("div",{className:"w-6 h-6 rounded border border-gray-200 flex items-center justify-center bg-gray-100 text-xs text-gray-600",children:["+",me.length-3]})]})]})};return s.jsxs("div",{className:"p-6 w-full",children:[We?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(X,{variant:"outline",onClick:()=>t("/projects"),className:"flex items-center gap-2",children:[s.jsx(Rh,{className:"h-4 w-4"}),"프로젝트 목록"]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-blue-500 to-purple-500",children:s.jsx(Ys,{className:"h-6 w-6 text-white"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:We.name})]})]}),s.jsx("div",{className:"flex items-center gap-4",children:mr&&s.jsxs(s.Fragment,{children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:N,className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50 border-blue-200",children:[s.jsx(ho,{className:"h-4 w-4 mr-2"}),"수정"]}),$?s.jsxs("div",{className:"flex flex-col gap-3 bg-red-50 px-5 py-4 rounded-lg border border-red-200 shadow-lg min-w-[280px]",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("span",{className:"text-sm text-red-700 font-medium block",children:"정말 삭제하시겠습니까?"}),di.length>0&&s.jsxs("span",{className:"text-xs text-red-600 mt-1 block",children:["⚠️ 관련 업무 ",di.length,"개도 함께 삭제됩니다."]})]}),s.jsxs("div",{className:"flex items-center gap-3 justify-center",children:[s.jsx(X,{variant:"destructive",size:"sm",onClick:Cf,disabled:T,className:"h-8 px-4 min-w-[60px]",children:T?s.jsx(wr,{className:"h-3 w-3 animate-spin"}):"삭제"}),s.jsx(X,{variant:"outline",size:"sm",onClick:()=>W(!1),className:"h-8 px-4 min-w-[60px]",children:"취소"})]})]}):s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>W(!0),className:"text-red-600 hover:text-red-700 hover:bg-red-50 border-red-200",children:[s.jsx(Bn,{className:"h-4 w-4 mr-2"}),"삭제"]})]})})]}),s.jsxs("div",{className:"space-y-6",children:[We.image&&s.jsx("div",{className:"w-full max-w-2xl mx-auto",children:s.jsx("img",{src:We.image,alt:`${We.name} 이미지`,className:"w-full h-64 object-contain rounded-lg shadow-md bg-gray-50 border border-gray-200"})}),s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"프로젝트 정보"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"프로모션 단계"}),s.jsx("div",{className:"mt-1",children:(()=>{const I=_f(We);return s.jsx(Le,{variant:"outline",className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:`${I.color}20`,borderColor:I.color,color:I.color},children:I.name})})()})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"진행률"}),s.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${tu}%`}})}),s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[tu,"%"]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"시작일"}),s.jsxs("div",{className:"mt-1 flex items-center text-sm text-gray-900",children:[s.jsx(sr,{className:"h-4 w-4 mr-2 text-gray-400"}),ci(We.startDate)]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"마감일"}),s.jsxs("div",{className:"mt-1 flex items-center text-sm text-gray-900",children:[s.jsx(sr,{className:"h-4 w-4 mr-2 text-gray-400"}),ci(We.dueDate)]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"담당자"}),s.jsxs("div",{className:"mt-1 flex items-center text-sm text-gray-900",children:[s.jsx(nr,{className:"h-4 w-4 mr-2 text-gray-400"}),kf(We.managerId)]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"부서"}),s.jsxs("div",{className:"mt-1 flex items-center text-sm text-gray-900",children:[s.jsx(pn,{className:"h-4 w-4 mr-2 text-gray-400"}),ru(We.department)]})]})]}),We.description&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-500",children:"설명"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:We.description})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"첨부 파일"}),O?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(wr,{className:"h-6 w-6 animate-spin text-gray-400"}),s.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"파일을 불러오는 중..."})]}):_.length>0?s.jsx("div",{className:"space-y-3",children:_.map(I=>s.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[I.type==="pdf"?s.jsx(Et,{className:"h-5 w-5 text-red-500"}):I.type==="image"?s.jsx(Yo,{className:"h-5 w-5 text-blue-500"}):s.jsx(Et,{className:"h-5 w-5 text-gray-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:I.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:[Df(I.size)," • ",ci(I.uploadedAt)]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[I.type==="pdf"&&s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>Sf(I),children:[s.jsx(uo,{className:"h-4 w-4 mr-1"}),"미리보기"]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>window.open(I.url,"_blank"),children:[s.jsx(gl,{className:"h-4 w-4 mr-1"}),"다운로드"]})]})]},I.id))}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Et,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"text-sm",children:"첨부된 파일이 없습니다"})]})]})]})}),s.jsxs("div",{ref:Xe,className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Ks,{className:"h-5 w-5 text-blue-600"}),"하위 업무 (",Ef().total,"개)"]})}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-1 min-w-64",children:[s.jsx(Ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(fe,{placeholder:"업무 검색...",value:P,onChange:I=>H(I.target.value),className:"pl-9"})]}),s.jsxs(Oe,{value:L,onValueChange:M,children:[s.jsx(Re,{className:"w-48",children:s.jsx(Ie,{placeholder:"상태 필터"})}),s.jsxs(Ae,{children:[s.jsx(ce,{value:"all",children:"모든 상태"}),zr.map(I=>s.jsx(ce,{value:I.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:En(I.name)}}),I.name]})},I.id))]})]}),s.jsxs(Oe,{value:F,onValueChange:G,children:[s.jsx(Re,{className:"w-48",children:s.jsx(Ie,{placeholder:"담당자 필터"})}),s.jsxs(Ae,{children:[s.jsx(ce,{value:"all",children:"모든 담당자"}),Bl.map(I=>s.jsx(ce,{value:I.id,children:I.name},I.id))]})]})]}),Ps.length>0||xe?s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>mi("stage"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Stage",q==="stage"&&(z==="asc"?s.jsx(zs,{className:"h-3 w-3"}):s.jsx(Kr,{className:"h-3 w-3"}))]})}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>mi("title"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Task Name",q==="title"&&(z==="asc"?s.jsx(zs,{className:"h-3 w-3"}):s.jsx(Kr,{className:"h-3 w-3"}))]})}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>mi("assignedTo"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["담당",q==="assignedTo"&&(z==="asc"?s.jsx(zs,{className:"h-3 w-3"}):s.jsx(Kr,{className:"h-3 w-3"}))]})}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"부서"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>mi("dueDate"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["Due Date",q==="dueDate"&&(z==="asc"?s.jsx(zs,{className:"h-3 w-3"}):s.jsx(Kr,{className:"h-3 w-3"}))]})}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>mi("status"),children:s.jsxs("div",{className:"flex items-center gap-1",children:["상태",q==="status"&&(z==="asc"?s.jsx(zs,{className:"h-3 w-3"}):s.jsx(Kr,{className:"h-3 w-3"}))]})}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"OverDue"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"자료 Link"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"액션"})]})}),s.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[Ps.map((I,me)=>{const Ue=jf(I.taskPhase),Ve=I.dueDate&&new Date(I.dueDate)<new Date&&I.status!=="완료";return s.jsxs("tr",{className:"hover:bg-gray-50 group",children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[Pf(I),"."]}),s.jsx("div",{className:"cursor-pointer hover:bg-gray-100 rounded px-2 py-1 transition-colors",onClick:()=>wo(I.id,"taskPhase",I.taskPhase),children:(K==null?void 0:K.taskId)===I.id&&(K==null?void 0:K.field)==="taskPhase"?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Oe,{value:Q[`${I.id}_taskPhase`]||void 0,onValueChange:je=>oe({...Q,[`${I.id}_taskPhase`]:je}),children:[s.jsx(Re,{className:"w-32 h-8",children:s.jsx(Ie,{})}),s.jsx(Ae,{children:U.map(je=>s.jsx(ce,{value:je.id,children:je.name},je.id))})]},`${I.id}_taskPhase`),s.jsx(X,{size:"sm",className:"h-6 w-6 p-0",onClick:()=>bo(I.id,"taskPhase"),children:s.jsx(Is,{className:"h-3 w-3"})}),s.jsx(X,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:jo,children:s.jsx(It,{className:"h-3 w-3"})})]}):s.jsx(Le,{variant:"outline",className:"text-xs cursor-pointer hover:bg-gray-100",style:{backgroundColor:`${Ue.color}20`,borderColor:Ue.color,color:Ue.color},children:Ue.name})})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("div",{className:"cursor-pointer hover:bg-gray-100 rounded px-2 py-1 transition-colors",onClick:()=>wo(I.id,"title",I.title),children:(K==null?void 0:K.taskId)===I.id&&(K==null?void 0:K.field)==="title"?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fe,{value:Q[`${I.id}_title`]||"",onChange:je=>oe({...Q,[`${I.id}_title`]:je.target.value}),className:"h-8",autoFocus:!0},`${I.id}_title`),s.jsx(X,{size:"sm",className:"h-6 w-6 p-0",onClick:()=>bo(I.id,"title"),children:s.jsx(Is,{className:"h-3 w-3"})}),s.jsx(X,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:jo,children:s.jsx(It,{className:"h-3 w-3"})})]}):s.jsxs("div",{className:"text-sm font-medium text-gray-900 max-w-xs",children:[I.title,s.jsx(ki,{className:"h-3 w-3 ml-2 inline opacity-0 group-hover:opacity-50"})]})})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:s.jsx("div",{className:"cursor-pointer hover:bg-gray-100 rounded px-2 py-1 transition-colors",onClick:()=>wo(I.id,"assignedTo",I.assignedTo),children:(K==null?void 0:K.taskId)===I.id&&(K==null?void 0:K.field)==="assignedTo"?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Oe,{value:Q[`${I.id}_assignedTo`]||void 0,onValueChange:je=>oe({...Q,[`${I.id}_assignedTo`]:je}),children:[s.jsx(Re,{className:"w-32 h-8",children:s.jsx(Ie,{})}),s.jsx(Ae,{children:Bl.map(je=>s.jsx(ce,{value:je.id,children:je.name},je.id))})]},`${I.id}_assignedTo`),s.jsx(X,{size:"sm",className:"h-6 w-6 p-0",onClick:()=>bo(I.id,"assignedTo"),children:s.jsx(Is,{className:"h-3 w-3"})}),s.jsx(X,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:jo,children:s.jsx(It,{className:"h-3 w-3"})})]}):s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-6 w-6 bg-gray-300 rounded-full flex items-center justify-center",children:s.jsx(nr,{className:"h-3 w-3 text-gray-600"})}),s.jsx("div",{className:"ml-2",children:s.jsx("div",{className:"text-sm font-medium text-gray-900",children:Vl(I.assignedTo)})}),s.jsx(ki,{className:"h-3 w-3 ml-2 opacity-0 group-hover:opacity-50"})]})})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:s.jsx("div",{className:"cursor-pointer hover:bg-gray-100 rounded px-2 py-1 transition-colors",onClick:()=>wo(I.id,"department",I.department),children:(K==null?void 0:K.taskId)===I.id&&(K==null?void 0:K.field)==="department"?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Oe,{value:Q[`${I.id}_department`]||void 0,onValueChange:je=>oe({...Q,[`${I.id}_department`]:je}),children:[s.jsx(Re,{className:"w-32 h-8",children:s.jsx(Ie,{})}),s.jsx(Ae,{children:eu.map(je=>s.jsx(ce,{value:je.id,children:je.name},je.id))})]},`${I.id}_department`),s.jsx(X,{size:"sm",className:"h-6 w-6 p-0",onClick:()=>bo(I.id,"department"),children:s.jsx(Is,{className:"h-3 w-3"})}),s.jsx(X,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:jo,children:s.jsx(It,{className:"h-3 w-3"})})]}):s.jsxs("span",{className:"text-sm text-gray-900",children:[ru(I.department),s.jsx(ki,{className:"h-3 w-3 ml-2 inline opacity-0 group-hover:opacity-50"})]})})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:s.jsx("div",{className:"cursor-pointer hover:bg-gray-100 rounded px-2 py-1 transition-colors",onClick:()=>wo(I.id,"dueDate",I.dueDate),children:(K==null?void 0:K.taskId)===I.id&&(K==null?void 0:K.field)==="dueDate"?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fe,{type:"date",value:Q[`${I.id}_dueDate`]||"",onChange:je=>oe({...Q,[`${I.id}_dueDate`]:je.target.value}),className:"h-8 w-36"},`${I.id}_dueDate`),s.jsx(X,{size:"sm",className:"h-6 w-6 p-0",onClick:()=>bo(I.id,"dueDate"),children:s.jsx(Is,{className:"h-3 w-3"})}),s.jsx(X,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:jo,children:s.jsx(It,{className:"h-3 w-3"})})]}):s.jsxs("span",{className:"text-sm text-gray-900",children:[ci(I.dueDate),s.jsx(ki,{className:"h-3 w-3 ml-2 inline opacity-0 group-hover:opacity-50"})]})})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:s.jsx("div",{className:"cursor-pointer hover:bg-gray-100 rounded px-2 py-1 transition-colors",onClick:()=>wo(I.id,"status",I.status),children:(K==null?void 0:K.taskId)===I.id&&(K==null?void 0:K.field)==="status"?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Oe,{value:Q[`${I.id}_status`]||void 0,onValueChange:je=>oe({...Q,[`${I.id}_status`]:je}),children:[s.jsx(Re,{className:"w-24 h-8",children:s.jsx(Ie,{})}),s.jsx(Ae,{children:ma.map(je=>s.jsx(ce,{value:je,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:En(je)}}),je]})},je))})]},`${I.id}_status`),s.jsx(X,{size:"sm",className:"h-6 w-6 p-0",onClick:()=>bo(I.id,"status"),children:s.jsx(Is,{className:"h-3 w-3"})}),s.jsx(X,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:jo,children:s.jsx(It,{className:"h-3 w-3"})})]}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:En(I.status)}}),s.jsx("span",{className:"text-sm text-gray-900",children:I.status}),s.jsxs("span",{className:"text-xs text-gray-500",children:[I.progress,"%"]}),s.jsx(ki,{className:"h-3 w-3 ml-2 opacity-0 group-hover:opacity-50"})]})})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:Ve?s.jsxs("div",{className:"flex items-center text-red-600",children:[s.jsx(rr,{className:"h-4 w-4 mr-1"}),s.jsxs("span",{className:"text-xs font-medium",children:[Math.ceil((new Date().getTime()-new Date(I.dueDate).getTime())/(1e3*60*60*24)),"일 지연"]})]}):s.jsxs("div",{className:"flex items-center text-green-600",children:[s.jsx(Sr,{className:"h-4 w-4 mr-1"}),s.jsx("span",{className:"text-xs",children:"정상"})]})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("div",{className:"cursor-pointer hover:bg-gray-100 rounded px-2 py-1 transition-colors",onClick:()=>pe(I),title:"클릭하여 자료 관리",children:s.jsx(Tr,{taskId:I.id})})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(X,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>Mf(I.id,I.title),children:s.jsx(Bn,{className:"h-4 w-4"})})})]},I.id)}),xe&&s.jsxs("tr",{className:"bg-blue-50 border-2 border-blue-200",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsxs(Oe,{value:Se.taskPhase||void 0,onValueChange:I=>Je(me=>({...me,taskPhase:I})),children:[s.jsx(Re,{className:"w-32 h-8",children:s.jsx(Ie,{placeholder:"단계 선택"})}),s.jsx(Ae,{children:U.map(I=>s.jsx(ce,{value:I.id,children:I.name},I.id))})]},"new-task-phase")}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(fe,{placeholder:"업무명 입력",value:Se.title,onChange:I=>Je(me=>({...me,title:I.target.value})),className:"h-8"},"new-task-title")}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs(Oe,{value:Se.assignedTo||void 0,onValueChange:I=>Je(me=>({...me,assignedTo:I})),children:[s.jsx(Re,{className:"w-32 h-8",children:s.jsx(Ie,{placeholder:"담당자 선택"})}),s.jsx(Ae,{children:Bl.map(I=>s.jsx(ce,{value:I.id,children:I.name},I.id))})]},"new-task-assignee")}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs(Oe,{value:Se.department||void 0,onValueChange:I=>Je(me=>({...me,department:I})),children:[s.jsx(Re,{className:"w-32 h-8",children:s.jsx(Ie,{placeholder:"부서 선택"})}),s.jsx(Ae,{children:eu.map(I=>s.jsx(ce,{value:I.id,children:I.name},I.id))})]},"new-task-department")}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(fe,{type:"date",value:Se.dueDate,onChange:I=>Je(me=>({...me,dueDate:I.target.value})),className:"h-8 w-36"},"new-task-due-date")}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs(Oe,{value:Se.status,onValueChange:I=>Je(me=>({...me,status:I})),children:[s.jsx(Re,{className:"w-24 h-8",children:s.jsx(Ie,{})}),s.jsx(Ae,{children:ma.map(I=>s.jsx(ce,{value:I,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:En(I)}}),I]})},I))})]},"new-task-status")}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("span",{className:"text-xs text-gray-400",children:"-"})}),s.jsx("td",{className:"px-4 py-3",children:s.jsx("div",{className:"flex items-center justify-center text-gray-400",children:s.jsx("span",{className:"text-xs",children:"-"})})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(X,{size:"sm",className:"h-8",onClick:Wv,children:[s.jsx(Is,{className:"h-4 w-4 mr-1"}),"저장"]}),s.jsxs(X,{size:"sm",variant:"ghost",className:"h-8",onClick:Hv,children:[s.jsx(It,{className:"h-4 w-4 mr-1"}),"취소"]})]})})]})]})]})}),!xe&&s.jsx("div",{className:"border-t border-gray-200 p-4",children:s.jsxs(X,{variant:"ghost",className:"text-gray-500 hover:text-gray-700",onClick:()=>Ne(!0),children:[s.jsx(_n,{className:"h-4 w-4 mr-2"}),"새로운 업무 추가"]})})]}):s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(Ks,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsx("p",{className:"text-lg font-medium mb-2",children:"등록된 업무가 없습니다"}),s.jsx("p",{className:"text-sm mb-4",children:"새로운 업무를 추가해보세요."}),s.jsxs(X,{onClick:()=>Ne(!0),children:[s.jsx(_n,{className:"h-4 w-4 mr-2"}),"첫 번째 업무 추가"]})]})]})]})]}):s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx(rr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"프로젝트를 찾을 수 없습니다"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"요청한 프로젝트가 존재하지 않거나 삭제되었습니다."}),s.jsxs(X,{onClick:()=>t("/projects"),children:[s.jsx(Rh,{className:"h-4 w-4 mr-2"}),"프로젝트 목록으로 돌아가기"]})]})}),V&&s.jsx(L9,{task:V,isOpen:Y,onClose:()=>{ae(!1),E(null)},onUpdate:Fe}),We&&s.jsx(I9,{project:We,isOpen:Ze,onClose:()=>Qe(!1),onUpdate:Z}),j&&s.jsx(O9,{open:A,onOpenChange:C,pdfUrl:j.url,fileName:j.name}),s.jsx(vo,{open:ve,onOpenChange:De,children:s.jsxs(oa,{className:"sm:max-w-md",children:[s.jsxs(ia,{className:"text-center pb-4",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(Bn,{className:"h-8 w-8 text-red-600"})}),s.jsx(ca,{className:"text-xl font-bold text-gray-900",children:"업무 삭제 확인"}),s.jsxs(da,{className:"text-center space-y-2",children:[s.jsxs("p",{className:"text-gray-600",children:[s.jsxs("span",{className:"font-semibold text-gray-900",children:['"',$e==null?void 0:$e.title,'"']})," 업무를 정말 삭제하시겠습니까?"]}),s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mt-3",children:s.jsxs("p",{className:"text-red-700 text-sm font-medium flex items-center gap-2",children:[s.jsx(rr,{className:"h-4 w-4"}),"이 작업은 되돌릴 수 없습니다"]})})]})]}),s.jsxs(la,{className:"gap-3 pt-4",children:[s.jsx(ha,{className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 border-0",children:"취소"}),s.jsxs(ua,{onClick:D,className:"flex-1 bg-red-600 hover:bg-red-700 text-white border-0 shadow-lg",children:[s.jsx(Bn,{className:"h-4 w-4 mr-2"}),"삭제하기"]})]})]})})]})};var kv="Switch",[Z9,ZB]=Cs(kv),[Q9,X9]=Z9(kv),Z2=h.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...m}=e,[f,p]=h.useState(null),v=ut(t,w=>p(w)),g=h.useRef(!1),b=f?d||!!f.closest("form"):!0,[y=!1,x]=Qs({prop:a,defaultProp:o,onChange:u});return s.jsxs(Q9,{scope:r,checked:y,disabled:l,children:[s.jsx(Be.button,{type:"button",role:"switch","aria-checked":y,"aria-required":i,"data-state":eC(y),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:v,onClick:_e(e.onClick,w=>{x(j=>!j),b&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),b&&s.jsx(ez,{control:f,bubbles:!g.current,name:n,value:c,checked:y,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Z2.displayName=kv;var Q2="SwitchThumb",X2=h.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=X9(Q2,r);return s.jsx(Be.span,{"data-state":eC(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});X2.displayName=Q2;var ez=e=>{const{control:t,checked:r,bubbles:n=!0,...a}=e,o=h.useRef(null),i=X0(r),l=J0(t);return h.useEffect(()=>{const c=o.current,u=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==r&&m){const f=new Event("click",{bubbles:n});m.call(c,r),c.dispatchEvent(f)}},[i,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function eC(e){return e?"checked":"unchecked"}var tC=Z2,tz=X2;const Nl=h.forwardRef(({className:e,...t},r)=>s.jsx(tC,{className:se("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(tz,{className:se("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Nl.displayName=tC.displayName;var Sv="Avatar",[rz,QB]=Cs(Sv),[sz,rC]=rz(Sv),sC=h.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,o]=h.useState("idle");return s.jsx(sz,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:o,children:s.jsx(Be.span,{...n,ref:t})})});sC.displayName=Sv;var nC="AvatarImage",aC=h.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...o}=e,i=rC(nC,r),l=nz(n,o.referrerPolicy),c=jr(u=>{a(u),i.onImageLoadingStatusChange(u)});return hr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Be.img,{...o,ref:t,src:n}):null});aC.displayName=nC;var oC="AvatarFallback",iC=h.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,o=rC(oC,r),[i,l]=h.useState(n===void 0);return h.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&o.imageLoadingStatus!=="loaded"?s.jsx(Be.span,{...a,ref:t}):null});iC.displayName=oC;function nz(e,t){const[r,n]=h.useState("idle");return hr(()=>{if(!e){n("error");return}let a=!0;const o=new window.Image,i=l=>()=>{a&&n(l)};return n("loading"),o.onload=i("loaded"),o.onerror=i("error"),o.src=e,t&&(o.referrerPolicy=t),()=>{a=!1}},[e,t]),r}var lC=sC,cC=aC,dC=iC;const ys=h.forwardRef(({className:e,...t},r)=>s.jsx(lC,{ref:r,className:se("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));ys.displayName=lC.displayName;const no=h.forwardRef(({className:e,...t},r)=>s.jsx(cC,{ref:r,className:se("aspect-square h-full w-full",e),...t}));no.displayName=cC.displayName;const ws=h.forwardRef(({className:e,...t},r)=>s.jsx(dC,{ref:r,className:se("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));ws.displayName=dC.displayName;function az(){var ne;const{toast:e}=Pr(),{translations:t,language:r}=Yt(),{currentUser:n,setCurrentUser:a}=yt(),o=t.profile;console.log("=== Profile 컴포넌트 로드 ==="),console.log("currentUser:",n),console.log("currentUser type:",typeof n),console.log("currentUser?.id:",n==null?void 0:n.id),console.log("===============================");const[i,l]=h.useState(null),[c,u]=h.useState([]),[d,m]=h.useState(!1),[f,p]=h.useState(!1),[v,g]=h.useState(!1),[b,y]=h.useState(!0),[x,w]=h.useState(!1),[j,k]=h.useState({name:"",email:"",department_id:"",phone:"",is_active:!0,currentPassword:"",newPassword:"",confirmPassword:""});h.useEffect(()=>{(async()=>{try{y(!0);const{data:H,error:L}=await re.from("departments").select("id, name, code, description").order("name");if(L)throw L;u(H||[]),console.log("부서 목록 로드 성공:",H),H&&H.length>0&&e({title:"부서 목록 로드 완료",description:`${H.length}개의 부서를 불러왔습니다.`})}catch(H){console.error("부서 목록 로드 실패:",H),e({title:"부서 목록 로드 실패",description:"부서 목록을 불러오는데 실패했습니다. 관리자 패널에서 부서를 먼저 등록해주세요.",variant:"destructive"}),u([])}finally{y(!1)}})()},[]),h.useEffect(()=>{(async()=>{var H,L,M,F,G,q,de;try{if(!(n!=null&&n.id)){console.log("currentUser가 없습니다. 로그인이 필요합니다."),e({title:"로그인 필요",description:"프로필을 보려면 먼저 로그인해주세요.",variant:"destructive"});return}console.log("현재 사용자 ID:",n.id);let z=n.id,ee=!0;if(/^[0-9a-f-]{36}$/i.test(z)||(console.log("UUID 형식이 아닌 사용자 ID, Supabase auth 확인 스킵:",z),ee=!1),ee)try{const{data:{user:te},error:Q}=await re.auth.getUser();!Q&&te?(z=te.id,console.log("Supabase auth 사용자 확인:",z)):console.log("Supabase auth 확인 실패, currentUser 사용:",Q)}catch(te){console.log("Supabase auth 확인 중 오류, currentUser 사용:",te)}const{data:S,error:K}=await re.from("user_profiles").select("*").eq("id",z).single();if(K){console.log("user_profiles 뷰 조회 실패, users 테이블 직접 조회:",K);const te=await re.from("users").select(`
              *,
              department:department_id(id, name, code),
              position:position_id(id, name, code),
              corporation:corporation_id(id, name, code)
            `).eq("id",z).single();if(te.error){console.log("users 테이블 조회도 실패, currentUser 데이터 사용:",te.error),l(n),k({name:n.name||"",email:n.email||"",department_id:(n==null?void 0:n.department_id)||"",phone:(n==null?void 0:n.phone)||"",is_active:(n==null?void 0:n.is_active)||n.isActive||!0,currentPassword:"",newPassword:"",confirmPassword:""});return}const Q=te.data,oe={id:Q.id,name:Q.name,email:Q.email,department_id:(H=Q.department)==null?void 0:H.id,department_name:(L=Q.department)==null?void 0:L.name,department_code:(M=Q.department)==null?void 0:M.code,position_id:(F=Q.position)==null?void 0:F.id,position_name:(G=Q.position)==null?void 0:G.name,corporation_id:(q=Q.corporation)==null?void 0:q.id,corporation_name:(de=Q.corporation)==null?void 0:de.name,role:Q.role,is_active:Q.is_active,login_method:Q.login_method,last_login:Q.last_login,avatar:Q.avatar,avatar_url:Q.avatar_url,phone:Q.phone};console.log("✅ users 테이블에서 프로필 로드 완료:",oe),console.log("📋 부서 정보:",{id:oe.department_id,name:oe.department_name,code:oe.department_code}),l(oe),k({name:oe.name||"",email:oe.email||"",department_id:oe.department_id||"",phone:oe.phone||"",is_active:oe.is_active||!0,currentPassword:"",newPassword:"",confirmPassword:""}),console.log("✅ 프로필 로딩 완료 - 역할:",oe.role,"활성화:",oe.is_active)}else console.log("user_profiles 뷰에서 사용자 정보 로드 성공:",S),console.log("📋 부서 정보:",{id:S==null?void 0:S.department_id,name:S==null?void 0:S.department_name,code:S==null?void 0:S.department_code}),l(S),k({name:(S==null?void 0:S.name)||"",email:(S==null?void 0:S.email)||"",department_id:(S==null?void 0:S.department_id)||"",phone:(S==null?void 0:S.phone)||"",is_active:(S==null?void 0:S.is_active)||!0,currentPassword:"",newPassword:"",confirmPassword:""}),console.log("✅ 프로필 로딩 완료 - 역할:",S==null?void 0:S.role,"활성화:",S==null?void 0:S.is_active)}catch(z){console.error("사용자 프로필 로드 실패:",z),n?(console.log("DB 조회 실패, currentUser 데이터로 폴백:",n),l(n),k({name:n.name||"",email:n.email||"",department_id:(n==null?void 0:n.department_id)||"",phone:(n==null?void 0:n.phone)||"",is_active:(n==null?void 0:n.is_active)||n.isActive||!0,currentPassword:"",newPassword:"",confirmPassword:""}),e({title:"프로필 로드",description:"기본 정보만 표시됩니다. 일부 기능이 제한될 수 있습니다.",variant:"default"})):e({title:"프로필 로드 실패",description:z.message||"사용자 프로필을 불러오는데 실패했습니다.",variant:"destructive"})}})()},[n]),h.useEffect(()=>{if(i&&c.length>0){const P=c.find(H=>H.id===i.department_id);if(P&&(!i.department_name||i.department_name!==P.name)){console.log("🔄 부서 정보 동기화:",P);const H={...i,department_name:P.name,department_code:P.code};if(l(H),n){const L={...n,department_id:i.department_id,department_name:P.name,department_code:P.code,is_active:i.is_active};a(L)}}}},[i,c,n,a]);const A=P=>{const{name:H,value:L}=P.target;k({...j,[H]:L})},C=(P,H)=>{k({...j,[P]:H})},T=async P=>{var H,L,M,F,G,q;P.preventDefault(),m(!0);try{if(!j.name.trim())throw new Error((o==null?void 0:o.nameRequired)||"이름을 입력해주세요");if(!j.email.trim())throw new Error((o==null?void 0:o.emailRequired)||"이메일을 입력해주세요");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(j.email))throw new Error((o==null?void 0:o.invalidEmail)||"올바른 이메일 형식을 입력해주세요");let z=n==null?void 0:n.id;console.log("=== 프로필 업데이트 시작 ==="),console.log("시작 시 currentUser:",n),console.log("폼 데이터:",j);try{const{data:{user:Q},error:oe}=await re.auth.getUser();!oe&&Q?(z=Q.id,console.log("✅ Supabase auth 사용자 사용:",z)):console.log("⚠️ auth 확인 실패, currentUser 사용:",oe)}catch(Q){console.log("⚠️ auth 확인 중 오류, currentUser 사용:",Q)}if(!z)throw new Error("사용자 ID를 찾을 수 없습니다. 다시 로그인해주세요.");console.log("📝 Supabase users 테이블 업데이트 시작...");const ee={name:j.name.trim(),email:j.email.trim(),department_id:j.department_id||null,phone:((H=j.phone)==null?void 0:H.trim())||null,is_active:j.is_active,updated_at:new Date().toISOString()};console.log("업데이트할 데이터:",ee),console.log("대상 사용자 ID:",z);const{data:U,error:S}=await re.from("users").update(ee).eq("id",z).select("*");if(S)throw console.error("❌ Supabase 업데이트 실패:",S),console.error("에러 상세:",{message:S.message,details:S.details,hint:S.hint,code:S.code}),new Error(`DB 업데이트 실패: ${S.message}`);if(!U||U.length===0){console.error("❌ 업데이트된 행이 없음. 사용자 ID가 존재하지 않을 수 있습니다."),console.log("🔧 사용자 자동 생성 시도...");try{const{data:{user:Q},error:oe}=await re.auth.getUser();if(!oe&&Q){console.log("📝 users 테이블에 새 사용자 생성 중...");const xe={id:Q.id,name:j.name.trim(),email:j.email.trim(),department_id:j.department_id||null,phone:((L=j.phone)==null?void 0:L.trim())||null,role:"user",is_active:j.is_active,login_method:"email",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:Ne,error:Se}=await re.from("users").insert([xe]).select("*");if(Se)throw console.error("❌ 사용자 생성 실패:",Se),new Error(`사용자 생성 실패: ${Se.message}`);if(Ne&&Ne.length>0){console.log("✅ 새 사용자 생성 성공:",Ne[0]);const Je={...Ne[0],department_name:(M=c.find(Ze=>Ze.id===j.department_id))==null?void 0:M.name,department_code:(F=c.find(Ze=>Ze.id===j.department_id))==null?void 0:F.code};if(l(Je),n){const Ze={...n,...Ne[0],name:Je.name,email:Je.email,department_id:Je.department_id,department_name:(G=c.find(Qe=>Qe.id===j.department_id))==null?void 0:G.name,department_code:(q=c.find(Qe=>Qe.id===j.department_id))==null?void 0:q.code,phone:Je.phone,role:Ne[0].role,is_active:Ne[0].is_active};a(Ze),localStorage.setItem("userProfile",JSON.stringify(Ze)),localStorage.setItem("currentUser",JSON.stringify(Ze)),console.log("🔄 신규 사용자 - 사이드바 동기화 완료")}setTimeout(async()=>{var Ze,Qe;try{console.log("🔍 부서 정보 재확인 중...");const{data:V,error:E}=await re.from("users").select(`
                      *,
                      department:department_id(id, name, code)
                    `).eq("id",Q.id).single();if(!E&&V){console.log("✅ 부서 정보 재확인됨:",V);const Y={...V,department_name:(Ze=V.department)==null?void 0:Ze.name,department_code:(Qe=V.department)==null?void 0:Qe.code};l(Y),V.department_id?console.log("✅ 부서 저장 및 연결 확인됨:",V.department):console.warn("⚠️ 부서 정보가 여전히 없습니다.")}}catch(V){console.error("부서 정보 재확인 중 오류:",V)}},3e3),e({title:"사용자 계정 생성 및 프로필 업데이트 성공",description:"새 계정이 생성되고 프로필 정보가 저장되었습니다."}),console.log("✅ 사용자 생성 및 프로필 업데이트 완료"),m(!1);return}}}catch(Q){console.error("❌ 사용자 자동 생성 중 오류:",Q)}throw new Error("해당 사용자를 찾을 수 없습니다. 다시 로그인해주세요.")}if(console.log("✅ Supabase 업데이트 성공:",U[0]),j.email!==(i==null?void 0:i.email))try{console.log("📧 Auth 이메일 업데이트 시도...");const{error:Q}=await re.auth.updateUser({email:j.email});Q?console.warn("⚠️ Auth 이메일 업데이트 실패:",Q):console.log("✅ Auth 이메일 업데이트 성공")}catch(Q){console.warn("⚠️ Auth 이메일 업데이트 중 오류:",Q)}const K=c.find(Q=>Q.id===j.department_id),te={...i,...U[0],department_name:K==null?void 0:K.name,department_code:K==null?void 0:K.code};if(console.log("🔄 프로필 상태 업데이트:",te),l(te),n){const Q={...n,...U[0],name:te.name,email:te.email,department_id:te.department_id,department_name:te.department_name,department_code:te.department_code,phone:te.phone,role:U[0].role,is_active:j.is_active};console.log("🔄 AppContext 업데이트:",Q),a(Q),localStorage.setItem("userProfile",JSON.stringify(Q)),localStorage.setItem("currentUser",JSON.stringify(Q)),console.log("🔄 사이드바 동기화를 위한 localStorage 업데이트 완료 (역할 정보 포함)")}console.log("✅ 프로필 상태 업데이트 완료 (Supabase + 동기화):",te),console.log("📋 선택된 부서:",K),e({title:(o==null?void 0:o.profileUpdateSuccess)||"프로필 업데이트 성공",description:j.department_id?`프로필 정보와 부서(${K==null?void 0:K.name})가 Supabase에 성공적으로 저장되었습니다.`:"프로필 정보가 Supabase에 성공적으로 저장되었습니다."}),console.log("=== 프로필 업데이트 완료 ==="),console.log("업데이트된 프로필:",te),console.log("사용된 사용자 ID:",z),console.log("================================"),setTimeout(async()=>{var Q,oe,xe;try{console.log("🔍 DB 저장 상태 재확인 중...");const{data:Ne,error:Se}=await re.from("users").select(`
              name, 
              email, 
              department_id, 
              phone, 
              is_active,
              role,
              updated_at,
              department:department_id(id, name, code)
            `).eq("id",z).single();!Se&&Ne?(console.log("✅ DB 저장 재확인됨:",Ne),console.log("📋 저장된 부서 정보:",Ne.department),console.log("🔄 활성화 상태:",Ne.is_active),console.log("👤 역할 정보:",Ne.role),Ne.name===j.name.trim()&&Ne.email===j.email.trim()&&Ne.department_id===(j.department_id||null)&&Ne.phone===(((Q=j.phone)==null?void 0:Q.trim())||null)&&Ne.is_active===j.is_active?(console.log("✅ 데이터 일치 확인됨 - Supabase 저장 성공!"),Ne.department&&console.log("✅ 부서 연결 확인됨:",(oe=Ne.department)==null?void 0:oe.name)):console.warn("⚠️ 저장된 데이터와 폼 데이터 불일치:",{form:{name:j.name.trim(),email:j.email.trim(),department_id:j.department_id||null,phone:((xe=j.phone)==null?void 0:xe.trim())||null,is_active:j.is_active},db:Ne})):console.error("❌ DB 저장 재확인 실패:",Se)}catch(Ne){console.error("DB 재확인 중 오류:",Ne)}},3e3)}catch(de){console.error("프로필 업데이트 실패:",de),e({title:(o==null?void 0:o.profileUpdateError)||"프로필 업데이트 실패",description:de.message||"프로필 업데이트에 실패했습니다.",variant:"destructive"})}finally{m(!1)}},B=async()=>{p(!0);try{const{error:P}=await re.auth.resetPasswordForEmail(j.email,{redirectTo:`${window.location.origin}/reset-password`});if(P)throw P;e({title:(o==null?void 0:o.emailResetSuccess)||"이메일 재설정 링크 전송",description:"이메일 재설정 링크가 전송되었습니다. 이메일을 확인해주세요."})}catch(P){console.error("이메일 재설정 실패:",P),e({title:(o==null?void 0:o.emailResetError)||"이메일 재설정 실패",description:P.message||"이메일 재설정 링크 전송에 실패했습니다.",variant:"destructive"})}finally{p(!1)}},$=async P=>{P.preventDefault(),g(!0);try{if(!j.newPassword)throw new Error("새 비밀번호를 입력해주세요");if(j.newPassword!==j.confirmPassword)throw new Error((o==null?void 0:o.passwordMismatch)||"비밀번호가 일치하지 않습니다");if(j.newPassword.length<6)throw new Error((o==null?void 0:o.passwordTooShort)||"비밀번호는 최소 6자 이상이어야 합니다");const{error:H}=await re.auth.updateUser({password:j.newPassword});if(H)throw H;e({title:(o==null?void 0:o.passwordChangeSuccess)||"비밀번호 변경 성공",description:"비밀번호가 성공적으로 변경되었습니다."}),k({...j,currentPassword:"",newPassword:"",confirmPassword:""})}catch(H){console.error("비밀번호 변경 실패:",H),e({title:(o==null?void 0:o.passwordChangeError)||"비밀번호 변경 실패",description:H.message||"비밀번호 변경에 실패했습니다.",variant:"destructive"})}finally{g(!1)}},W=async()=>{g(!0);try{const{error:P}=await re.auth.resetPasswordForEmail((i==null?void 0:i.email)||"",{redirectTo:`${window.location.origin}/reset-password`});if(P)throw P;e({title:(o==null?void 0:o.passwordResetSuccess)||"비밀번호 재설정 링크 전송",description:"비밀번호 재설정 링크가 전송되었습니다. 이메일을 확인해주세요."})}catch(P){console.error("비밀번호 재설정 실패:",P),e({title:(o==null?void 0:o.passwordResetError)||"비밀번호 재설정 실패",description:P.message||"비밀번호 재설정 링크 전송에 실패했습니다.",variant:"destructive"})}finally{g(!1)}},_=P=>P.split(" ").map(H=>H[0]).join("").toUpperCase().slice(0,2),R=P=>{switch(P){case"admin":return"bg-gradient-to-r from-red-500 to-pink-500";case"manager":return"bg-gradient-to-r from-blue-500 to-purple-500";default:return"bg-gradient-to-r from-green-500 to-emerald-500"}},O=P=>{console.log("=== 활성화 상태 로컬 변경 ==="),console.log("현재 상태:",j.is_active),console.log("변경할 상태:",P),k({...j,is_active:P}),console.log("✅ 활성화 상태 로컬 변경 완료"),e({title:P?"활성화 상태로 변경됨":"비활성화 상태로 변경됨",description:"저장 버튼을 눌러 변경사항을 저장하세요.",variant:"default"})};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-800",children:s.jsx("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsx("div",{className:"mb-8",children:s.jsx(Pe,{className:"border-0 shadow-xl overflow-hidden bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 p-1",children:s.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-lg p-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[s.jsxs("div",{className:"relative group",children:[s.jsxs(ys,{className:"h-32 w-32 border-4 border-white shadow-xl",children:[s.jsx(no,{src:i==null?void 0:i.avatar,alt:i==null?void 0:i.name}),s.jsx(ws,{className:"text-2xl font-bold bg-gradient-to-r from-blue-500 to-purple-500 text-white",children:i!=null&&i.name?_(i.name):"U"})]}),s.jsx(X,{size:"icon",variant:"secondary",className:"absolute bottom-0 right-0 rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(iO,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex-1 text-center md:text-left",children:[s.jsxs("div",{className:"flex items-center gap-3 justify-center md:justify-start mb-2",children:[s.jsx("h1",{className:"text-3xl font-bold",children:(i==null?void 0:i.name)||"사용자"}),s.jsxs(Le,{className:se("text-white border-0",R(i==null?void 0:i.role)),children:[(i==null?void 0:i.role)==="admin"&&"관리자",(i==null?void 0:i.role)==="manager"&&"매니저",(!(i!=null&&i.role)||(i==null?void 0:i.role)==="user")&&"사용자"]})]}),s.jsx("p",{className:"text-muted-foreground mb-4",children:i==null?void 0:i.email}),s.jsxs("div",{className:"flex flex-wrap gap-3 justify-center md:justify-start",children:[s.jsxs(Le,{variant:"secondary",className:"flex items-center gap-1 px-3 py-1",children:[s.jsx(pn,{className:"h-3 w-3"}),(()=>{var L;const P=(i==null?void 0:i.department_id)||(n==null?void 0:n.department_id),H=(i==null?void 0:i.department_name)||(n==null?void 0:n.department_name)||((L=c.find(M=>M.id===P))==null?void 0:L.name);return console.log("부서 표시 디버그:",{departmentId:P,departmentName:H,profileDeptId:i==null?void 0:i.department_id,profileDeptName:i==null?void 0:i.department_name,currentUserDeptId:n==null?void 0:n.department_id,currentUserDeptName:n==null?void 0:n.department_name,departmentsCount:c.length}),H||"부서 미지정"})()]}),s.jsxs(Le,{variant:"secondary",className:"flex items-center gap-1 px-3 py-1",children:[s.jsx(Al,{className:"h-3 w-3"}),r==="ko"?"한국어":r==="en"?"English":r==="th"?"ไทย":"中文"]}),s.jsxs(Le,{variant:"secondary",className:"flex items-center gap-1 px-3 py-1",children:[s.jsx(Va,{className:"h-3 w-3"}),j.is_active?"활성":"비활성"]})]})]}),s.jsx("div",{className:"flex flex-col gap-3 items-center",children:s.jsxs("div",{className:"text-center p-4 rounded-lg bg-slate-50 dark:bg-slate-800",children:[s.jsx(Qc,{className:"h-8 w-8 mx-auto mb-2 text-yellow-500"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"멤버십"}),s.jsx("p",{className:"font-bold",children:"SVIP"})]})})]})})})}),s.jsx("div",{className:"grid gap-6",children:s.jsxs(ai,{defaultValue:"personal-info",className:"w-full",children:[s.jsxs(xo,{className:"h-12 p-1.5 bg-white dark:bg-slate-800 shadow-lg border-0 mb-6",children:[s.jsxs(Jt,{value:"personal-info",className:se("h-9 px-6 font-medium transition-all duration-200","data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-purple-500","data-[state=active]:text-white data-[state=active]:shadow-lg"),children:[s.jsx(nr,{className:"w-4 w-4 mr-2"}),(o==null?void 0:o.personalInfo)||"개인 정보"]}),s.jsxs(Jt,{value:"password",className:se("h-9 px-6 font-medium transition-all duration-200","data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-pink-500","data-[state=active]:text-white data-[state=active]:shadow-lg"),children:[s.jsx(Fw,{className:"w-4 w-4 mr-2"}),(o==null?void 0:o.passwordChange)||"비밀번호 변경"]}),s.jsxs(Jt,{value:"account",className:se("h-9 px-6 font-medium transition-all duration-200","data-[state=active]:bg-gradient-to-r data-[state=active]:from-pink-500 data-[state=active]:to-orange-500","data-[state=active]:text-white data-[state=active]:shadow-lg"),children:[s.jsx(mn,{className:"w-4 w-4 mr-2"}),(o==null?void 0:o.accountSettings)||"계정 설정"]})]}),s.jsx(Qt,{value:"personal-info",children:s.jsxs(Pe,{className:"border-0 shadow-xl",children:[s.jsxs(ft,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-t-xl",children:[s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(nr,{className:"w-5 h-5"}),(o==null?void 0:o.personalInfo)||"개인 정보"]}),s.jsx(Ct,{className:"text-white/80",children:(o==null?void 0:o.updateProfileInfo)||"프로필 정보를 업데이트하세요."})]}),s.jsx(Ee,{className:"p-6",children:s.jsxs("form",{onSubmit:T,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ue,{htmlFor:"name",className:"flex items-center gap-2",children:[s.jsx(Qi,{className:"h-4 w-4 text-muted-foreground"}),(o==null?void 0:o.name)||"이름"]}),s.jsxs("div",{className:"relative",children:[s.jsx(fe,{id:"name",name:"name",value:j.name,onChange:A,placeholder:"이름을 입력하세요",required:!0,className:"pr-10 border-0 bg-slate-50 dark:bg-slate-800"}),s.jsx(Xs,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-purple-500"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ue,{htmlFor:"email",className:"flex items-center gap-2",children:[s.jsx(cc,{className:"w-4 h-4 text-muted-foreground"}),(o==null?void 0:o.email)||"이메일"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(fe,{id:"email",name:"email",type:"email",value:j.email,onChange:A,placeholder:"email@example.com",required:!0,className:"flex-1 border-0 bg-slate-50 dark:bg-slate-800"}),s.jsx(X,{type:"button",variant:"outline",onClick:B,disabled:f||!j.email,className:"shrink-0",children:s.jsx(Ar,{className:se("h-4 w-4",f&&"animate-spin")})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:(o==null?void 0:o.emailResetDescription)||"이메일 재설정 버튼을 클릭하면 새 이메일로 확인 링크가 전송됩니다."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ue,{htmlFor:"department",className:"flex items-center gap-2",children:[s.jsx(pn,{className:"h-4 w-4 text-muted-foreground"}),(o==null?void 0:o.department)||"부서"]}),s.jsxs(Oe,{value:j.department_id,onValueChange:P=>C("department_id",P),disabled:b,children:[s.jsx(Re,{className:"border-0 bg-slate-50 dark:bg-slate-800",children:s.jsx(Ie,{placeholder:b?"부서 로딩중...":(o==null?void 0:o.selectDepartment)||"부서 선택"})}),s.jsx(Ae,{children:c.map(P=>s.jsx(ce,{value:P.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pn,{className:"h-4 w-4"}),P.name]})},P.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ue,{htmlFor:"phone",className:"flex items-center gap-2",children:[s.jsx(Qi,{className:"h-4 w-4 text-muted-foreground"}),"전화번호"]}),s.jsxs("div",{className:"relative",children:[s.jsx(fe,{id:"phone",name:"phone",value:j.phone,onChange:A,placeholder:"전화번호를 입력하세요",className:"pr-10 border-0 bg-slate-50 dark:bg-slate-800"}),s.jsx(Xs,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-purple-500"})]})]})]}),s.jsxs("div",{className:"pt-6 mt-6 border-t",children:[s.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[s.jsx(mn,{className:"w-5 h-5 text-blue-500"}),(o==null?void 0:o.loginInfo)||"로그인 정보"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Pe,{className:"border-0 bg-blue-50 dark:bg-blue-900/20",children:s.jsx(Ee,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/50",children:s.jsx(Lw,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:(o==null?void 0:o.loginMethod)||"로그인 방식"}),s.jsx("div",{className:"font-medium",children:(i==null?void 0:i.login_method)==="microsoft"?(o==null?void 0:o.microsoftLogin)||"Microsoft":(o==null?void 0:o.emailPasswordLogin)||"이메일/비밀번호"})]})]})})}),s.jsx(Pe,{className:"border-0 bg-purple-50 dark:bg-purple-900/20",children:s.jsx(Ee,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-purple-100 dark:bg-purple-900/50",children:s.jsx(sr,{className:"h-5 w-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:(o==null?void 0:o.lastLogin)||"마지막 로그인"}),s.jsx("div",{className:"font-medium",children:i!=null&&i.last_login?new Date(i.last_login).toLocaleString():new Date().toLocaleString()})]})]})})})]})]}),s.jsx("div",{className:"pt-6 mt-6 border-t",children:s.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-gradient-to-r from-slate-50 to-blue-50 dark:from-slate-800 dark:to-blue-900/20 border border-slate-200 dark:border-slate-700",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/50",children:s.jsx(Va,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white",children:"계정 활성화 상태"}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:j.is_active?"계정이 활성화되어 모든 기능을 사용할 수 있습니다.":"계정이 비활성화되어 일부 기능이 제한됩니다."})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:se("text-sm font-medium",j.is_active?"text-green-600":"text-red-600"),children:j.is_active?"활성":"비활성"}),s.jsx(Nl,{checked:j.is_active,onCheckedChange:O,disabled:x,className:"data-[state=checked]:bg-green-500"})]})]})}),s.jsxs("div",{className:"flex justify-end pt-4",children:[s.jsx(X,{type:"submit",disabled:d||b,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white shadow-lg",children:d?s.jsxs(s.Fragment,{children:[s.jsx(Ar,{className:"h-4 w-4 mr-2 animate-spin"}),(o==null?void 0:o.saving)||"저장 중..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Lh,{className:"h-4 w-4 mr-2"}),(o==null?void 0:o.save)||"저장"]})}),!1]})]})})]})}),s.jsx(Qt,{value:"password",children:s.jsxs(Pe,{className:"border-0 shadow-xl",children:[s.jsxs(ft,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-t-xl",children:[s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(Fw,{className:"w-5 h-5"}),(o==null?void 0:o.passwordChange)||"비밀번호 변경"]}),s.jsx(Ct,{className:"text-white/80",children:(o==null?void 0:o.securityDescription)||"보안을 위해 정기적으로 비밀번호를 변경하세요."})]}),s.jsx(Ee,{className:"p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Pe,{className:"border-0 bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20",children:s.jsx(Ee,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-full bg-blue-100 dark:bg-blue-900/50",children:s.jsx(cc,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold mb-2",children:(o==null?void 0:o.passwordReset)||"비밀번호 재설정"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:(o==null?void 0:o.passwordResetDescription)||"이메일로 비밀번호 재설정 링크를 받으실 수 있습니다."}),s.jsx(X,{onClick:W,disabled:v,variant:"outline",className:"bg-white dark:bg-slate-800",children:v?s.jsxs(s.Fragment,{children:[s.jsx(Ar,{className:"h-4 w-4 mr-2 animate-spin"}),(o==null?void 0:o.sendingInProgress)||"전송 중..."]}):s.jsxs(s.Fragment,{children:[s.jsx(cc,{className:"h-4 w-4 mr-2"}),(o==null?void 0:o.sendPasswordReset)||"비밀번호 재설정 링크 보내기"]})})]})]})})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[s.jsx(Lw,{className:"h-5 w-5 text-purple-500"}),(o==null?void 0:o.directPasswordChange)||"직접 비밀번호 변경"]}),s.jsxs("form",{onSubmit:$,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"newPassword",children:(o==null?void 0:o.newPassword)||"새 비밀번호"}),s.jsx(fe,{id:"newPassword",name:"newPassword",type:"password",value:j.newPassword,onChange:A,placeholder:"새 비밀번호를 입력하세요",className:"border-0 bg-slate-50 dark:bg-slate-800"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"confirmPassword",children:(o==null?void 0:o.confirmPassword)||"비밀번호 확인"}),s.jsx(fe,{id:"confirmPassword",name:"confirmPassword",type:"password",value:j.confirmPassword,onChange:A,placeholder:"새 비밀번호를 다시 입력하세요",className:"border-0 bg-slate-50 dark:bg-slate-800"})]}),s.jsx(X,{type:"submit",disabled:v,className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white",children:v?s.jsxs(s.Fragment,{children:[s.jsx(Ar,{className:"h-4 w-4 mr-2 animate-spin"}),(o==null?void 0:o.changingInProgress)||"변경 중..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Lh,{className:"h-4 w-4 mr-2"}),(o==null?void 0:o.changePassword)||"비밀번호 변경"]})})]})]})]})})]})}),s.jsx(Qt,{value:"account",children:s.jsxs(Pe,{className:"border-0 shadow-xl",children:[s.jsxs(ft,{className:"bg-gradient-to-r from-pink-500 to-orange-500 text-white rounded-t-xl",children:[s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(mn,{className:"w-5 h-5"}),(o==null?void 0:o.accountSettings)||"계정 설정"]}),s.jsx(Ct,{className:"text-white/80",children:(o==null?void 0:o.accountSettingsDescription)||"계정과 관련된 설정을 관리합니다."})]}),s.jsx(Ee,{className:"p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white dark:bg-slate-800",children:[s.jsxs("span",{className:"text-muted-foreground flex items-center gap-2",children:[s.jsx(Qi,{className:"h-4 w-4"}),(o==null?void 0:o.name)||"이름"]}),s.jsx("span",{className:"font-medium",children:i==null?void 0:i.name})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white dark:bg-slate-800",children:[s.jsxs("span",{className:"text-muted-foreground flex items-center gap-2",children:[s.jsx(cc,{className:"h-4 w-4"}),(o==null?void 0:o.email)||"이메일"]}),s.jsx("span",{className:"font-medium",children:i==null?void 0:i.email})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white dark:bg-slate-800",children:[s.jsxs("span",{className:"text-muted-foreground flex items-center gap-2",children:[s.jsx(mn,{className:"h-4 w-4"}),(o==null?void 0:o.role)||"역할"]}),s.jsxs(Le,{className:se("text-white border-0",R(i==null?void 0:i.role)),children:[(i==null?void 0:i.role)==="admin"&&"관리자",(i==null?void 0:i.role)==="manager"&&"매니저",(!(i!=null&&i.role)||(i==null?void 0:i.role)==="user")&&"사용자"]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-white dark:bg-slate-800",children:[s.jsxs("span",{className:"text-muted-foreground flex items-center gap-2",children:[s.jsx(pn,{className:"h-4 w-4"}),(o==null?void 0:o.department)||"부서"]}),s.jsx("span",{className:"font-medium",children:((ne=c.find(P=>P.id===(i==null?void 0:i.department_id)))==null?void 0:ne.name)||"미지정"})]})]})}),s.jsx("div",{className:"border-t pt-6 mt-6"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-red-600 flex items-center gap-2",children:[s.jsx(mn,{className:"w-5 h-5"}),(o==null?void 0:o.dangerZone)||"계정 관리"]}),s.jsx(Pe,{className:"border-red-200 bg-red-50 dark:bg-red-900/20",children:s.jsx(Ee,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-red-100 dark:bg-red-900/50",children:s.jsx(Va,{className:"h-5 w-5 text-red-600"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-red-800 dark:text-red-200",children:"계정 활성화 상태"}),s.jsx("p",{className:"text-sm text-red-600 dark:text-red-300",children:j.is_active?"계정이 활성화되어 있습니다. 비활성화하면 일부 기능이 제한됩니다.":"계정이 비활성화되어 있습니다. 활성화하면 모든 기능을 사용할 수 있습니다."})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:se("text-sm font-medium",j.is_active?"text-green-600":"text-red-600"),children:j.is_active?"활성":"비활성"}),s.jsx(Nl,{checked:j.is_active,onCheckedChange:O,disabled:x,className:"data-[state=checked]:bg-green-500"})]})]})})})]})]})})]})})]})})]})})})}const pr=h.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:se("w-full caption-bottom text-sm",e),...t})}));pr.displayName="Table";const gr=h.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:se("[&_tr]:border-b",e),...t}));gr.displayName="TableHeader";const xr=h.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:se("[&_tr:last-child]:border-0",e),...t}));xr.displayName="TableBody";const oz=h.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:se("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));oz.displayName="TableFooter";const ot=h.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:se("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));ot.displayName="TableRow";const we=h.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:se("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));we.displayName="TableHead";const ge=h.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:se("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ge.displayName="TableCell";const iz=h.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:se("mt-4 text-sm text-muted-foreground",e),...t}));iz.displayName="TableCaption";var Cv="Checkbox",[lz,XB]=Cs(Cv),[cz,dz]=lz(Cv),uC=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:o,required:i,disabled:l,value:c="on",onCheckedChange:u,form:d,...m}=e,[f,p]=h.useState(null),v=ut(t,j=>p(j)),g=h.useRef(!1),b=f?d||!!f.closest("form"):!0,[y=!1,x]=Qs({prop:a,defaultProp:o,onChange:u}),w=h.useRef(y);return h.useEffect(()=>{const j=f==null?void 0:f.form;if(j){const k=()=>x(w.current);return j.addEventListener("reset",k),()=>j.removeEventListener("reset",k)}},[f,x]),s.jsxs(cz,{scope:r,state:y,disabled:l,children:[s.jsx(Be.button,{type:"button",role:"checkbox","aria-checked":Ha(y)?"mixed":y,"aria-required":i,"data-state":fC(y),"data-disabled":l?"":void 0,disabled:l,value:c,...m,ref:v,onKeyDown:_e(e.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:_e(e.onClick,j=>{x(k=>Ha(k)?!0:!k),b&&(g.current=j.isPropagationStopped(),g.current||j.stopPropagation())})}),b&&s.jsx(uz,{control:f,bubbles:!g.current,name:n,value:c,checked:y,required:i,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Ha(o)?!1:o})]})});uC.displayName=Cv;var hC="CheckboxIndicator",mC=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,o=dz(hC,r);return s.jsx(ts,{present:n||Ha(o.state)||o.state===!0,children:s.jsx(Be.span,{"data-state":fC(o.state),"data-disabled":o.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});mC.displayName=hC;var uz=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:a,...o}=e,i=h.useRef(null),l=X0(r),c=J0(t);h.useEffect(()=>{const d=i.current,m=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(m,"checked").set;if(l!==r&&p){const v=new Event("click",{bubbles:n});d.indeterminate=Ha(r),p.call(d,Ha(r)?!1:r),d.dispatchEvent(v)}},[l,r,n]);const u=h.useRef(Ha(r)?!1:r);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??u.current,...o,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ha(e){return e==="indeterminate"}function fC(e){return Ha(e)?"indeterminate":e?"checked":"unchecked"}var pC=uC,hz=mC;const qd=h.forwardRef(({className:e,...t},r)=>s.jsx(pC,{ref:r,className:se("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(hz,{className:se("flex items-center justify-center text-current"),children:s.jsx(Is,{className:"h-4 w-4"})})}));qd.displayName=pC.displayName;const mz=[{id:"admin",name:"관리자",permissions:["all"]},{id:"manager",name:"매니저",permissions:["view","edit","create"]},{id:"user",name:"일반 사용자",permissions:["view"]}],fz=({initialUsers:e=[]})=>{const{toast:t}=Pr(),[r,n]=h.useState(e),[a,o]=h.useState([]),[i,l]=h.useState([]),[c,u]=h.useState([]),[d,m]=h.useState("all"),[f,p]=h.useState("all"),[v,g]=h.useState("all"),[b,y]=h.useState("");h.useState(!1),h.useState(!1);const[x,w]=h.useState(null),[j,k]=h.useState(!1),[A,C]=h.useState(!1),[T,B]=h.useState({name:"",email:"",department:"",position:"",corporation:"",country:"",role:"user",password:"",confirmPassword:""});h.useState(!1);const[$,W]=h.useState([]),[_,R]=h.useState(!1),O=[{code:"KR",name:"한국"},{code:"TH",name:"태국"},{code:"CN",name:"중국"}],ne=r.filter(S=>!(d!=="all"&&S.department!==d||f!=="all"&&S.country!==f||v!=="all"&&S.corporation!==v||b&&!S.name.toLowerCase().includes(b.toLowerCase())));h.useEffect(()=>{P(),H(),L(),M(),F()},[]);const P=async()=>{try{const{data:S,error:K}=await re.from("users").select(`
          *,
          departments!department_id(id, name, code),
          corporations!corporation_id(id, name, code),
          positions!position_id(id, name, code)
        `).order("name");if(K)throw K;console.log("Fetched users data:",S);const te=(S==null?void 0:S.map(Q=>({...Q,department:Q.departments,corporation:Q.corporations,position:Q.positions})))||[];n(te)}catch(S){console.error("Error fetching users:",S),t({title:"에러",description:"사용자 목록을 불러오는데 실패했습니다.",variant:"destructive"})}},H=async()=>{try{const{data:S,error:K}=await re.from("departments").select("*").order("name");if(K)throw K;console.log("Fetched departments data:",S),o(S||[])}catch(S){console.error("Error fetching departments:",S),t({title:"에러",description:"부서 목록을 불러오는데 실패했습니다.",variant:"destructive"})}},L=async()=>{try{const{data:S,error:K}=await re.from("positions").select("*").order("level");if(K)throw K;console.log("Fetched positions data:",S),l(S||[])}catch(S){console.error("Error fetching positions:",S),t({title:"에러",description:"직책 목록을 불러오는데 실패했습니다.",variant:"destructive"})}},M=async()=>{try{const{data:S,error:K}=await re.from("corporations").select("*").order("name");if(K)throw K;console.log("Fetched corporations data:",S),u(S||[])}catch(S){console.error("Error fetching corporations:",S),t({title:"에러",description:"법인 목록을 불러오는데 실패했습니다.",variant:"destructive"})}},F=async()=>{try{const{data:S,error:K}=await re.from("user_manager_sync_status").select("*").order("user_email");if(K)throw K;console.log("Fetched sync status data:",S),W(S||[])}catch(S){console.error("Error fetching sync status:",S)}},G=async()=>{try{const{data:S,error:K}=await re.rpc("sync_existing_users_managers");if(K)throw K;t({title:"동기화 완료",description:S||"사용자와 담당자 정보가 동기화되었습니다."}),await P(),await F()}catch(S){console.error("Error syncing users and managers:",S),t({title:"동기화 실패",description:"사용자와 담당자 동기화 중 오류가 발생했습니다.",variant:"destructive"})}},q=async()=>{if(x)try{const{error:S}=await re.auth.resetPasswordForEmail(x.email,{redirectTo:`${window.location.origin}/reset-password`});if(S)throw S;t({title:"성공",description:"비밀번호 재설정 이메일이 발송되었습니다."})}catch(S){console.error("Error resetting password:",S),t({title:"에러",description:"비밀번호 재설정 이메일 발송에 실패했습니다.",variant:"destructive"})}},de=async S=>{var K,te,Q,oe,xe,Ne,Se;if(S.preventDefault(),!A&&T.password!==T.confirmPassword){t({title:"에러",description:"비밀번호가 일치하지 않습니다.",variant:"destructive"});return}try{if(A&&x){const Je=(K=a.find(E=>E.code===T.department))==null?void 0:K.id,Ze=(te=c.find(E=>E.code===T.corporation))==null?void 0:te.id,Qe=(Q=i.find(E=>E.code===T.position))==null?void 0:Q.id,{error:V}=await re.from("users").update({name:T.name,email:T.email,role:T.role,department_id:Je||null,corporation_id:Ze||null,position_id:Qe||null,country:T.country||null}).eq("id",x.id);if(V)throw V;t({title:"성공",description:"사용자 정보가 수정되었습니다."})}else{const{data:Je,error:Ze}=await re.auth.signUp({email:T.email,password:T.password});if(Ze)throw Ze;const Qe=(oe=a.find(ae=>ae.code===T.department))==null?void 0:oe.id,V=(xe=c.find(ae=>ae.code===T.corporation))==null?void 0:xe.id,E=(Ne=i.find(ae=>ae.code===T.position))==null?void 0:Ne.id,{error:Y}=await re.from("users").insert([{id:(Se=Je.user)==null?void 0:Se.id,name:T.name,email:T.email,role:T.role,department_id:Qe||null,corporation_id:V||null,position_id:E||null,country:T.country||null}]);if(Y)throw Y;t({title:"성공",description:"새로운 사용자가 등록되었습니다."})}k(!1),ee(),P()}catch(Je){console.error("Error saving user:",Je),t({title:"에러",description:"사용자 저장에 실패했습니다.",variant:"destructive"})}},z=S=>{var K,te,Q;w(S),B({name:S.name,email:S.email,department:((K=S.department)==null?void 0:K.code)||S.department||"",position:((te=S.position)==null?void 0:te.code)||S.position||"",corporation:((Q=S.corporation)==null?void 0:Q.code)||S.corporation||"",country:S.country||"",role:S.role||"user",password:"",confirmPassword:""}),C(!0),k(!0)},ee=()=>{B({name:"",email:"",department:"",position:"",corporation:"",country:"",role:"user",password:"",confirmPassword:""}),w(null),C(!1)},U=()=>{ee(),k(!0)};return s.jsxs(s.Fragment,{children:[s.jsxs(Pe,{children:[s.jsxs(ft,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(pt,{children:"사용자 관리"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(X,{variant:"outline",size:"sm",onClick:()=>R(!0),className:"flex items-center gap-2",children:[s.jsx(us,{className:"h-4 w-4"}),"담당자 연동 상태"]}),s.jsxs(X,{variant:"outline",size:"sm",onClick:G,className:"flex items-center gap-2",children:[s.jsx(Ar,{className:"h-4 w-4"}),"동기화"]}),s.jsxs(X,{size:"sm",onClick:U,children:[s.jsx(_n,{className:"mr-2 h-4 w-4"}),"새 사용자"]})]})]}),s.jsx(Ct,{children:"시스템 사용자 계정을 생성하고 관리합니다. 이메일 기준으로 담당자와 자동 연동됩니다."})]}),s.jsx(Ee,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 md:grid-cols-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"search",className:"text-xs",children:"검색"}),s.jsx(fe,{id:"search",placeholder:"사용자 검색...",value:b,onChange:S=>y(S.target.value)})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"department",className:"text-xs",children:"부서"}),s.jsxs(Oe,{value:d,onValueChange:m,children:[s.jsx(Re,{id:"department",children:s.jsx(Ie,{placeholder:"부서 선택"})}),s.jsxs(Ae,{children:[s.jsx(ce,{value:"all",children:"모든 부서"}),a.map(S=>s.jsx(ce,{value:S.code,children:S.name},S.id))]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"country",className:"text-xs",children:"국가"}),s.jsxs(Oe,{value:f,onValueChange:p,children:[s.jsxs(Re,{id:"country",className:"flex items-center",children:[s.jsx(Al,{className:"mr-2 h-4 w-4"}),s.jsx(Ie,{placeholder:"국가 선택"})]}),s.jsxs(Ae,{children:[s.jsx(ce,{value:"all",children:"모든 국가"}),s.jsx(ce,{value:"KR",children:"한국"}),s.jsx(ce,{value:"TH",children:"태국"}),s.jsx(ce,{value:"CN",children:"중국"})]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"corporation",className:"text-xs",children:"법인"}),s.jsxs(Oe,{value:v,onValueChange:g,children:[s.jsxs(Re,{id:"corporation",className:"flex items-center",children:[s.jsx(Ah,{className:"mr-2 h-4 w-4"}),s.jsx(Ie,{placeholder:"법인 선택"})]}),s.jsxs(Ae,{children:[s.jsx(ce,{value:"all",children:"모든 법인"}),c.map(S=>s.jsx(ce,{value:S.code,children:S.name},S.id))]})]})]})]}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(pr,{children:[s.jsx(gr,{children:s.jsxs(ot,{children:[s.jsx(we,{children:"사용자 이름"}),s.jsx(we,{children:"이메일"}),s.jsx(we,{children:"부서"}),s.jsx(we,{children:"법인"}),s.jsx(we,{children:"담당자 연동"}),s.jsx(we,{className:"text-right",children:"관리"})]})}),s.jsx(xr,{children:ne.length>0?ne.map(S=>{var te,Q;const K=$.find(oe=>oe.user_email===S.email);return s.jsxs(ot,{children:[s.jsx(ge,{className:"font-medium",children:S.name}),s.jsx(ge,{className:"text-sm text-muted-foreground",children:S.email}),s.jsx(ge,{children:((te=S.department)==null?void 0:te.name)||"-"}),s.jsx(ge,{children:((Q=S.corporation)==null?void 0:Q.name)||"-"}),s.jsx(ge,{children:s.jsx("div",{className:"flex items-center gap-2",children:K?s.jsxs(s.Fragment,{children:[K.sync_status==="연동됨"?s.jsx(Sr,{className:"h-4 w-4 text-green-500"}):K.sync_status==="담당자 없음"?s.jsx(rr,{className:"h-4 w-4 text-yellow-500"}):s.jsx(yi,{className:"h-4 w-4 text-red-500"}),s.jsx("span",{className:"text-sm",children:K.sync_status})]}):s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"확인 중"})]})})}),s.jsx(ge,{className:"text-right",children:s.jsx("div",{className:"flex justify-end gap-1",children:s.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>z(S),children:[s.jsx(ho,{className:"h-4 w-4"}),"편집"]})})})]},S.id)}):s.jsx(ot,{children:s.jsx(ge,{colSpan:6,className:"h-24 text-center",children:"검색 결과가 없습니다"})})})]})})]})})]}),s.jsx(kt,{open:j,onOpenChange:k,children:s.jsxs(bt,{children:[s.jsx(jt,{children:s.jsx(Nt,{children:A?"사용자 정보 수정":"새 사용자 등록"})}),s.jsxs("form",{onSubmit:de,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"name",children:"이름 *"}),s.jsx(fe,{id:"name",value:T.name,onChange:S=>B({...T,name:S.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"email",children:"이메일 *"}),s.jsx(fe,{id:"email",type:"email",value:T.email,onChange:S=>B({...T,email:S.target.value}),required:!0})]}),!A&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"password",children:"비밀번호 *"}),s.jsx(fe,{id:"password",type:"password",value:T.password,onChange:S=>B({...T,password:S.target.value}),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"confirmPassword",children:"비밀번호 확인 *"}),s.jsx(fe,{id:"confirmPassword",type:"password",value:T.confirmPassword,onChange:S=>B({...T,confirmPassword:S.target.value}),required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"department",children:"부서"}),s.jsxs(Oe,{value:T.department,onValueChange:S=>B({...T,department:S}),children:[s.jsx(Re,{id:"department",children:s.jsx(Ie,{placeholder:"부서 선택"})}),s.jsx(Ae,{children:a.map(S=>s.jsx(ce,{value:S.code,children:S.name},S.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"position",children:"직책"}),s.jsxs(Oe,{value:T.position,onValueChange:S=>B({...T,position:S}),children:[s.jsx(Re,{id:"position",children:s.jsx(Ie,{placeholder:"직책 선택"})}),s.jsx(Ae,{children:i.map(S=>s.jsx(ce,{value:S.code,children:S.name},S.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"corporation",children:"법인"}),s.jsxs(Oe,{value:T.corporation,onValueChange:S=>B({...T,corporation:S}),children:[s.jsx(Re,{id:"corporation",children:s.jsx(Ie,{placeholder:"법인 선택"})}),s.jsx(Ae,{children:c.map(S=>s.jsx(ce,{value:S.code,children:S.name},S.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"country",children:"국가"}),s.jsxs(Oe,{value:T.country,onValueChange:S=>B({...T,country:S}),children:[s.jsx(Re,{id:"country",children:s.jsx(Ie,{placeholder:"국가 선택"})}),s.jsx(Ae,{children:O.map(S=>s.jsx(ce,{value:S.code,children:S.name},S.code))})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{children:"역할"}),s.jsx("div",{className:"grid grid-cols-1 gap-2",children:mz.map(S=>s.jsxs("label",{className:"flex items-center space-x-2 p-2 rounded border",children:[s.jsx(qd,{checked:T.role===S.id,onCheckedChange:()=>B({...T,role:S.id})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:S.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:["권한: ",S.permissions.map(K=>K==="all"?"모든 권한":K==="view"?"조회":K==="edit"?"수정":K==="create"?"생성":K).join(", ")]})]})]},S.id))})]}),A&&s.jsx("div",{className:"space-y-2",children:s.jsxs(X,{type:"button",variant:"outline",onClick:q,className:"w-full",children:[s.jsx(vO,{className:"w-4 h-4 mr-2"}),"비밀번호 재설정 이메일 발송"]})}),s.jsxs($t,{children:[s.jsx(X,{type:"button",variant:"outline",onClick:()=>k(!1),children:"취소"}),s.jsx(X,{type:"submit",children:A?"수정":"등록"})]})]})]})}),s.jsx(kt,{open:_,onOpenChange:R,children:s.jsxs(bt,{className:"max-w-4xl",children:[s.jsx(jt,{children:s.jsxs(Nt,{className:"flex items-center gap-2",children:[s.jsx(us,{className:"h-5 w-5"}),"사용자-담당자 연동 상태"]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"이메일 기준으로 사용자와 담당자 연동 상태를 확인할 수 있습니다."}),s.jsxs(X,{variant:"outline",size:"sm",onClick:F,className:"flex items-center gap-2",children:[s.jsx(Ar,{className:"h-4 w-4"}),"새로고침"]})]}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(pr,{children:[s.jsx(gr,{children:s.jsxs(ot,{children:[s.jsx(we,{children:"사용자 이름"}),s.jsx(we,{children:"이메일"}),s.jsx(we,{children:"사용자 부서"}),s.jsx(we,{children:"담당자 이름"}),s.jsx(we,{children:"연동 상태"}),s.jsx(we,{children:"이름 일치"})]})}),s.jsx(xr,{children:$.length>0?$.map((S,K)=>s.jsxs(ot,{children:[s.jsx(ge,{className:"font-medium",children:S.user_name||"-"}),s.jsx(ge,{className:"text-sm",children:S.user_email||S.manager_email}),s.jsx(ge,{children:S.user_department_name||"-"}),s.jsx(ge,{children:S.manager_name||"-"}),s.jsx(ge,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[S.sync_status==="연동됨"?s.jsx(Sr,{className:"h-4 w-4 text-green-500"}):S.sync_status==="담당자 없음"?s.jsx(rr,{className:"h-4 w-4 text-yellow-500"}):S.sync_status==="사용자 없음"?s.jsx(yi,{className:"h-4 w-4 text-blue-500"}):s.jsx(yi,{className:"h-4 w-4 text-red-500"}),s.jsx("span",{className:"text-sm",children:S.sync_status})]})}),s.jsx(ge,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[S.name_match_status==="일치"?s.jsx(Sr,{className:"h-4 w-4 text-green-500"}):S.name_match_status==="불일치"?s.jsx(yi,{className:"h-4 w-4 text-red-500"}):s.jsx(rr,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm",children:S.name_match_status})]})})]},K)):s.jsx(ot,{children:s.jsx(ge,{colSpan:6,className:"h-24 text-center",children:"동기화 상태 정보가 없습니다"})})})]})}),s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-muted rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Sr,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-sm",children:"연동됨"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rr,{className:"h-4 w-4 text-yellow-500"}),s.jsx("span",{className:"text-sm",children:"담당자 없음"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yi,{className:"h-4 w-4 text-blue-500"}),s.jsx("span",{className:"text-sm",children:"사용자 없음"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yi,{className:"h-4 w-4 text-red-500"}),s.jsx("span",{className:"text-sm",children:"연동 불가"})]})]})]}),s.jsxs($t,{children:[s.jsxs(X,{variant:"outline",onClick:G,className:"flex items-center gap-2",children:[s.jsx(Ar,{className:"h-4 w-4"}),"전체 동기화 실행"]}),s.jsx(X,{onClick:()=>R(!1),children:"닫기"})]})]})})]})},pz=({clients:e,projects:t})=>{const[r,n]=h.useState(""),a=e.filter(o=>r===""||o.name.toLowerCase().includes(r.toLowerCase()));return s.jsxs(Pe,{children:[s.jsxs(ft,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(pt,{children:"고객사 관리"}),s.jsxs(X,{size:"sm",children:[s.jsx(B0,{className:"mr-2 h-4 w-4"}),"새 고객사"]})]}),s.jsx(Ct,{children:"고객사 정보를 생성하고 관리합니다."})]}),s.jsx(Ee,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(fe,{placeholder:"고객사 검색...",className:"max-w-sm",value:r,onChange:o=>n(o.target.value)}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(pr,{children:[s.jsx(gr,{children:s.jsxs(ot,{children:[s.jsx(we,{children:"고객사명"}),s.jsx(we,{children:"국가"}),s.jsx(we,{children:"담당자"}),s.jsx(we,{children:"프로젝트 수"}),s.jsx(we,{className:"text-right",children:"관리"})]})}),s.jsx(xr,{children:a.map(o=>s.jsxs(ot,{children:[s.jsx(ge,{className:"font-medium",children:o.name}),s.jsx(ge,{children:o.country}),s.jsx(ge,{children:o.contactPerson}),s.jsx(ge,{children:t.filter(i=>i.clientId===o.id).length}),s.jsx(ge,{className:"text-right",children:s.jsx(X,{variant:"ghost",size:"sm",children:"편집"})})]},o.id))})]})})]})})]})};function gz(e,t=[]){let r=[];function n(o,i){const l=h.createContext(i),c=r.length;r=[...r,i];function u(m){const{scope:f,children:p,...v}=m,g=(f==null?void 0:f[e][c])||l,b=h.useMemo(()=>v,Object.values(v));return s.jsx(g.Provider,{value:b,children:p})}function d(m,f){const p=(f==null?void 0:f[e][c])||l,v=h.useContext(p);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const a=()=>{const o=r.map(i=>h.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,xz(a,...t)]}function xz(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const m=c(o)[`__scope${u}`];return{...l,...m}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var Dv="Progress",Pv=100,[vz,eV]=gz(Dv),[yz,wz]=vz(Dv),gC=h.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:o=bz,...i}=e;(a||a===0)&&!kb(a)&&console.error(jz(`${a}`,"Progress"));const l=kb(a)?a:Pv;n!==null&&!Sb(n,l)&&console.error(Nz(`${n}`,"Progress"));const c=Sb(n,l)?n:null,u=nm(c)?o(c,l):void 0;return s.jsx(yz,{scope:r,value:c,max:l,children:s.jsx(Be.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":nm(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":yC(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});gC.displayName=Dv;var xC="ProgressIndicator",vC=h.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=wz(xC,r);return s.jsx(Be.div,{"data-state":yC(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});vC.displayName=xC;function bz(e,t){return`${Math.round(e/t*100)}%`}function yC(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function nm(e){return typeof e=="number"}function kb(e){return nm(e)&&!isNaN(e)&&e>0}function Sb(e,t){return nm(e)&&!isNaN(e)&&e<=t&&e>=0}function jz(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Pv}\`.`}function Nz(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Pv} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var wC=gC,_z=vC;const zl=h.forwardRef(({className:e,value:t,...r},n)=>s.jsx(wC,{ref:n,className:se("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(_z,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));zl.displayName=wC.displayName;function kz(){Yt();const{toast:e}=Pr(),[t,r]=h.useState("overview"),[n,a]=h.useState([]),[o,i]=h.useState([]),[l,c]=h.useState([]),[u,d]=h.useState([]),[m,f]=h.useState([]),[p,v]=h.useState(!1),[g,b]=h.useState(!1),[y,x]=h.useState(!1),[w,j]=h.useState(!1),[k,A]=h.useState(!1),[C,T]=h.useState({currentStep:0,totalSteps:5,stepName:"",progress:0,isComplete:!1,error:null}),[B,$]=h.useState({name:"",type:"full",tables:[]}),[W,_]=h.useState({name:"",type:"csv",table:"",filters:""}),[R,O]=h.useState(null),[ne,P]=h.useState(null),[H,L]=h.useState(!1);h.useEffect(()=>{M()},[]);const M=async()=>{var E,Y;try{const{data:{user:ae}}=await re.auth.getUser();if(ae){const le=((E=ae.user_metadata)==null?void 0:E.role)||((Y=ae.app_metadata)==null?void 0:Y.role)||"user";P(le),L(le==="admin")}}catch(ae){console.error("Failed to check user role:",ae),P("user"),L(!1)}};h.useEffect(()=>{F()},[]);const F=async()=>{try{await Promise.all([de(),z(),ee(),U(),S()])}catch(E){console.error("Failed to load data from Supabase, using mock data:",E),G()}},G=()=>{a([{id:"1",backup_name:"전체 시스템 백업",backup_type:"full",file_size:52428800,tables_included:["users","projects","tasks","clients"],status:"completed",started_at:new Date(Date.now()-864e5).toISOString(),completed_at:new Date(Date.now()-864e5+9e5).toISOString(),created_by:"admin"},{id:"2",backup_name:"프로젝트 데이터 백업",backup_type:"table_specific",file_size:15728640,tables_included:["projects","tasks"],status:"in_progress",started_at:new Date(Date.now()-36e5).toISOString(),created_by:"admin"}]),i([{id:"1",export_name:"프로젝트 목록",export_type:"csv",table_name:"projects",file_size:262144,record_count:150,status:"completed",started_at:new Date(Date.now()-72e5).toISOString(),completed_at:new Date(Date.now()-72e5+12e4).toISOString(),download_count:3},{id:"2",export_name:"사용자 리포트",export_type:"json",table_name:"users",file_size:131072,record_count:85,status:"completed",started_at:new Date(Date.now()-108e5).toISOString(),completed_at:new Date(Date.now()-108e5+6e4).toISOString(),download_count:1}]),c([{id:"1",import_name:"신규 고객사 데이터.csv",source_type:"csv",target_table:"clients",total_records:50,processed_records:50,success_records:48,failed_records:2,status:"completed",started_at:new Date(Date.now()-144e5).toISOString(),completed_at:new Date(Date.now()-144e5+3e5).toISOString()}]),d([{id:"1",log_level:"info",log_category:"backup",message:"백업 완료: 전체 시스템 백업",created_at:new Date(Date.now()-864e5+9e5).toISOString()},{id:"2",log_level:"info",log_category:"export",message:"데이터 내보내기 완료: 프로젝트 목록",created_at:new Date(Date.now()-72e5+12e4).toISOString()},{id:"3",log_level:"warning",log_category:"import",message:"데이터 가져오기 중 2개 레코드 실패: 신규 고객사 데이터.csv",created_at:new Date(Date.now()-144e5+3e5).toISOString()}]),f([{table_name:"users",record_count:85,table_size_bytes:524288,created_at:new Date().toISOString()},{table_name:"projects",record_count:150,table_size_bytes:2097152,created_at:new Date().toISOString()},{table_name:"tasks",record_count:450,table_size_bytes:3145728,created_at:new Date().toISOString()},{table_name:"clients",record_count:65,table_size_bytes:262144,created_at:new Date().toISOString()}])},q=async(E,Y,ae,le)=>{try{const{data:{user:ie}}=await re.auth.getUser();await re.from("system_logs").insert({log_level:E,log_category:Y,message:ae,details:le,user_id:ie==null?void 0:ie.id,ip_address:"127.0.0.1",user_agent:navigator.userAgent})}catch(ie){console.error("Failed to log system activity:",ie)}},de=async()=>{try{const{data:E,error:Y}=await re.from("backup_records").select("*").order("started_at",{ascending:!1});if(Y)throw Y;a(E||[])}catch(E){console.error("Failed to load backup records:",E),a([])}},z=async()=>{try{const{data:E,error:Y}=await re.from("export_records").select("*").order("started_at",{ascending:!1});if(Y)throw Y;i(E||[])}catch(E){console.error("Failed to load export records:",E),i([])}},ee=async()=>{try{const{data:E,error:Y}=await re.from("import_records").select("*").order("started_at",{ascending:!1});if(Y)throw Y;c(E||[])}catch(E){console.error("Failed to load import records:",E),c([])}},U=async()=>{try{const{data:E,error:Y}=await re.from("system_logs").select("*").order("created_at",{ascending:!1}).limit(100);if(Y)throw Y;d(E||[])}catch(E){console.error("Failed to load system logs:",E),d([])}},S=async()=>{if(!H){const E=[{table_name:"users",record_count:85,table_size_bytes:524288,created_at:new Date().toISOString()},{table_name:"projects",record_count:150,table_size_bytes:2097152,created_at:new Date().toISOString()},{table_name:"tasks",record_count:450,table_size_bytes:3145728,created_at:new Date().toISOString()},{table_name:"clients",record_count:65,table_size_bytes:262144,created_at:new Date().toISOString()}];f(E);return}try{const{data:E,error:Y}=await re.from("database_statistics").select("*").order("created_at",{ascending:!1});if(Y)throw Y;f(E||[])}catch(E){console.error("Failed to load database stats:",E),f([])}},K=(E,Y)=>{const ae=Y.join(","),le=E.map(ie=>Y.map(ve=>{const De=ie[ve];return typeof De=="string"&&(De.includes(",")||De.includes('"'))?`"${De.replace(/"/g,'""')}"`:De||""}).join(","));return[ae,...le].join(`
`)},te=(E,Y,ae)=>{const le=new Blob([E],{type:ae}),ie=URL.createObjectURL(le),ve=document.createElement("a");ve.href=ie,ve.download=Y,document.body.appendChild(ve),ve.click(),document.body.removeChild(ve),URL.revokeObjectURL(ie)},Q=E=>({users:[{id:"1",name:"김철수",email:"kim@example.com",role:"admin",created_at:"2024-01-01"},{id:"2",name:"이영희",email:"lee@example.com",role:"user",created_at:"2024-01-02"},{id:"3",name:"박민수",email:"park@example.com",role:"user",created_at:"2024-01-03"}],projects:[{id:"1",name:"웹사이트 리뉴얼",status:"active",created_at:"2024-01-01"},{id:"2",name:"모바일 앱 개발",status:"planning",created_at:"2024-01-02"},{id:"3",name:"API 서버 구축",status:"completed",created_at:"2024-01-03"}],tasks:[{id:"1",title:"디자인 시안 작성",status:"completed",priority:"high",created_at:"2024-01-01"},{id:"2",title:"프론트엔드 개발",status:"in_progress",priority:"medium",created_at:"2024-01-02"},{id:"3",title:"백엔드 API 개발",status:"pending",priority:"high",created_at:"2024-01-03"}],clients:[{id:"1",name:"삼성전자",contact:"김대리",email:"kim@samsung.com",created_at:"2024-01-01"},{id:"2",name:"LG전자",contact:"이과장",email:"lee@lg.com",created_at:"2024-01-02"},{id:"3",name:"SK텔레콤",contact:"박부장",email:"park@skt.com",created_at:"2024-01-03"}]})[E]||[],oe=async()=>{if(!B.name.trim()){e({title:"오류",description:"백업 이름을 입력해주세요.",variant:"destructive"});return}b(!1),A(!0),T({currentStep:0,totalSteps:5,stepName:"백업 준비 중...",progress:0,isComplete:!1,error:null});try{const{data:{user:E}}=await re.auth.getUser();await new Promise(Xe=>setTimeout(Xe,1e3)),T(Xe=>({...Xe,currentStep:1,stepName:"백업 기록 생성 중...",progress:20}));let Y=null;const{data:ae,error:le}=await re.from("backup_records").insert({backup_name:B.name,backup_type:B.type,tables_included:B.type==="full"?["users","projects","tasks","clients","departments","corporations","positions"]:B.tables,status:"in_progress",created_by:(E==null?void 0:E.id)||"system"}).select().single();if(le)throw new Error(`백업 기록 생성 실패: ${le.message}`);Y=ae,await new Promise(Xe=>setTimeout(Xe,1500)),T(Xe=>({...Xe,currentStep:2,stepName:"데이터 수집 중...",progress:40}));const ie=B.type==="full"?["users","projects","tasks","clients","departments","corporations","positions","employees","managers","work_journals"]:B.tables,ve={metadata:{backup_name:B.name,backup_type:B.type,created_at:new Date().toISOString(),created_by:(E==null?void 0:E.email)||"system",tables_included:ie,version:"1.0"},data:{}};for(let Xe=0;Xe<ie.length;Xe++){const We=ie[Xe];T(Rt=>({...Rt,currentStep:3,stepName:`${We} 테이블 백업 중...`,progress:40+Xe/ie.length*30}));try{const{data:Rt,error:mr}=await re.from(We).select("*");mr?(console.warn(`Table ${We} backup failed:`,mr),ve.data[We]={error:mr.message,data:[]}):ve.data[We]={count:(Rt==null?void 0:Rt.length)||0,data:Rt||[]}}catch(Rt){console.warn(`Error backing up table ${We}:`,Rt),ve.data[We]={error:Rt instanceof Error?Rt.message:"알 수 없는 오류",data:[]}}await new Promise(Rt=>setTimeout(Rt,300))}await new Promise(Xe=>setTimeout(Xe,1e3)),T(Xe=>({...Xe,currentStep:4,stepName:"백업 파일 생성 중...",progress:80}));const De=JSON.stringify(ve,null,2),$e=new Blob([De]).size;await new Promise(Xe=>setTimeout(Xe,1e3)),T(Xe=>({...Xe,currentStep:5,stepName:"백업 완료!",progress:100,isComplete:!0})),await re.from("backup_records").update({status:"completed",completed_at:new Date().toISOString(),file_size:$e}).eq("id",Y.id);const ct=`${B.name.replace(/[^a-zA-Z0-9가-힣]/g,"_")}_${Ke(new Date,"yyyyMMdd_HHmmss")}.json`;te(De,ct,"application/json");try{await q("info","backup",`백업 완료: ${B.name}`,{backup_type:B.type,backup_id:Y==null?void 0:Y.id,file_size:$e,tables_count:ie.length})}catch(Xe){console.warn("Failed to log system activity:",Xe)}e({title:"백업 완료",description:`${B.name} 백업이 성공적으로 완료되어 다운로드되었습니다.`}),setTimeout(()=>{A(!1),$({name:"",type:"full",tables:[]}),de(),U()},3e3)}catch(E){console.error("Backup error:",E),T(Y=>({...Y,error:E instanceof Error?E.message:"백업 중 알 수 없는 오류가 발생했습니다.",isComplete:!1}));try{await q("error","backup",`백업 실패: ${B.name}`,{error:E instanceof Error?E.message:"Unknown error"})}catch(Y){console.warn("Failed to log error:",Y)}e({title:"백업 실패",description:E instanceof Error?E.message:"백업 중 오류가 발생했습니다.",variant:"destructive"}),setTimeout(()=>{A(!1),$({name:"",type:"full",tables:[]})},5e3)}},xe=async()=>{if(!W.name.trim()||!W.table){e({title:"오류",description:"내보내기 이름과 테이블을 선택해주세요.",variant:"destructive"});return}v(!0);try{const{data:{user:E}}=await re.auth.getUser(),{data:Y,error:ae}=await re.from(W.table).select("*");if(ae)throw ae;if(!Y||Y.length===0){e({title:"경고",description:"내보낼 데이터가 없습니다.",variant:"destructive"}),v(!1);return}const{data:le,error:ie}=await re.from("export_records").insert({export_name:W.name,export_type:W.type,table_name:W.table,record_count:Y.length,status:"completed",completed_at:new Date().toISOString(),created_by:E==null?void 0:E.id,file_size:JSON.stringify(Y).length}).select().single();if(ie)throw ie;let ve,De,$e;if(W.type==="csv"){const ct=Object.keys(Y[0]);ve=K(Y,ct),De=`${W.name}.csv`,$e="text/csv;charset=utf-8;"}else if(W.type==="json")ve=JSON.stringify(Y,null,2),De=`${W.name}.json`,$e="application/json;charset=utf-8;";else{const ct=Object.keys(Y[0]);ve=K(Y,ct),De=`${W.name}.csv`,$e="text/csv;charset=utf-8;"}te(ve,De,$e),await re.from("export_records").update({download_count:1}).eq("id",le.id),await q("info","export",`데이터 내보내기 완료: ${W.name}`,{table_name:W.table,record_count:Y.length,export_type:W.type}),e({title:"내보내기 완료",description:`${W.name} 파일이 다운로드되었습니다.`}),x(!1),_({name:"",type:"csv",table:"",filters:""}),z(),U()}catch(E){console.error("Export error:",E);const Y=Q(W.table);if(Y.length===0){e({title:"경고",description:"내보낼 데이터가 없습니다.",variant:"destructive"}),v(!1);return}let ae,le,ie;if(W.type==="csv"){const $e=Object.keys(Y[0]);ae=K(Y,$e),le=`${W.name}.csv`,ie="text/csv;charset=utf-8;"}else if(W.type==="json")ae=JSON.stringify(Y,null,2),le=`${W.name}.json`,ie="application/json;charset=utf-8;";else{const $e=Object.keys(Y[0]);ae=K(Y,$e),le=`${W.name}.csv`,ie="text/csv;charset=utf-8;"}te(ae,le,ie);const ve={id:Date.now().toString(),export_name:W.name,export_type:W.type,table_name:W.table,file_size:ae.length,record_count:Y.length,status:"completed",started_at:new Date().toISOString(),completed_at:new Date().toISOString(),download_count:1};i($e=>[ve,...$e]);const De={id:Date.now().toString(),log_level:"info",log_category:"export",message:`데이터 내보내기 완료: ${W.name}`,created_at:new Date().toISOString()};d($e=>[De,...$e]),e({title:"내보내기 완료",description:`${W.name} 파일이 다운로드되었습니다. (Mock 모드)`}),x(!1),_({name:"",type:"csv",table:"",filters:""})}finally{v(!1)}},Ne=async()=>{if(!R){e({title:"오류",description:"가져올 파일을 선택해주세요.",variant:"destructive"});return}v(!0);try{const{data:{user:E}}=await re.auth.getUser(),Y=await R.text();let ae=[];if(R.name.endsWith(".json"))ae=JSON.parse(Y);else if(R.name.endsWith(".csv")){const ve=Y.split(`
`),De=ve[0].split(",");ae=ve.slice(1).map($e=>{const ct=$e.split(","),Xe={};return De.forEach((We,Rt)=>{var mr;Xe[We.trim()]=(mr=ct[Rt])==null?void 0:mr.trim()}),Xe}).filter($e=>Object.values($e).some(ct=>ct))}const{data:le,error:ie}=await re.from("import_records").insert({import_name:R.name,source_type:R.name.split(".").pop()||"unknown",target_table:"imported_data",total_records:ae.length,processed_records:ae.length,success_records:ae.length,failed_records:0,status:"completed",completed_at:new Date().toISOString(),created_by:E==null?void 0:E.id}).select().single();if(ie)throw ie;await q("info","import",`데이터 가져오기 완료: ${R.name}`,{total_records:ae.length,source_type:R.name.split(".").pop()}),e({title:"가져오기 완료",description:`${ae.length}개의 레코드가 성공적으로 가져와졌습니다.`}),j(!1),O(null),ee(),U()}catch(E){console.error("Import error:",E);try{const Y=await R.text();let ae=[];if(R.name.endsWith(".json"))ae=JSON.parse(Y);else if(R.name.endsWith(".csv")){const ve=Y.split(`
`),De=ve[0].split(",");ae=ve.slice(1).map($e=>{const ct=$e.split(","),Xe={};return De.forEach((We,Rt)=>{var mr;Xe[We.trim()]=(mr=ct[Rt])==null?void 0:mr.trim()}),Xe}).filter($e=>Object.values($e).some(ct=>ct))}const le={id:Date.now().toString(),import_name:R.name,source_type:R.name.split(".").pop()||"unknown",target_table:"imported_data",total_records:ae.length,processed_records:ae.length,success_records:ae.length,failed_records:0,status:"completed",started_at:new Date().toISOString(),completed_at:new Date().toISOString()};c(ve=>[le,...ve]);const ie={id:Date.now().toString(),log_level:"info",log_category:"import",message:`데이터 가져오기 완료: ${R.name}`,created_at:new Date().toISOString()};d(ve=>[ie,...ve]),e({title:"가져오기 완료",description:`${ae.length}개의 레코드가 성공적으로 가져와졌습니다. (Mock 모드)`}),j(!1),O(null)}catch{e({title:"가져오기 실패",description:"파일 형식이 올바르지 않습니다.",variant:"destructive"})}}finally{v(!1)}},Se=async E=>{try{const Y={backup_info:{name:E.backup_name,type:E.backup_type,created_at:E.started_at,tables:E.tables_included},data:{message:"This is a mock backup file"}},ae=JSON.stringify(Y,null,2);te(ae,`${E.backup_name}.json`,"application/json"),await q("info","backup",`백업 파일 다운로드: ${E.backup_name}`,{backup_id:E.id}),e({title:"다운로드 완료",description:`${E.backup_name} 백업 파일이 다운로드되었습니다.`})}catch(Y){console.error("Download backup error:",Y);const ae={backup_info:{name:E.backup_name,type:E.backup_type,created_at:E.started_at,tables:E.tables_included},data:{message:"This is a mock backup file (Mock 모드)"}},le=JSON.stringify(ae,null,2);te(le,`${E.backup_name}.json`,"application/json"),e({title:"다운로드 완료",description:`${E.backup_name} 백업 파일이 다운로드되었습니다. (Mock 모드)`})}},Je=async E=>{try{await re.from("export_records").update({download_count:E.download_count+1}).eq("id",E.id);const{data:Y,error:ae}=await re.from(E.table_name).select("*");if(ae)throw ae;let le,ie,ve;if(E.export_type==="csv"){const De=Object.keys(Y[0]||{});le=K(Y||[],De),ie=`${E.export_name}.csv`,ve="text/csv;charset=utf-8;"}else le=JSON.stringify(Y,null,2),ie=`${E.export_name}.json`,ve="application/json;charset=utf-8;";te(le,ie,ve),await q("info","export",`내보내기 파일 다운로드: ${E.export_name}`,{export_id:E.id}),z()}catch(Y){console.error("Download export error:",Y);const ae=Q(E.table_name);let le,ie,ve;if(E.export_type==="csv"){const De=Object.keys(ae[0]||{});le=K(ae,De),ie=`${E.export_name}.csv`,ve="text/csv;charset=utf-8;"}else le=JSON.stringify(ae,null,2),ie=`${E.export_name}.json`,ve="application/json;charset=utf-8;";te(le,ie,ve),i(De=>De.map($e=>$e.id===E.id?{...$e,download_count:$e.download_count+1}:$e)),e({title:"다운로드 완료",description:`${E.export_name} 파일이 다운로드되었습니다. (Mock 모드)`})}},Ze=E=>{if(E===0)return"0 Bytes";const Y=1024,ae=["Bytes","KB","MB","GB"],le=Math.floor(Math.log(E)/Math.log(Y));return parseFloat((E/Math.pow(Y,le)).toFixed(2))+" "+ae[le]},Qe=E=>{const ae={pending:{variant:"secondary",icon:yr,color:"text-yellow-600"},in_progress:{variant:"default",icon:Ar,color:"text-blue-600"},completed:{variant:"default",icon:Sr,color:"text-green-600"},failed:{variant:"destructive",icon:Ui,color:"text-red-600"}}[E],le=ae.icon;return s.jsxs(Le,{variant:ae.variant,className:"flex items-center gap-1",children:[s.jsx(le,{className:se("h-3 w-3",ae.color)}),E==="pending"&&"대기중",E==="in_progress"&&"진행중",E==="completed"&&"완료",E==="failed"&&"실패"]})},V=E=>{const ae={info:{variant:"default",color:"bg-blue-100 text-blue-800"},warning:{variant:"secondary",color:"bg-yellow-100 text-yellow-800"},error:{variant:"destructive",color:"bg-red-100 text-red-800"},debug:{variant:"outline",color:"bg-gray-100 text-gray-800"}}[E];return s.jsx(Le,{variant:ae.variant,className:ae.color,children:E.toUpperCase()})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Hn,{className:"h-6 w-6"}),"데이터 관리"]}),s.jsx("p",{className:"text-muted-foreground",children:"시스템 데이터 백업, 복원, 내보내기 및 가져오기"})]}),s.jsxs(X,{onClick:F,variant:"outline",children:[s.jsx(Ar,{className:"h-4 w-4 mr-2"}),"새로고침"]})]}),s.jsxs(ai,{value:t,onValueChange:r,children:[s.jsxs(xo,{className:"grid w-full grid-cols-6",children:[s.jsxs(Jt,{value:"overview",className:"flex items-center gap-2",children:[s.jsx(v_,{className:"h-4 w-4"}),"개요"]}),s.jsxs(Jt,{value:"backup",className:"flex items-center gap-2",children:[s.jsx(Pu,{className:"h-4 w-4"}),"백업/복원"]}),s.jsxs(Jt,{value:"export",className:"flex items-center gap-2",children:[s.jsx(Tu,{className:"h-4 w-4"}),"내보내기"]}),s.jsxs(Jt,{value:"import",className:"flex items-center gap-2",children:[s.jsx($i,{className:"h-4 w-4"}),"가져오기"]}),s.jsxs(Jt,{value:"logs",className:"flex items-center gap-2",children:[s.jsx(Et,{className:"h-4 w-4"}),"시스템 로그"]}),s.jsxs(Jt,{value:"stats",className:"flex items-center gap-2",children:[s.jsx(pO,{className:"h-4 w-4"}),"DB 통계"]})]}),s.jsxs(Qt,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Pe,{children:s.jsx(Ee,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"총 백업 수"}),s.jsx("p",{className:"text-2xl font-bold",children:n.length})]}),s.jsx(Pu,{className:"h-8 w-8 text-blue-500"})]})})}),s.jsx(Pe,{children:s.jsx(Ee,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"내보내기 수"}),s.jsx("p",{className:"text-2xl font-bold",children:o.length})]}),s.jsx(Tu,{className:"h-8 w-8 text-green-500"})]})})}),s.jsx(Pe,{children:s.jsx(Ee,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"가져오기 수"}),s.jsx("p",{className:"text-2xl font-bold",children:l.length})]}),s.jsx($i,{className:"h-8 w-8 text-purple-500"})]})})}),s.jsx(Pe,{children:s.jsx(Ee,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"시스템 로그"}),s.jsx("p",{className:"text-2xl font-bold",children:u.length})]}),s.jsx(Et,{className:"h-8 w-8 text-orange-500"})]})})})]}),s.jsxs(Pe,{children:[s.jsxs(ft,{children:[s.jsx(pt,{children:"빠른 작업"}),s.jsx(Ct,{children:"자주 사용하는 데이터 관리 작업"})]}),s.jsxs(Ee,{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(kt,{open:g,onOpenChange:b,children:[s.jsx(Mp,{asChild:!0,children:s.jsxs(X,{className:"h-20 flex flex-col gap-2",children:[s.jsx(Pu,{className:"h-6 w-6"}),"새 백업 생성"]})}),s.jsxs(bt,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"새 백업 생성"}),s.jsx(yn,{children:"시스템 데이터를 백업합니다."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"backup-name",children:"백업 이름"}),s.jsx(fe,{id:"backup-name",value:B.name,onChange:E=>$({...B,name:E.target.value}),placeholder:"백업 이름을 입력하세요"})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"backup-type",children:"백업 유형"}),s.jsxs(Oe,{value:B.type,onValueChange:E=>$({...B,type:E}),children:[s.jsx(Re,{children:s.jsx(Ie,{})}),s.jsxs(Ae,{children:[s.jsx(ce,{value:"full",children:"전체 백업"}),s.jsx(ce,{value:"incremental",children:"증분 백업"}),s.jsx(ce,{value:"table_specific",children:"테이블별 백업"})]})]})]}),B.type==="table_specific"&&s.jsxs("div",{children:[s.jsx(ue,{children:"백업할 테이블 선택"}),s.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:["users","projects","tasks","clients","departments","positions","corporations"].map(E=>s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:B.tables.includes(E),onChange:Y=>{Y.target.checked?$({...B,tables:[...B.tables,E]}):$({...B,tables:B.tables.filter(ae=>ae!==E)})},className:"rounded"}),s.jsx("span",{className:"text-sm",children:E})]},E))})]})]}),s.jsxs($t,{children:[s.jsx(X,{variant:"outline",onClick:()=>b(!1),children:"취소"}),s.jsxs(X,{onClick:oe,disabled:k,children:[s.jsx(Pu,{className:"h-4 w-4 mr-2"}),"백업 시작"]})]})]})]}),s.jsxs(kt,{open:y,onOpenChange:x,children:[s.jsx(Mp,{asChild:!0,children:s.jsxs(X,{variant:"outline",className:"h-20 flex flex-col gap-2",children:[s.jsx(Tu,{className:"h-6 w-6"}),"데이터 내보내기"]})}),s.jsxs(bt,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"데이터 내보내기"}),s.jsx(yn,{children:"테이블 데이터를 파일로 내보냅니다."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"export-name",children:"내보내기 이름"}),s.jsx(fe,{id:"export-name",value:W.name,onChange:E=>_({...W,name:E.target.value}),placeholder:"내보내기 이름을 입력하세요"})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"export-table",children:"테이블 선택"}),s.jsxs(Oe,{value:W.table,onValueChange:E=>_({...W,table:E}),children:[s.jsx(Re,{children:s.jsx(Ie,{placeholder:"테이블을 선택하세요"})}),s.jsxs(Ae,{children:[s.jsx(ce,{value:"users",children:"사용자"}),s.jsx(ce,{value:"projects",children:"프로젝트"}),s.jsx(ce,{value:"tasks",children:"업무"}),s.jsx(ce,{value:"clients",children:"고객사"})]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"export-type",children:"파일 형식"}),s.jsxs(Oe,{value:W.type,onValueChange:E=>_({...W,type:E}),children:[s.jsx(Re,{children:s.jsx(Ie,{})}),s.jsxs(Ae,{children:[s.jsx(ce,{value:"csv",children:"CSV"}),s.jsx(ce,{value:"excel",children:"Excel"}),s.jsx(ce,{value:"json",children:"JSON"})]})]})]})]}),s.jsxs($t,{children:[s.jsx(X,{variant:"outline",onClick:()=>x(!1),children:"취소"}),s.jsxs(X,{onClick:xe,disabled:p,children:[p?s.jsx(Ar,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Tu,{className:"h-4 w-4 mr-2"}),"내보내기"]})]})]})]}),s.jsxs(kt,{open:w,onOpenChange:j,children:[s.jsx(Mp,{asChild:!0,children:s.jsxs(X,{variant:"outline",className:"h-20 flex flex-col gap-2",children:[s.jsx($i,{className:"h-6 w-6"}),"데이터 가져오기"]})}),s.jsxs(bt,{children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:"데이터 가져오기"}),s.jsx(yn,{children:"파일에서 데이터를 가져옵니다."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"import-file",children:"파일 선택"}),s.jsx(fe,{id:"import-file",type:"file",accept:".csv,.xlsx,.json",onChange:E=>{var Y;return O(((Y=E.target.files)==null?void 0:Y[0])||null)}})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"target-table",children:"대상 테이블"}),s.jsxs(Oe,{children:[s.jsx(Re,{children:s.jsx(Ie,{placeholder:"테이블을 선택하세요"})}),s.jsxs(Ae,{children:[s.jsx(ce,{value:"users",children:"사용자"}),s.jsx(ce,{value:"projects",children:"프로젝트"}),s.jsx(ce,{value:"tasks",children:"업무"}),s.jsx(ce,{value:"clients",children:"고객사"})]})]})]})]}),s.jsxs($t,{children:[s.jsx(X,{variant:"outline",onClick:()=>j(!1),children:"취소"}),s.jsxs(X,{onClick:Ne,disabled:p||!R,children:[p?s.jsx(Ar,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx($i,{className:"h-4 w-4 mr-2"}),"가져오기"]})]})]})]})]})]})]}),s.jsx(Qt,{value:"backup",className:"space-y-6",children:s.jsxs(Pe,{children:[s.jsxs(ft,{children:[s.jsx(pt,{children:"백업 기록"}),s.jsx(Ct,{children:"시스템 백업 및 복원 기록을 관리합니다."})]}),s.jsx(Ee,{children:s.jsxs(pr,{children:[s.jsx(gr,{children:s.jsxs(ot,{children:[s.jsx(we,{children:"백업 이름"}),s.jsx(we,{children:"유형"}),s.jsx(we,{children:"파일 크기"}),s.jsx(we,{children:"상태"}),s.jsx(we,{children:"시작 시간"}),s.jsx(we,{children:"작업"})]})}),s.jsx(xr,{children:n.map(E=>s.jsxs(ot,{children:[s.jsx(ge,{className:"font-medium",children:E.backup_name}),s.jsx(ge,{children:s.jsx(Le,{variant:"outline",children:E.backup_type})}),s.jsx(ge,{children:E.file_size?Ze(E.file_size):"-"}),s.jsx(ge,{children:Qe(E.status)}),s.jsx(ge,{children:Ke(new Date(E.started_at),"yyyy-MM-dd HH:mm")}),s.jsx(ge,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(X,{size:"sm",variant:"outline",onClick:()=>Se(E),disabled:E.status!=="completed",children:s.jsx(gl,{className:"h-4 w-4"})}),s.jsx(X,{size:"sm",variant:"outline",disabled:!0,children:s.jsx(CO,{className:"h-4 w-4"})})]})})]},E.id))})]})})]})}),s.jsx(Qt,{value:"export",className:"space-y-6",children:s.jsxs(Pe,{children:[s.jsxs(ft,{children:[s.jsx(pt,{children:"내보내기 기록"}),s.jsx(Ct,{children:"데이터 내보내기 기록을 관리합니다."})]}),s.jsx(Ee,{children:s.jsxs(pr,{children:[s.jsx(gr,{children:s.jsxs(ot,{children:[s.jsx(we,{children:"내보내기 이름"}),s.jsx(we,{children:"파일 형식"}),s.jsx(we,{children:"테이블"}),s.jsx(we,{children:"레코드 수"}),s.jsx(we,{children:"파일 크기"}),s.jsx(we,{children:"상태"}),s.jsx(we,{children:"다운로드 수"}),s.jsx(we,{children:"작업"})]})}),s.jsx(xr,{children:o.map(E=>s.jsxs(ot,{children:[s.jsx(ge,{className:"font-medium",children:E.export_name}),s.jsx(ge,{children:s.jsx(Le,{variant:"outline",children:E.export_type.toUpperCase()})}),s.jsx(ge,{children:E.table_name}),s.jsx(ge,{children:E.record_count.toLocaleString()}),s.jsx(ge,{children:Ze(E.file_size)}),s.jsx(ge,{children:Qe(E.status)}),s.jsx(ge,{children:E.download_count}),s.jsx(ge,{children:s.jsx(X,{size:"sm",variant:"outline",onClick:()=>Je(E),disabled:E.status!=="completed",children:s.jsx(gl,{className:"h-4 w-4"})})})]},E.id))})]})})]})}),s.jsx(Qt,{value:"import",className:"space-y-6",children:s.jsxs(Pe,{children:[s.jsxs(ft,{children:[s.jsx(pt,{children:"가져오기 기록"}),s.jsx(Ct,{children:"데이터 가져오기 기록을 관리합니다."})]}),s.jsx(Ee,{children:s.jsxs(pr,{children:[s.jsx(gr,{children:s.jsxs(ot,{children:[s.jsx(we,{children:"가져오기 이름"}),s.jsx(we,{children:"소스 형식"}),s.jsx(we,{children:"대상 테이블"}),s.jsx(we,{children:"진행률"}),s.jsx(we,{children:"성공/실패"}),s.jsx(we,{children:"상태"}),s.jsx(we,{children:"시작 시간"})]})}),s.jsx(xr,{children:l.map(E=>s.jsxs(ot,{children:[s.jsx(ge,{className:"font-medium",children:E.import_name}),s.jsx(ge,{children:s.jsx(Le,{variant:"outline",children:E.source_type.toUpperCase()})}),s.jsx(ge,{children:E.target_table}),s.jsx(ge,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsx(zl,{value:E.processed_records/E.total_records*100,className:"h-2"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[E.processed_records,"/",E.total_records]})]})}),s.jsx(ge,{children:s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-green-600",children:E.success_records})," /",s.jsx("span",{className:"text-red-600 ml-1",children:E.failed_records})]})}),s.jsx(ge,{children:Qe(E.status)}),s.jsx(ge,{children:Ke(new Date(E.started_at),"yyyy-MM-dd HH:mm")})]},E.id))})]})})]})}),s.jsx(Qt,{value:"logs",className:"space-y-6",children:s.jsxs(Pe,{children:[s.jsxs(ft,{children:[s.jsx(pt,{children:"시스템 로그"}),s.jsx(Ct,{children:"시스템 활동 및 오류 로그를 확인합니다."})]}),s.jsx(Ee,{children:s.jsxs(pr,{children:[s.jsx(gr,{children:s.jsxs(ot,{children:[s.jsx(we,{children:"레벨"}),s.jsx(we,{children:"카테고리"}),s.jsx(we,{children:"메시지"}),s.jsx(we,{children:"시간"})]})}),s.jsx(xr,{children:u.map(E=>s.jsxs(ot,{children:[s.jsx(ge,{children:V(E.log_level)}),s.jsx(ge,{children:s.jsx(Le,{variant:"outline",children:E.log_category})}),s.jsx(ge,{className:"max-w-md truncate",children:E.message}),s.jsx(ge,{children:Ke(new Date(E.created_at),"yyyy-MM-dd HH:mm:ss")})]},E.id))})]})})]})}),s.jsx(Qt,{value:"stats",className:"space-y-6",children:s.jsxs(Pe,{children:[s.jsxs(ft,{children:[s.jsxs(pt,{className:"flex items-center gap-2",children:["데이터베이스 통계",!H&&s.jsxs(Le,{variant:"secondary",className:"text-xs",children:[s.jsx(mn,{className:"h-3 w-3 mr-1"}),"제한된 정보"]})]}),s.jsxs(Ct,{children:["각 테이블의 크기와 레코드 수를 확인합니다.",!H&&s.jsx("span",{className:"block mt-2 text-amber-600 dark:text-amber-400",children:"⚠️ 관리자가 아닌 사용자는 샘플 데이터만 볼 수 있습니다."})]})]}),s.jsx(Ee,{children:s.jsxs(pr,{children:[s.jsx(gr,{children:s.jsxs(ot,{children:[s.jsx(we,{children:"테이블 이름"}),s.jsx(we,{children:"레코드 수"}),s.jsx(we,{children:"테이블 크기"}),s.jsx(we,{children:"마지막 업데이트"})]})}),s.jsxs(xr,{children:[m.map(E=>s.jsxs(ot,{children:[s.jsx(ge,{className:"font-medium",children:E.table_name}),s.jsx(ge,{children:E.record_count.toLocaleString()}),s.jsx(ge,{children:Ze(E.table_size_bytes)}),s.jsx(ge,{children:Ke(new Date(E.created_at),"yyyy-MM-dd")})]},E.table_name)),m.length===0&&s.jsx(ot,{children:s.jsxs(ge,{colSpan:4,className:"text-center text-muted-foreground py-8",children:["데이터베이스 통계를 불러올 수 없습니다.",!H&&" 관리자 권한이 필요합니다."]})})]})]})})]})})]}),s.jsx(kt,{open:k,onOpenChange:()=>{},children:s.jsxs(bt,{className:"sm:max-w-lg",onPointerDownOutside:E=>E.preventDefault(),children:[s.jsx(jt,{children:s.jsxs(Nt,{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-r from-blue-500 to-purple-500 shadow-lg",children:s.jsx(Hn,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold",children:"백업 진행 중"}),s.jsxs("p",{className:"text-sm text-muted-foreground font-normal",children:[B.name," 백업을 생성하고 있습니다"]})]})]})}),s.jsxs("div",{className:"space-y-8 py-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-semibold text-lg",children:"전체 진행률"}),s.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[C.progress,"%"]})]}),s.jsxs("div",{className:"relative h-4 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 rounded-full transition-all duration-700 ease-out",style:{width:`${C.progress}%`}}),s.jsx("div",{className:"absolute top-0 left-0 h-full bg-white/30 rounded-full animate-pulse",style:{width:`${C.progress}%`,animationDuration:"2s"}})]})]}),s.jsx("div",{className:"text-center",children:s.jsxs("div",{className:"inline-flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950 dark:to-purple-950 rounded-2xl border border-blue-200 dark:border-blue-800 shadow-sm",children:[C.isComplete?s.jsxs("div",{className:"relative",children:[s.jsx(Sr,{className:"h-6 w-6 text-green-500"}),s.jsx("div",{className:"absolute inset-0 rounded-full bg-green-500/20 animate-ping"})]}):C.error?s.jsx(Ui,{className:"h-6 w-6 text-red-500 animate-bounce"}):s.jsxs("div",{className:"relative",children:[s.jsx(Ar,{className:"h-6 w-6 text-blue-500 animate-spin"}),s.jsx("div",{className:"absolute inset-0 rounded-full bg-blue-500/20 animate-pulse"})]}),s.jsx("span",{className:"font-semibold text-lg text-blue-700 dark:text-blue-300",children:C.stepName})]})}),s.jsx("div",{className:"space-y-4",children:Array.from({length:C.totalSteps},(E,Y)=>{const ae=Y+1,le=C.currentStep>ae,ie=C.currentStep===ae,ve=["백업 준비","백업 기록 생성","데이터 수집","테이블 백업","파일 생성"];return s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:se("flex items-center justify-center w-10 h-10 rounded-full border-3 transition-all duration-500 shadow-lg",le&&"bg-gradient-to-r from-green-500 to-emerald-500 border-green-500 text-white transform scale-110",ie&&!C.error&&"bg-gradient-to-r from-blue-500 to-purple-500 border-blue-500 text-white animate-pulse shadow-blue-500/50",ie&&C.error&&"bg-gradient-to-r from-red-500 to-pink-500 border-red-500 text-white",!le&&!ie&&"border-gray-300 text-gray-400 bg-white dark:bg-gray-800"),children:le?s.jsx(Sr,{className:"h-5 w-5"}):ie&&C.error?s.jsx(Ui,{className:"h-5 w-5"}):s.jsx("span",{className:"text-sm font-bold",children:ae})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:se("font-medium transition-all duration-300",le&&"text-green-600 dark:text-green-400",ie&&!C.error&&"text-blue-600 dark:text-blue-400",ie&&C.error&&"text-red-600 dark:text-red-400",!le&&!ie&&"text-gray-500"),children:ve[Y]}),ie&&!le&&!C.error&&s.jsx("div",{className:"mt-1 h-1 bg-gray-200 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 rounded-full animate-pulse"})})]}),le&&s.jsx("div",{className:"text-green-500 animate-bounce",children:s.jsx(Sr,{className:"h-5 w-5"})})]},ae)})}),C.error&&s.jsx("div",{className:"p-4 bg-gradient-to-r from-red-50 to-pink-50 dark:from-red-950 dark:to-pink-950 border border-red-200 dark:border-red-800 rounded-xl shadow-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-red-500 rounded-lg",children:s.jsx(Ui,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-red-800 dark:text-red-200 mb-2",children:"백업 실패"}),s.jsx("p",{className:"text-sm text-red-600 dark:text-red-300",children:C.error})]})]})}),C.isComplete&&!C.error&&s.jsx("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950 dark:to-emerald-950 border border-green-200 dark:border-green-800 rounded-xl shadow-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:s.jsx(Sr,{className:"h-5 w-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-green-800 dark:text-green-200 mb-2",children:"백업 완료!"}),s.jsx("p",{className:"text-sm text-green-600 dark:text-green-300",children:"백업 파일이 성공적으로 생성되어 다운로드되었습니다."})]})]})})]}),(C.isComplete||C.error)&&s.jsx($t,{children:s.jsx(X,{onClick:()=>A(!1),className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white shadow-lg",children:"닫기"})})]})})]})}var[df,tV]=Cs("Tooltip",[mo]),uf=mo(),bC="TooltipProvider",Sz=700,vx="tooltip.open",[Cz,Tv]=df(bC),jC=e=>{const{__scopeTooltip:t,delayDuration:r=Sz,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:o}=e,[i,l]=h.useState(!0),c=h.useRef(!1),u=h.useRef(0);return h.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),s.jsx(Cz,{scope:t,isOpenDelayed:i,delayDuration:r,onOpen:h.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:h.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:h.useCallback(d=>{c.current=d},[]),disableHoverableContent:a,children:o})};jC.displayName=bC;var hf="Tooltip",[Dz,mf]=df(hf),NC=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:a=!1,onOpenChange:o,disableHoverableContent:i,delayDuration:l}=e,c=Tv(hf,e.__scopeTooltip),u=uf(t),[d,m]=h.useState(null),f=js(),p=h.useRef(0),v=i??c.disableHoverableContent,g=l??c.delayDuration,b=h.useRef(!1),[y=!1,x]=Qs({prop:n,defaultProp:a,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(vx))):c.onClose(),o==null||o(C)}}),w=h.useMemo(()=>y?b.current?"delayed-open":"instant-open":"closed",[y]),j=h.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b.current=!1,x(!0)},[x]),k=h.useCallback(()=>{window.clearTimeout(p.current),p.current=0,x(!1)},[x]),A=h.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{b.current=!0,x(!0),p.current=0},g)},[g,x]);return h.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),s.jsx(qm,{...u,children:s.jsx(Dz,{scope:t,contentId:f,open:y,stateAttribute:w,trigger:d,onTriggerChange:m,onTriggerEnter:h.useCallback(()=>{c.isOpenDelayed?A():j()},[c.isOpenDelayed,A,j]),onTriggerLeave:h.useCallback(()=>{v?k():(window.clearTimeout(p.current),p.current=0)},[k,v]),onOpen:j,onClose:k,disableHoverableContent:v,children:r})})};NC.displayName=hf;var yx="TooltipTrigger",_C=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=mf(yx,r),o=Tv(yx,r),i=uf(r),l=h.useRef(null),c=ut(t,l,a.onTriggerChange),u=h.useRef(!1),d=h.useRef(!1),m=h.useCallback(()=>u.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),s.jsx(Rd,{asChild:!0,...i,children:s.jsx(Be.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:_e(e.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:_e(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:_e(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:_e(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:_e(e.onBlur,a.onClose),onClick:_e(e.onClick,a.onClose)})})});_C.displayName=yx;var Pz="TooltipPortal",[rV,Tz]=df(Pz,{forceMount:void 0}),_l="TooltipContent",kC=h.forwardRef((e,t)=>{const r=Tz(_l,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...o}=e,i=mf(_l,e.__scopeTooltip);return s.jsx(ts,{present:n||i.open,children:i.disableHoverableContent?s.jsx(SC,{side:a,...o,ref:t}):s.jsx(Ez,{side:a,...o,ref:t})})}),Ez=h.forwardRef((e,t)=>{const r=mf(_l,e.__scopeTooltip),n=Tv(_l,e.__scopeTooltip),a=h.useRef(null),o=ut(t,a),[i,l]=h.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:m}=n,f=h.useCallback(()=>{l(null),m(!1)},[m]),p=h.useCallback((v,g)=>{const b=v.currentTarget,y={x:v.clientX,y:v.clientY},x=Oz(y,b.getBoundingClientRect()),w=Iz(y,x),j=Lz(g.getBoundingClientRect()),k=$z([...w,...j]);l(k),m(!0)},[m]);return h.useEffect(()=>()=>f(),[f]),h.useEffect(()=>{if(c&&d){const v=b=>p(b,d),g=b=>p(b,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",g)}}},[c,d,p,f]),h.useEffect(()=>{if(i){const v=g=>{const b=g.target,y={x:g.clientX,y:g.clientY},x=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),w=!Fz(y,i);x?f():w&&(f(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,i,u,f]),s.jsx(SC,{...e,ref:o})}),[Mz,Rz]=df(hf,{isInside:!1}),SC=h.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,c=mf(_l,r),u=uf(r),{onClose:d}=c;return h.useEffect(()=>(document.addEventListener(vx,d),()=>document.removeEventListener(vx,d)),[d]),h.useEffect(()=>{if(c.trigger){const m=f=>{const p=f.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,d]),s.jsx(si,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:m=>m.preventDefault(),onDismiss:d,children:s.jsxs(Ym,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(R0,{children:n}),s.jsx(Mz,{scope:r,isInside:!0,children:s.jsx(IA,{id:c.contentId,role:"tooltip",children:a||n})})]})})});kC.displayName=_l;var CC="TooltipArrow",Az=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=uf(r);return Rz(CC,r).isInside?null:s.jsx(Km,{...a,...n,ref:t})});Az.displayName=CC;function Oz(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,a,o)){case o:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Iz(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Lz(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function Fz(e,t){const{x:r,y:n}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,c=t[o].y,u=t[i].x,d=t[i].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(a=!a)}return a}function $z(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),zz(t)}function zz(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(a.y-i.y)>=(o.y-i.y)*(a.x-i.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Uz=jC,Bz=NC,Vz=_C,DC=kC;const PC=Uz,Po=Bz,To=Vz,ka=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(DC,{ref:n,sideOffset:t,className:se("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));ka.displayName=DC.displayName;function Wz(){console.log("🚀 SettingsManagement 컴포넌트가 로드되었습니다!");const[e,t]=h.useState(!1),[r,n]=h.useState(!1),[a,o]=h.useState(""),[i,l]=h.useState(""),[c,u]=h.useState(!1),[d,m]=h.useState("company"),f=ee=>{m(ee),w("관리자",`설정관리-${ee}`)},[p,v]=h.useState(0),[g,b]=h.useState(null),{toast:y}=Pr(),{currentUsers:x,updateUserActivity:w,getUsersOnTab:j}=qN(),[k,A]=h.useState([]),[C,T]=h.useState(!1);h.useEffect(()=>{const ee=async()=>{T(!0),console.log("🔍 온라인 사용자 조회 시작");try{const S=new Date(Date.now()-3e5).toISOString(),{data:K,error:te}=await re.from("users").select("id, name, email, avatar_url, last_seen, role").gte("last_seen",S).order("last_seen",{ascending:!1});if(te){console.error("온라인 사용자 조회 오류:",te);return}console.log("📊 조회된 온라인 사용자:",K);const Q=(K==null?void 0:K.map(oe=>{const xe=new Date(oe.last_seen).getTime(),Ne=Date.now(),Se=Math.floor((Ne-xe)/(1e3*60));let Je="idle",Ze="";return Se<=1?(Je="editing",Ze="설정 관리"):Se<=3?(Je="viewing",Ze="관리자 패널"):Je="idle",{id:oe.id,name:oe.name||oe.email.split("@")[0],avatar:oe.avatar_url||"/avatars/default.jpg",status:Je,currentSection:Ze,role:oe.role,lastSeen:Se}}))||[];A(Q),console.log("✅ 온라인 사용자 상태 업데이트 완료:",Q)}catch(S){console.error("온라인 사용자 조회 중 오류:",S)}finally{T(!1)}};ee();const U=setInterval(ee,3e4);return()=>clearInterval(U)},[]),h.useEffect(()=>{const ee=async()=>{try{const{data:{user:S}}=await re.auth.getUser();S&&await re.from("users").update({last_seen:new Date().toISOString(),current_page:"admin/settings"}).eq("id",S.id)}catch(S){console.error("사용자 활동 업데이트 오류:",S)}};ee();const U=setInterval(ee,6e4);return()=>clearInterval(U)},[]);const[B,$]=h.useState([]);h.useEffect(()=>{(async()=>{try{console.log("📝 최근 변경사항 조회 시작");const{data:U,error:S}=await re.from("system_logs").select(`
            id,
            action,
            details,
            created_at,
            user_id,
            users (name, avatar_url)
          `).order("created_at",{ascending:!1}).limit(10);if(S){console.error("변경사항 조회 오류:",S);return}console.log("📊 조회된 변경사항:",U);const K=(U==null?void 0:U.map(te=>{var Q,oe,xe,Ne,Se;return{id:te.id,user:((Q=te.users)==null?void 0:Q.name)||"알 수 없음",avatar:((oe=te.users)==null?void 0:oe.avatar_url)||"/avatars/default.jpg",setting:te.action||"설정 변경",oldValue:((xe=te.details)==null?void 0:xe.old_value)||"-",newValue:((Ne=te.details)==null?void 0:Ne.new_value)||"-",timestamp:W(te.created_at),category:((Se=te.details)==null?void 0:Se.category)||"기타"}}))||[];$(K),console.log("✅ 변경사항 업데이트 완료:",K)}catch(U){console.error("변경사항 조회 중 오류:",U)}})()},[]);const W=ee=>{const U=new Date,S=new Date(ee),K=Math.floor((U.getTime()-S.getTime())/(1e3*60));return K<1?"방금 전":K<60?`${K}분 전`:K<1440?`${Math.floor(K/60)}시간 전`:`${Math.floor(K/1440)}일 전`},[_,R]=h.useState({name:"",ceo:"",businessNumber:""}),[O,ne]=h.useState({language:"",timezone:"",dateFormat:""}),[P,H]=h.useState({emailNotification:"",pushNotification:"",notificationTime:""}),[L,M]=h.useState({passwordPolicy:"",sessionTimeout:"",twoFactor:""});h.useEffect(()=>{console.log("SettingsManagement component mounted"),F()},[]),h.useEffect(()=>{if(c){v(0);const ee=setInterval(()=>{v(U=>U>=90?(clearInterval(ee),90):U+10)},200);return()=>clearInterval(ee)}},[c]);const F=async()=>{console.log("Loading settings from Supabase...");try{const{data:ee,error:U}=await re.from("system_settings").select("setting_key, setting_value");if(U)throw console.error("Supabase error:",U),U;console.log("Loaded settings data:",ee);const S=(ee==null?void 0:ee.reduce((K,te)=>(K[te.setting_key]=te.setting_value,K),{}))||{};console.log("Settings map:",S),R({name:S.company_name||"",ceo:S.company_ceo||"",businessNumber:S.business_number||""}),ne({language:S.default_language||"",timezone:S.timezone||"",dateFormat:S.date_format||""}),H({emailNotification:S.email_notification||"",pushNotification:S.push_notification||"",notificationTime:S.notification_time||""}),M({passwordPolicy:S.password_policy||"",sessionTimeout:S.session_timeout||"",twoFactor:S.two_factor_auth||""})}catch(ee){console.error("Failed to load settings:",ee),console.log("Using fallback: settings load failed")}},G=async ee=>{console.log("💾 시스템 설정 저장 시작:",ee);try{const{data:{user:U}}=await re.auth.getUser();if(console.log("🔐 현재 사용자:",U),!U)throw new Error("사용자가 인증되지 않았습니다.");const{data:S,error:K}=await re.from("users").select("role, name, email").eq("id",U.id).single();console.log("👤 사용자 정보:",S,K),(S==null?void 0:S.role)!=="admin"&&console.warn("⚠️ 관리자 권한이 없습니다. 역할:",S==null?void 0:S.role);const te=[];for(const[xe,Ne]of Object.entries(ee)){console.log(`📝 저장 중: ${xe} = ${Ne}`);try{const{data:Se,error:Je}=await re.from("system_settings").select("*").eq("setting_key",xe).maybeSingle();if(console.log(`🔍 기존 설정 확인 [${xe}]:`,Se,Je),Se){const{data:Ze,error:Qe}=await re.from("system_settings").update({setting_value:String(Ne),updated_at:new Date().toISOString()}).eq("setting_key",xe).select();if(console.log(`✏️ 업데이트 결과 [${xe}]:`,Ze,Qe),Qe)throw console.error(`❌ 업데이트 실패 [${xe}]:`,Qe),Qe;te.push({key:xe,action:"update",success:!0,data:Ze})}else{const{data:Ze,error:Qe}=await re.from("system_settings").insert({setting_key:xe,setting_value:String(Ne),setting_type:"string",is_public:!0,description:`${xe} 설정`}).select();if(console.log(`➕ 생성 결과 [${xe}]:`,Ze,Qe),Qe)throw console.error(`❌ 생성 실패 [${xe}]:`,Qe),Qe;te.push({key:xe,action:"insert",success:!0,data:Ze})}}catch(Se){console.error(`❌ 설정 저장 실패 [${xe}]:`,Se),te.push({key:xe,action:"failed",success:!1,error:Se.message})}}console.log("📊 전체 저장 결과:",te);const Q=te.filter(xe=>xe.success),oe=te.filter(xe=>!xe.success);return oe.length>0&&(console.warn("⚠️ 일부 설정 저장 실패:",oe),alert(`일부 설정 저장에 실패했습니다:
${oe.map(xe=>`- ${xe.key}: ${xe.error}`).join(`
`)}`)),Q.length>0&&(console.log("✅ 저장 성공한 설정:",Q),alert(`${Q.length}개 설정이 성공적으로 저장되었습니다.`)),{success:Q.length>0,results:te}}catch(U){throw console.error("❌ 시스템 설정 저장 중 전체 오류:",U),U}},q=async ee=>{if(console.log("=== 설정 저장 버튼 클릭됨 ==="),console.log(`Save button clicked for category: ${ee}`),console.log("isLoading 현재 상태:",c),console.log("현재 폼 데이터 상태:"),console.log("- companyInfo:",_),console.log("- systemSettings:",O),console.log("- notificationSettings:",P),console.log("- securitySettings:",L),c){console.log("이미 로딩 중이므로 중복 요청 차단");return}u(!0),o(ee),console.log("로딩 상태 설정 완료, 저장 시작...");try{let U={};switch(ee){case"회사 정보":console.log("회사 정보 데이터 준비 중..."),U={company_name:_.name,company_ceo:_.ceo,business_number:_.businessNumber},console.log("회사 정보 데이터:",U);break;case"시스템 설정":console.log("시스템 설정 데이터 준비 중..."),U={default_language:O.language,timezone:O.timezone,date_format:O.dateFormat},console.log("시스템 설정 데이터:",U);break;case"알림 설정":console.log("알림 설정 데이터 준비 중..."),U={email_notification:P.emailNotification,push_notification:P.pushNotification,notification_time:P.notificationTime},console.log("알림 설정 데이터:",U);break;case"보안 설정":console.log("보안 설정 데이터 준비 중..."),U={password_policy:L.passwordPolicy,session_timeout:L.sessionTimeout,two_factor_auth:L.twoFactor},console.log("보안 설정 데이터:",U);break;default:console.log("알 수 없는 카테고리:",ee)}console.log("Prepared settings data:",U);const S=Object.fromEntries(Object.entries(U).filter(([K,te])=>te.trim()!==""));if(console.log("Filtered settings:",S),Object.keys(S).length===0){console.log("No settings to save"),y({title:"저장할 설정이 없습니다",description:"최소 하나 이상의 설정을 입력해주세요.",variant:"destructive"}),u(!1);return}await G(S),v(100),await F(),setTimeout(()=>{u(!1),t(!0),b(new Date),v(0)},500),console.log("Settings saved successfully"),y({title:"설정 저장 완료",description:`${ee} 설정이 성공적으로 저장되었습니다.`})}catch(U){u(!1),v(0),console.error("Save error:",U);const S=U instanceof Error?U.message:"알 수 없는 오류가 발생했습니다.";l(S),n(!0),y({title:"저장 실패",description:`${ee} 설정 저장 중 오류가 발생했습니다: ${S}`,variant:"destructive"})}},de=()=>{t(!1),o("")},z=()=>{n(!1),o(""),l("")};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 p-6",children:[s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[s.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 p-8 text-white shadow-2xl",children:[s.jsx("div",{className:"absolute inset-0 bg-black/20"}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"rounded-2xl bg-white/20 p-3 backdrop-blur-sm",children:s.jsx(Xs,{className:"h-8 w-8"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold",children:"설정 관리"}),s.jsx("p",{className:"text-lg text-white/80",children:"시스템 설정을 협업으로 관리합니다"})]})]}),g&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-white/70",children:[s.jsx(yr,{className:"h-4 w-4"}),"마지막 저장: ",g.toLocaleTimeString()]})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsx(PC,{children:s.jsxs(Po,{children:[s.jsx(To,{asChild:!0,children:s.jsxs(X,{onClick:F,variant:"secondary",size:"lg",className:"bg-white/20 backdrop-blur-sm border-white/30 text-white hover:bg-white/30",children:[s.jsx(Ar,{className:"h-5 w-5 mr-2"}),"새로고침"]})}),s.jsx(ka,{children:s.jsx("p",{children:"최신 설정을 불러옵니다"})})]})})})]})}),s.jsx("div",{className:"absolute -right-20 -top-20 h-40 w-40 rounded-full bg-white/10"}),s.jsx("div",{className:"absolute -left-10 -bottom-10 h-32 w-32 rounded-full bg-white/5"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[s.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[s.jsxs(Pe,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[s.jsx(ft,{className:"pb-3",children:s.jsxs(pt,{className:"flex items-center gap-2 text-lg",children:[s.jsx(us,{className:"h-5 w-5 text-green-600"}),"온라인 사용자",s.jsx(Le,{variant:"secondary",className:"ml-auto",children:k.length})]})}),s.jsx(Ee,{className:"space-y-3",children:x.filter(ee=>ee.isOnline&&ee.currentPage==="관리자").length===0?s.jsxs("div",{className:"text-center py-4",children:[s.jsx(Qi,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-500",children:"현재 설정관리에 온라인 사용자가 없습니다"})]}):x.filter(ee=>ee.isOnline&&ee.currentPage==="관리자").map(ee=>{const U=Math.floor((Date.now()-ee.lastActivity.getTime())/6e4);return s.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"relative",children:[s.jsxs(ys,{className:"h-8 w-8",children:[s.jsx(no,{src:ee.avatar}),s.jsx(ws,{children:ee.name[0]})]}),s.jsx("div",{className:"absolute -bottom-1 -right-1 h-3 w-3 rounded-full border-2 border-white bg-green-500"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:ee.name}),ee.currentTab&&s.jsxs("p",{className:"text-xs text-gray-500 truncate",children:[ee.currentTab.replace("설정관리-","")," 탭"]}),s.jsx("p",{className:"text-xs text-gray-400",children:U===0?"방금 전":`${U}분 전`})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[U<=1&&s.jsx(ki,{className:"h-3 w-3 text-orange-500"}),U>1&&U<=3&&s.jsx(uo,{className:"h-3 w-3 text-green-500"}),ee.role==="admin"&&s.jsx(mn,{className:"h-3 w-3 text-purple-500"})]})]},ee.id)})})]}),s.jsxs(Pe,{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm",children:[s.jsx(ft,{className:"pb-3",children:s.jsxs(pt,{className:"flex items-center gap-2 text-lg",children:[s.jsx(Iw,{className:"h-5 w-5 text-blue-600"}),"최근 변경사항"]})}),s.jsx(Ee,{className:"space-y-3",children:B.length===0?s.jsxs("div",{className:"text-center py-4",children:[s.jsx(Iw,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-500",children:"최근 변경사항이 없습니다"})]}):B.map(ee=>s.jsxs("div",{className:"p-3 rounded-lg bg-gray-50 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ys,{className:"h-6 w-6",children:[s.jsx(no,{src:ee.avatar}),s.jsx(ws,{children:ee.user[0]})]}),s.jsx("span",{className:"text-sm font-medium",children:ee.user}),s.jsx(Le,{variant:"outline",className:"text-xs ml-auto",children:ee.category})]}),s.jsxs("div",{className:"text-xs text-gray-600",children:[s.jsx("span",{className:"font-medium",children:ee.setting})," 변경"]}),s.jsx("div",{className:"text-xs text-gray-500",children:ee.timestamp})]},ee.id))})]})]}),s.jsx("div",{className:"lg:col-span-3",children:s.jsxs(ai,{value:d,onValueChange:f,className:"space-y-6",children:[s.jsxs(xo,{className:"grid w-full grid-cols-4 bg-white/80 backdrop-blur-sm border-0 shadow-lg p-1 h-14",children:[s.jsxs(Jt,{value:"company",className:"flex items-center gap-2 data-[state=active]:bg-gradient-to-r data-[state=active]:from-blue-500 data-[state=active]:to-purple-500 data-[state=active]:text-white",children:[s.jsx(Ah,{className:"h-4 w-4"}),"회사 정보"]}),s.jsxs(Jt,{value:"system",className:"flex items-center gap-2 data-[state=active]:bg-gradient-to-r data-[state=active]:from-green-500 data-[state=active]:to-teal-500 data-[state=active]:text-white",children:[s.jsx(ex,{className:"h-4 w-4"}),"시스템"]}),s.jsxs(Jt,{value:"notifications",className:"flex items-center gap-2 data-[state=active]:bg-gradient-to-r data-[state=active]:from-orange-500 data-[state=active]:to-red-500 data-[state=active]:text-white",children:[s.jsx(Un,{className:"h-4 w-4"}),"알림"]}),s.jsxs(Jt,{value:"security",className:"flex items-center gap-2 data-[state=active]:bg-gradient-to-r data-[state=active]:from-red-500 data-[state=active]:to-pink-500 data-[state=active]:text-white",children:[s.jsx(mn,{className:"h-4 w-4"}),"보안"]})]}),c&&s.jsx(Pe,{className:"border-0 shadow-lg bg-gradient-to-r from-blue-50 to-indigo-50",children:s.jsx(Ee,{className:"p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 border-3 border-blue-500 border-t-transparent rounded-full animate-spin"}),s.jsxs("div",{children:[s.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[a," 설정 저장 중..."]}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"데이터베이스에 변경사항을 저장하고 있습니다"})]})]}),s.jsxs("span",{className:"text-sm text-gray-500 font-mono",children:[p,"%"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(zl,{value:p,className:"h-3"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[s.jsx("span",{children:"설정 검증 및 저장"}),s.jsx("span",{children:"완료되면 자동으로 새로고침됩니다"})]})]})]})})}),s.jsx(Qt,{value:"company",className:"space-y-6",children:s.jsxs(Pe,{className:"border-0 shadow-xl bg-white/90 backdrop-blur-sm overflow-hidden",children:[s.jsx("div",{className:"h-2 bg-gradient-to-r from-blue-500 to-purple-500"}),s.jsx(ft,{className:"pb-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"rounded-xl bg-gradient-to-r from-blue-500 to-purple-500 p-3 text-white",children:s.jsx(Ah,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx(pt,{className:"text-2xl",children:"회사 정보"}),s.jsx(Ct,{className:"text-base",children:"기본적인 회사 정보를 설정합니다"})]})]})}),s.jsxs(Ee,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"company-name",className:"text-sm font-semibold",children:"회사명"}),s.jsx(fe,{id:"company-name",value:_.name,onChange:ee=>R({..._,name:ee.target.value}),placeholder:"(주)코일마스터",className:"h-12 border-2 focus:border-blue-500 transition-colors"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"ceo-name",className:"text-sm font-semibold",children:"대표자명"}),s.jsx(fe,{id:"ceo-name",value:_.ceo,onChange:ee=>R({..._,ceo:ee.target.value}),placeholder:"대표자명을 입력하세요",className:"h-12 border-2 focus:border-blue-500 transition-colors"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"business-number",className:"text-sm font-semibold",children:"사업자등록번호"}),s.jsx(fe,{id:"business-number",value:_.businessNumber,onChange:ee=>R({..._,businessNumber:ee.target.value}),placeholder:"000-00-00000",className:"h-12 border-2 focus:border-blue-500 transition-colors"})]}),s.jsx(X,{onClick:()=>{console.log("🔘 회사 정보 저장 버튼 클릭!"),q("회사 정보")},disabled:c,className:"w-full h-12 bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-300",children:c&&a==="회사 정보"?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"저장 중..."]}):s.jsxs(s.Fragment,{children:[s.jsx(dc,{className:"h-5 w-5 mr-2"}),"설정 저장"]})})]})]})}),s.jsx(Qt,{value:"system",className:"space-y-6",children:s.jsxs(Pe,{className:"border-0 shadow-xl bg-white/90 backdrop-blur-sm overflow-hidden",children:[s.jsx("div",{className:"h-2 bg-gradient-to-r from-green-500 to-teal-500"}),s.jsx(ft,{className:"pb-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"rounded-xl bg-gradient-to-r from-green-500 to-teal-500 p-3 text-white",children:s.jsx(ex,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx(pt,{className:"text-2xl",children:"시스템 설정"}),s.jsx(Ct,{className:"text-base",children:"시스템 기본 설정을 관리합니다"})]})]})}),s.jsxs(Ee,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"language",className:"text-sm font-semibold",children:"기본 언어"}),s.jsxs(Oe,{value:O.language,onValueChange:ee=>ne({...O,language:ee}),children:[s.jsx(Re,{id:"language",className:"h-12 border-2 focus:border-green-500",children:s.jsx(Ie,{placeholder:"한국어"})}),s.jsxs(Ae,{children:[s.jsx(ce,{value:"ko",children:"🇰🇷 한국어"}),s.jsx(ce,{value:"en",children:"🇺🇸 English"}),s.jsx(ce,{value:"th",children:"🇹🇭 ไทย"}),s.jsx(ce,{value:"zh",children:"🇨🇳 中文"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"timezone",className:"text-sm font-semibold",children:"시간대"}),s.jsxs(Oe,{value:O.timezone,onValueChange:ee=>ne({...O,timezone:ee}),children:[s.jsx(Re,{id:"timezone",className:"h-12 border-2 focus:border-green-500",children:s.jsx(Ie,{placeholder:"아시아/서울 (GMT+9)"})}),s.jsxs(Ae,{children:[s.jsx(ce,{value:"Asia/Seoul",children:"🇰🇷 아시아/서울 (GMT+9)"}),s.jsx(ce,{value:"UTC",children:"🌍 UTC (GMT+0)"}),s.jsx(ce,{value:"America/New_York",children:"🇺🇸 뉴욕 (GMT-5)"}),s.jsx(ce,{value:"Europe/London",children:"🇬🇧 런던 (GMT+0)"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"date-format",className:"text-sm font-semibold",children:"날짜 형식"}),s.jsxs(Oe,{value:O.dateFormat,onValueChange:ee=>ne({...O,dateFormat:ee}),children:[s.jsx(Re,{id:"date-format",className:"h-12 border-2 focus:border-green-500",children:s.jsx(Ie,{placeholder:"YYYY-MM-DD"})}),s.jsxs(Ae,{children:[s.jsx(ce,{value:"yyyy-mm-dd",children:"YYYY-MM-DD"}),s.jsx(ce,{value:"mm-dd-yyyy",children:"MM-DD-YYYY"}),s.jsx(ce,{value:"dd-mm-yyyy",children:"DD-MM-YYYY"})]})]})]}),s.jsx(X,{onClick:()=>{console.log("🔘 시스템 설정 저장 버튼 클릭!"),q("시스템 설정")},disabled:c,className:"w-full h-12 bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-300",children:c&&a==="시스템 설정"?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"저장 중..."]}):s.jsxs(s.Fragment,{children:[s.jsx(dc,{className:"h-5 w-5 mr-2"}),"설정 저장"]})})]})]})}),s.jsx(Qt,{value:"notifications",className:"space-y-6",children:s.jsxs(Pe,{className:"border-0 shadow-xl bg-white/90 backdrop-blur-sm overflow-hidden",children:[s.jsx("div",{className:"h-2 bg-gradient-to-r from-orange-500 to-red-500"}),s.jsx(ft,{className:"pb-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"rounded-xl bg-gradient-to-r from-orange-500 to-red-500 p-3 text-white",children:s.jsx(Un,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx(pt,{className:"text-2xl",children:"알림 설정"}),s.jsx(Ct,{className:"text-base",children:"시스템 알림 설정을 관리합니다"})]})]})}),s.jsxs(Ee,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"email-notification",className:"text-sm font-semibold",children:"이메일 알림"}),s.jsxs(Oe,{value:P.emailNotification,onValueChange:ee=>H({...P,emailNotification:ee}),children:[s.jsx(Re,{id:"email-notification",className:"h-12 border-2 focus:border-orange-500",children:s.jsx(Ie,{placeholder:"모든 알림"})}),s.jsxs(Ae,{children:[s.jsx(ce,{value:"all",children:"📧 모든 알림"}),s.jsx(ce,{value:"important",children:"⚠️ 중요 알림만"}),s.jsx(ce,{value:"none",children:"🔕 알림 끄기"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"push-notification",className:"text-sm font-semibold",children:"푸시 알림"}),s.jsxs(Oe,{value:P.pushNotification,onValueChange:ee=>H({...P,pushNotification:ee}),children:[s.jsx(Re,{id:"push-notification",className:"h-12 border-2 focus:border-orange-500",children:s.jsx(Ie,{placeholder:"중요 알림만"})}),s.jsxs(Ae,{children:[s.jsx(ce,{value:"all",children:"🔔 모든 알림"}),s.jsx(ce,{value:"important",children:"⚠️ 중요 알림만"}),s.jsx(ce,{value:"none",children:"🔕 알림 끄기"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"notification-time",className:"text-sm font-semibold",children:"알림 시간"}),s.jsxs(Oe,{value:P.notificationTime,onValueChange:ee=>H({...P,notificationTime:ee}),children:[s.jsx(Re,{id:"notification-time",className:"h-12 border-2 focus:border-orange-500",children:s.jsx(Ie,{placeholder:"오전 9시"})}),s.jsxs(Ae,{children:[s.jsx(ce,{value:"09:00",children:"🌅 오전 9시"}),s.jsx(ce,{value:"12:00",children:"☀️ 오후 12시"}),s.jsx(ce,{value:"18:00",children:"🌆 오후 6시"})]})]})]}),s.jsx(X,{onClick:()=>{console.log("🔘 알림 설정 저장 버튼 클릭!"),q("알림 설정")},disabled:c,className:"w-full h-12 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-300",children:c&&a==="알림 설정"?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"저장 중..."]}):s.jsxs(s.Fragment,{children:[s.jsx(dc,{className:"h-5 w-5 mr-2"}),"설정 저장"]})})]})]})}),s.jsx(Qt,{value:"security",className:"space-y-6",children:s.jsxs(Pe,{className:"border-0 shadow-xl bg-white/90 backdrop-blur-sm overflow-hidden",children:[s.jsx("div",{className:"h-2 bg-gradient-to-r from-red-500 to-pink-500"}),s.jsx(ft,{className:"pb-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"rounded-xl bg-gradient-to-r from-red-500 to-pink-500 p-3 text-white",children:s.jsx(mn,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx(pt,{className:"text-2xl",children:"보안 설정"}),s.jsx(Ct,{className:"text-base",children:"시스템 보안 설정을 관리합니다"})]})]})}),s.jsxs(Ee,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"password-policy",className:"text-sm font-semibold",children:"비밀번호 정책"}),s.jsxs(Oe,{value:L.passwordPolicy,onValueChange:ee=>M({...L,passwordPolicy:ee}),children:[s.jsx(Re,{id:"password-policy",className:"h-12 border-2 focus:border-red-500",children:s.jsx(Ie,{placeholder:"강력"})}),s.jsxs(Ae,{children:[s.jsx(ce,{value:"strong",children:"🔒 강력 (8자 이상, 특수문자 포함)"}),s.jsx(ce,{value:"medium",children:"🔐 중간 (6자 이상)"}),s.jsx(ce,{value:"basic",children:"🔓 기본 (4자 이상)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"two-factor",className:"text-sm font-semibold",children:"2단계 인증"}),s.jsxs(Oe,{value:L.twoFactor,onValueChange:ee=>M({...L,twoFactor:ee}),children:[s.jsx(Re,{id:"two-factor",className:"h-12 border-2 focus:border-red-500",children:s.jsx(Ie,{placeholder:"비활성화"})}),s.jsxs(Ae,{children:[s.jsx(ce,{value:"enabled",children:"✅ 활성화"}),s.jsx(ce,{value:"disabled",children:"❌ 비활성화"}),s.jsx(ce,{value:"optional",children:"⚡ 선택사항"})]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"session-timeout",className:"text-sm font-semibold",children:"세션 타임아웃 (분)"}),s.jsx(fe,{id:"session-timeout",type:"number",value:L.sessionTimeout,onChange:ee=>M({...L,sessionTimeout:ee.target.value}),placeholder:"60",className:"h-12 border-2 focus:border-red-500 transition-colors"})]}),s.jsx(X,{onClick:()=>{console.log("🔘 보안 설정 저장 버튼 클릭!"),q("보안 설정")},disabled:c,className:"w-full h-12 bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-300",children:c&&a==="보안 설정"?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"저장 중..."]}):s.jsxs(s.Fragment,{children:[s.jsx(dc,{className:"h-5 w-5 mr-2"}),"설정 저장"]})})]})]})})]})})]})]}),s.jsx(kt,{open:e,onOpenChange:t,children:s.jsxs(bt,{className:"sm:max-w-md border-0 shadow-2xl",children:[s.jsxs(jt,{children:[s.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-green-400 to-emerald-500 rounded-full",children:s.jsx(Sr,{className:"w-8 h-8 text-white"})}),s.jsx(Nt,{className:"text-center text-2xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent",children:"저장 완료!"}),s.jsxs(yn,{className:"text-center text-lg",children:[s.jsx("span",{className:"font-semibold text-gray-700",children:a})," 설정이 성공적으로 저장되었습니다.",s.jsx("br",{}),g&&s.jsxs("div",{className:"text-sm text-green-600 mt-2 p-2 bg-green-50 rounded-lg border border-green-200",children:[s.jsx("span",{className:"font-medium",children:"저장 완료:"})," ",g.toLocaleString("ko-KR")]}),s.jsx("span",{className:"text-sm text-gray-500 mt-2 block",children:"모든 팀원에게 변경사항이 동기화됩니다."})]})]}),s.jsx($t,{className:"sm:justify-center",children:s.jsxs(X,{onClick:de,className:"w-full sm:w-auto bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white font-semibold shadow-lg",children:[s.jsx(Qi,{className:"h-4 w-4 mr-2"}),"확인"]})})]})}),s.jsx(kt,{open:r,onOpenChange:n,children:s.jsxs(bt,{className:"sm:max-w-md border-0 shadow-2xl",children:[s.jsxs(jt,{children:[s.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto mb-4 bg-gradient-to-r from-red-400 to-pink-500 rounded-full",children:s.jsx(rr,{className:"w-8 h-8 text-white"})}),s.jsx(Nt,{className:"text-center text-2xl font-bold bg-gradient-to-r from-red-600 to-pink-600 bg-clip-text text-transparent",children:"저장 실패"}),s.jsxs(yn,{className:"text-center text-lg",children:[s.jsx("span",{className:"font-semibold text-gray-700",children:a})," 설정 저장에 실패했습니다.",s.jsx("br",{}),s.jsxs("div",{className:"text-sm text-red-600 mt-3 p-3 bg-red-50 rounded-lg border border-red-200",children:[s.jsx("span",{className:"font-medium",children:"오류 상세:"}),s.jsx("br",{}),i]}),s.jsx("span",{className:"text-sm text-gray-500 mt-2 block",children:"잠시 후 다시 시도해주세요."})]})]}),s.jsxs($t,{className:"sm:justify-center space-y-2 sm:space-y-0 sm:space-x-2",children:[s.jsx(X,{onClick:z,variant:"outline",className:"w-full sm:w-auto",children:"닫기"}),s.jsxs(X,{onClick:()=>{z(),q(a)},className:"w-full sm:w-auto bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 text-white font-semibold shadow-lg",children:[s.jsx(Ar,{className:"h-4 w-4 mr-2"}),"다시 시도"]})]})]})})]})}const Hz=ni({employee_number:Lt().min(1,"사번을 입력하세요."),name:Lt().min(2,"이름은 2자 이상이어야 합니다."),english_name:Lt().optional(),department_id:Lt().min(1,"부서를 선택하세요."),corporation_id:Lt().min(1,"법인을 선택하세요."),position_id:Lt().min(1,"직책을 선택하세요.")});function qz({open:e,onOpenChange:t}){const{departments:r,corporations:n,positions:a,createEmployee:o}=yt(),[i,l]=h.useState(!1),c=ta({resolver:ra(Hz),defaultValues:{employee_number:"",name:"",english_name:"",department_id:"",corporation_id:"",position_id:""}}),u=async d=>{try{l(!0),await o(d),t(!1),c.reset()}catch(m){console.error("Error creating employee:",m)}finally{l(!1)}};return s.jsx(kt,{open:e,onOpenChange:t,children:s.jsxs(bt,{className:"sm:max-w-[425px]",children:[s.jsx(jt,{children:s.jsx(Nt,{children:"새 직원 등록"})}),s.jsx(sa,{...c,children:s.jsxs("form",{onSubmit:c.handleSubmit(u),className:"space-y-4",children:[s.jsx(it,{control:c.control,name:"employee_number",render:({field:d})=>s.jsxs(et,{children:[s.jsx(tt,{children:"사번"}),s.jsx(rt,{children:s.jsx(fe,{placeholder:"사번을 입력하세요",...d})}),s.jsx(dt,{})]})}),s.jsx(it,{control:c.control,name:"name",render:({field:d})=>s.jsxs(et,{children:[s.jsx(tt,{children:"이름"}),s.jsx(rt,{children:s.jsx(fe,{placeholder:"이름을 입력하세요",...d})}),s.jsx(dt,{})]})}),s.jsx(it,{control:c.control,name:"english_name",render:({field:d})=>s.jsxs(et,{children:[s.jsx(tt,{children:"영문 이름"}),s.jsx(rt,{children:s.jsx(fe,{placeholder:"영문 이름을 입력하세요",...d})}),s.jsx(dt,{})]})}),s.jsx(it,{control:c.control,name:"department_id",render:({field:d})=>s.jsxs(et,{children:[s.jsx(tt,{children:"부서"}),s.jsxs(Oe,{onValueChange:d.onChange,defaultValue:d.value,children:[s.jsx(rt,{children:s.jsx(Re,{children:s.jsx(Ie,{placeholder:"부서를 선택하세요"})})}),s.jsx(Ae,{children:r.map(m=>s.jsx(ce,{value:m.id,children:m.name},m.id))})]}),s.jsx(dt,{})]})}),s.jsx(it,{control:c.control,name:"corporation_id",render:({field:d})=>s.jsxs(et,{children:[s.jsx(tt,{children:"법인"}),s.jsxs(Oe,{onValueChange:d.onChange,defaultValue:d.value,children:[s.jsx(rt,{children:s.jsx(Re,{children:s.jsx(Ie,{placeholder:"법인을 선택하세요"})})}),s.jsx(Ae,{children:n.map(m=>s.jsx(ce,{value:m.id,children:m.name},m.id))})]}),s.jsx(dt,{})]})}),s.jsx(it,{control:c.control,name:"position_id",render:({field:d})=>s.jsxs(et,{children:[s.jsx(tt,{children:"직책"}),s.jsxs(Oe,{onValueChange:d.onChange,defaultValue:d.value,children:[s.jsx(rt,{children:s.jsx(Re,{children:s.jsx(Ie,{placeholder:"직책을 선택하세요"})})}),s.jsx(Ae,{children:a.map(m=>s.jsx(ce,{value:m.id,children:m.name},m.id))})]}),s.jsx(dt,{})]})}),s.jsx($t,{children:s.jsx(X,{type:"submit",disabled:i,children:i?"등록 중...":"등록"})})]})})]})})}const Yz=ni({project_id:Lt(),project_type:Lt(),start_date:vd(),end_date:vd(),content:Lt().min(1,"내용을 입력하세요."),files:i2(o2()).optional()});function Kz({open:e,onOpenChange:t,projectId:r,projectName:n}){const{createSubTask:a}=yt(),[o,i]=h.useState(!1),[l,c]=h.useState([]),u=ta({resolver:ra(Yz),defaultValues:{project_id:r,project_type:"",content:"",files:[]}}),d=async f=>{try{i(!0);const p=new FormData;l.forEach(v=>{p.append("files",v)}),await a({...f,files:l}),t(!1),u.reset(),c([])}catch(p){console.error("Error creating subtask:",p)}finally{i(!1)}},m=f=>{f.target.files&&c(Array.from(f.target.files))};return s.jsx(kt,{open:e,onOpenChange:t,children:s.jsxs(bt,{className:"sm:max-w-[600px]",children:[s.jsx(jt,{children:s.jsx(Nt,{children:"하위 업무 추가"})}),s.jsx(sa,{...u,children:s.jsxs("form",{onSubmit:u.handleSubmit(d),className:"space-y-4",children:[s.jsx(it,{control:u.control,name:"project_id",render:({field:f})=>s.jsxs(et,{children:[s.jsx(tt,{children:"프로젝트"}),s.jsx(rt,{children:s.jsx(fe,{value:n,disabled:!0})}),s.jsx(dt,{})]})}),s.jsx(it,{control:u.control,name:"project_type",render:({field:f})=>s.jsxs(et,{children:[s.jsx(tt,{children:"프로젝트 유형"}),s.jsxs(Oe,{onValueChange:f.onChange,defaultValue:f.value,children:[s.jsx(rt,{children:s.jsx(Re,{children:s.jsx(Ie,{placeholder:"프로젝트 유형 선택"})})}),s.jsxs(Ae,{children:[s.jsx(ce,{value:"development",children:"개발"}),s.jsx(ce,{value:"design",children:"설계"}),s.jsx(ce,{value:"research",children:"연구"}),s.jsx(ce,{value:"maintenance",children:"유지보수"})]})]}),s.jsx(dt,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(it,{control:u.control,name:"start_date",render:({field:f})=>s.jsxs(et,{className:"flex flex-col",children:[s.jsx(tt,{children:"시작일"}),s.jsxs(Hh,{children:[s.jsx(qh,{asChild:!0,children:s.jsx(rt,{children:s.jsxs(X,{variant:"outline",className:se("w-full pl-3 text-left font-normal",!f.value&&"text-muted-foreground"),children:[f.value?Ke(f.value,"PPP"):s.jsx("span",{children:"날짜 선택"}),s.jsx(sr,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),s.jsx(sd,{className:"w-auto p-0",align:"start",children:s.jsx(vl,{mode:"single",selected:f.value,onSelect:f.onChange,disabled:p=>p<new Date("1900-01-01"),initialFocus:!0})})]}),s.jsx(dt,{})]})}),s.jsx(it,{control:u.control,name:"end_date",render:({field:f})=>s.jsxs(et,{className:"flex flex-col",children:[s.jsx(tt,{children:"마감일"}),s.jsxs(Hh,{children:[s.jsx(qh,{asChild:!0,children:s.jsx(rt,{children:s.jsxs(X,{variant:"outline",className:se("w-full pl-3 text-left font-normal",!f.value&&"text-muted-foreground"),children:[f.value?Ke(f.value,"PPP"):s.jsx("span",{children:"날짜 선택"}),s.jsx(sr,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),s.jsx(sd,{className:"w-auto p-0",align:"start",children:s.jsx(vl,{mode:"single",selected:f.value,onSelect:f.onChange,disabled:p=>p<new Date("1900-01-01"),initialFocus:!0})})]}),s.jsx(dt,{})]})})]}),s.jsx(it,{control:u.control,name:"content",render:({field:f})=>s.jsxs(et,{children:[s.jsx(tt,{children:"내용"}),s.jsx(rt,{children:s.jsx(na,{placeholder:"업무 내용을 입력하세요",className:"min-h-[100px]",...f})}),s.jsx(dt,{})]})}),s.jsxs(et,{children:[s.jsx(tt,{children:"파일 첨부"}),s.jsx(rt,{children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(fe,{type:"file",multiple:!0,onChange:m,className:"hidden",id:"file-upload"}),s.jsxs("label",{htmlFor:"file-upload",className:"flex items-center gap-2 px-4 py-2 border rounded-md cursor-pointer hover:bg-gray-50",children:[s.jsx(Ol,{className:"w-4 h-4"}),"파일 선택"]}),l.length>0&&s.jsxs("span",{className:"text-sm text-gray-500",children:[l.length,"개의 파일 선택됨"]})]})}),l.length>0&&s.jsx("div",{className:"mt-2 space-y-1",children:l.map((f,p)=>s.jsx("div",{className:"text-sm text-gray-500",children:f.name},p))})]}),s.jsx($t,{children:s.jsx(X,{type:"submit",disabled:o,children:o?"추가 중...":"추가"})})]})})]})})}function Gz(){const{employees:e}=yt(),[t,r]=h.useState(!1),[n,a]=h.useState(!1),[o,i]=h.useState(null),l=(c,u)=>{i({id:c,name:u}),a(!0)};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Pe,{children:[s.jsx(ft,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(pt,{children:"직원 관리"}),s.jsx(Ct,{children:"직원 정보를 관리합니다."})]}),s.jsx(X,{onClick:()=>r(!0),children:"새 직원 등록"})]})}),s.jsxs(Ee,{children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx(fe,{placeholder:"직원 검색...",className:"max-w-sm"}),s.jsxs(Oe,{children:[s.jsx(Re,{className:"w-[180px]",children:s.jsx(Ie,{placeholder:"부서 선택"})}),s.jsxs(Ae,{children:[s.jsx(ce,{value:"all",children:"전체 부서"}),s.jsx(ce,{value:"development",children:"개발"}),s.jsx(ce,{value:"sales",children:"영업"}),s.jsx(ce,{value:"management",children:"경영"})]})]}),s.jsxs(Oe,{children:[s.jsx(Re,{className:"w-[180px]",children:s.jsx(Ie,{placeholder:"법인 선택"})}),s.jsxs(Ae,{children:[s.jsx(ce,{value:"all",children:"전체 법인"}),s.jsx(ce,{value:"hq",children:"본사"}),s.jsx(ce,{value:"branch",children:"지사"})]})]})]}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(pr,{children:[s.jsx(gr,{children:s.jsxs(ot,{children:[s.jsx(we,{children:"사번"}),s.jsx(we,{children:"이름"}),s.jsx(we,{children:"영문 이름"}),s.jsx(we,{children:"부서"}),s.jsx(we,{children:"법인"}),s.jsx(we,{children:"직책"}),s.jsx(we,{children:"관리"})]})}),s.jsx(xr,{children:e.map(c=>{var u,d,m;return s.jsxs(ot,{children:[s.jsx(ge,{children:c.employee_number}),s.jsx(ge,{children:c.name}),s.jsx(ge,{children:c.english_name}),s.jsx(ge,{children:((u=c.department)==null?void 0:u.name)||"-"}),s.jsx(ge,{children:((d=c.corporation)==null?void 0:d.name)||"-"}),s.jsx(ge,{children:((m=c.position)==null?void 0:m.name)||"-"}),s.jsx(ge,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(X,{variant:"ghost",size:"sm",children:"수정"}),s.jsx(X,{variant:"ghost",size:"sm",className:"text-red-500",children:"삭제"}),s.jsxs(X,{variant:"ghost",size:"sm",className:"text-blue-500",onClick:()=>l(c.id,c.name),children:[s.jsx(_n,{className:"w-4 h-4 mr-1"}),"하위 업무"]})]})})]},c.id)})})]})})]})]}),s.jsx(qz,{open:t,onOpenChange:r}),o&&s.jsx(Kz,{open:n,onOpenChange:a,projectId:o.id,projectName:o.name})]})}const Jz=ni({name:Lt().min(2,"이름은 2자 이상이어야 합니다."),email:Lt().email("유효한 이메일 주소를 입력하세요."),corporation_id:Lt().min(1,"법인을 선택하세요."),department_id:Lt().min(1,"부서를 선택하세요."),position_id:Lt().min(1,"직책을 선택하세요.")});function Zz(){const{managers:e,corporations:t,positions:r,departments:n,createManager:a,updateManager:o,deleteManager:i}=yt(),[l,c]=h.useState(!1),[u,d]=h.useState(!1),[m,f]=h.useState(!1),[p,v]=h.useState(null),[g,b]=h.useState(!1),y=ta({resolver:ra(Jz),defaultValues:{name:"",email:"",corporation_id:"",department_id:"",position_id:""}}),x=A=>{v(A),y.reset({name:A.name,email:A.email,corporation_id:A.corporation_id||"",department_id:A.department_id||"",position_id:A.position_id||""}),d(!0)},w=A=>{v(A),f(!0)},j=async A=>{try{b(!0),p?await o(p.id,A):await a(A),y.reset(),c(!1),d(!1)}catch(C){console.error("Error saving manager:",C)}finally{b(!1)}},k=async()=>{if(p)try{b(!0),await i(p.id),f(!1)}catch(A){console.error("Error deleting manager:",A)}finally{b(!1)}};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Pe,{children:[s.jsx(ft,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(pt,{children:"담당자 관리"}),s.jsx(Ct,{children:"담당자 정보를 관리합니다."})]}),s.jsx(X,{onClick:()=>{y.reset(),v(null),c(!0)},children:"새 담당자 등록"})]})}),s.jsxs(Ee,{children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx(fe,{placeholder:"담당자 검색...",className:"max-w-sm"}),s.jsxs(Oe,{children:[s.jsx(Re,{className:"w-[180px]",children:s.jsx(Ie,{placeholder:"법인 선택"})}),s.jsxs(Ae,{children:[s.jsx(ce,{value:"all",children:"전체 법인"}),t.map(A=>s.jsx(ce,{value:A.id,children:A.name},A.id))]})]})]}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(pr,{children:[s.jsx(gr,{children:s.jsxs(ot,{children:[s.jsx(we,{children:"이름"}),s.jsx(we,{children:"이메일"}),s.jsx(we,{children:"법인"}),s.jsx(we,{children:"부서"}),s.jsx(we,{children:"직책"}),s.jsx(we,{children:"관리"})]})}),s.jsx(xr,{children:e.map(A=>{var C,T,B;return s.jsxs(ot,{children:[s.jsx(ge,{children:A.name}),s.jsx(ge,{children:A.email}),s.jsx(ge,{children:((C=A.corporation)==null?void 0:C.name)||"-"}),s.jsx(ge,{children:((T=A.department)==null?void 0:T.name)||"-"}),s.jsx(ge,{children:((B=A.position)==null?void 0:B.name)||"-"}),s.jsx(ge,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>x(A),children:"수정"}),s.jsx(X,{variant:"ghost",size:"sm",className:"text-red-500",onClick:()=>w(A),children:"삭제"})]})})]},A.id)})})]})})]})]}),s.jsx(kt,{open:l||u,onOpenChange:A=>{A||(c(!1),d(!1))},children:s.jsxs(bt,{children:[s.jsx(jt,{children:s.jsx(Nt,{children:p?"담당자 수정":"새 담당자 등록"})}),s.jsx(sa,{...y,children:s.jsxs("form",{onSubmit:y.handleSubmit(j),className:"space-y-4",children:[s.jsx(it,{control:y.control,name:"name",render:({field:A})=>s.jsxs(et,{children:[s.jsx(tt,{children:"이름"}),s.jsx(rt,{children:s.jsx(fe,{placeholder:"이름을 입력하세요",...A})}),s.jsx(dt,{})]})}),s.jsx(it,{control:y.control,name:"email",render:({field:A})=>s.jsxs(et,{children:[s.jsx(tt,{children:"이메일"}),s.jsx(rt,{children:s.jsx(fe,{placeholder:"이메일을 입력하세요",type:"email",...A})}),s.jsx(dt,{})]})}),s.jsx(it,{control:y.control,name:"corporation_id",render:({field:A})=>s.jsxs(et,{children:[s.jsx(tt,{children:"법인"}),s.jsxs(Oe,{onValueChange:A.onChange,defaultValue:A.value,children:[s.jsx(rt,{children:s.jsx(Re,{children:s.jsx(Ie,{placeholder:"법인을 선택하세요"})})}),s.jsx(Ae,{children:t.map(C=>s.jsx(ce,{value:C.id,children:C.name},C.id))})]}),s.jsx(dt,{})]})}),s.jsx(it,{control:y.control,name:"department_id",render:({field:A})=>s.jsxs(et,{children:[s.jsx(tt,{children:"부서"}),s.jsxs(Oe,{onValueChange:A.onChange,defaultValue:A.value,children:[s.jsx(rt,{children:s.jsx(Re,{children:s.jsx(Ie,{placeholder:"부서를 선택하세요"})})}),s.jsx(Ae,{children:n.map(C=>s.jsx(ce,{value:C.id,children:C.name},C.id))})]}),s.jsx(dt,{})]})}),s.jsx(it,{control:y.control,name:"position_id",render:({field:A})=>s.jsxs(et,{children:[s.jsx(tt,{children:"직책"}),s.jsxs(Oe,{onValueChange:A.onChange,defaultValue:A.value,children:[s.jsx(rt,{children:s.jsx(Re,{children:s.jsx(Ie,{placeholder:"직책을 선택하세요"})})}),s.jsx(Ae,{children:r.map(C=>s.jsx(ce,{value:C.id,children:C.name},C.id))})]}),s.jsx(dt,{})]})}),s.jsx($t,{children:s.jsx(X,{type:"submit",disabled:g,children:g?"저장 중...":p?"수정":"등록"})})]})})]})}),s.jsx(vo,{open:m,onOpenChange:f,children:s.jsxs(oa,{children:[s.jsxs(ia,{children:[s.jsx(ca,{children:"담당자 삭제"}),s.jsx(da,{children:"정말로 이 담당자를 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다."})]}),s.jsxs(la,{children:[s.jsx(ha,{children:"취소"}),s.jsx(ua,{onClick:k,disabled:g,className:"bg-red-500 hover:bg-red-600",children:g?"삭제 중...":"삭제"})]})]})})]})}function Qz({open:e,onOpenChange:t}){const{createDepartment:r}=yt(),[n,a]=h.useState({name:"",code:"",description:""}),o=async i=>{i.preventDefault();try{console.log("🏢 부서 생성 다이얼로그에서 제출:",n),await r(n),console.log("✅ 부서 생성 완료"),Fs({title:"부서 생성 완료",description:`"${n.name}" 부서가 성공적으로 등록되었습니다.`}),t(!1),a({name:"",code:"",description:""})}catch(l){console.error("❌ 부서 생성 실패:",l),Fs({title:"오류 발생",description:"부서 생성 중 문제가 발생했습니다. 다시 시도해주세요.",variant:"destructive"})}};return s.jsx(kt,{open:e,onOpenChange:t,children:s.jsxs(bt,{className:"sm:max-w-[500px]",children:[s.jsx(jt,{children:s.jsx(Nt,{children:"새 부서 등록"})}),s.jsxs("form",{onSubmit:o,className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"name",children:"부서명"}),s.jsx(fe,{id:"name",value:n.name,onChange:i=>a({...n,name:i.target.value}),placeholder:"부서명을 입력하세요",required:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"code",children:"부서코드"}),s.jsx(fe,{id:"code",value:n.code,onChange:i=>a({...n,code:i.target.value}),placeholder:"부서코드를 입력하세요",required:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"description",children:"설명"}),s.jsx(na,{id:"description",value:n.description,onChange:i=>a({...n,description:i.target.value}),placeholder:"부서 설명을 입력하세요",rows:4})]})]}),s.jsxs($t,{children:[s.jsx(X,{type:"button",variant:"outline",onClick:()=>t(!1),children:"취소"}),s.jsx(X,{type:"submit",children:"등록"})]})]})]})})}function Xz(){const{departments:e}=yt(),[t,r]=h.useState(!1);return h.useEffect(()=>{console.log("🏢 DepartmentsManagement - 부서 목록 업데이트:",e),console.log("🏢 부서 개수:",e.length)},[e]),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"부서 관리"}),s.jsx(X,{onClick:()=>r(!0),children:"새 부서 등록"})]}),s.jsx("div",{className:"border rounded-lg",children:s.jsxs(pr,{children:[s.jsx(gr,{children:s.jsxs(ot,{children:[s.jsx(we,{children:"부서명"}),s.jsx(we,{children:"부서코드"}),s.jsx(we,{children:"설명"}),s.jsx(we,{children:"등록일"}),s.jsx(we,{children:"관리"})]})}),s.jsx(xr,{children:e.length>0?e.map(n=>s.jsxs(ot,{children:[s.jsx(ge,{className:"font-medium",children:n.name}),s.jsx(ge,{children:n.code}),s.jsx(ge,{children:n.description||"-"}),s.jsx(ge,{children:new Date(n.created_at).toLocaleDateString("ko-KR")}),s.jsxs(ge,{children:[s.jsx(X,{variant:"ghost",size:"sm",children:"수정"}),s.jsx(X,{variant:"ghost",size:"sm",className:"text-red-500",children:"삭제"})]})]},n.id)):s.jsx(ot,{children:s.jsx(ge,{colSpan:5,className:"text-center py-8 text-gray-500",children:"등록된 부서가 없습니다. 새 부서를 등록해보세요."})})})]})}),s.jsx(Qz,{open:t,onOpenChange:r})]})}const e7=ni({name:Lt().min(2,"직책명은 2자 이상이어야 합니다."),code:Lt().min(2,"코드는 2자 이상이어야 합니다."),level:c2.number().min(1,"레벨은 1 이상이어야 합니다.")});function t7(){const{positions:e,createPosition:t,updatePosition:r,deletePosition:n}=yt(),[a,o]=h.useState(!1),[i,l]=h.useState(!1),[c,u]=h.useState(!1),[d,m]=h.useState(null),[f,p]=h.useState(!1),v=ta({resolver:ra(e7),defaultValues:{name:"",code:"",level:1}}),g=w=>{m(w),v.reset({name:w.name,code:w.code,level:w.level}),l(!0)},b=w=>{m(w),u(!0)},y=async w=>{try{p(!0),d?await r(d.id,w):await t(w),v.reset(),o(!1),l(!1)}catch(j){console.error("Error saving position:",j)}finally{p(!1)}},x=async()=>{if(d)try{p(!0),await n(d.id),u(!1)}catch(w){console.error("Error deleting position:",w)}finally{p(!1)}};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Pe,{children:[s.jsx(ft,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(pt,{children:"직책 관리"}),s.jsx(Ct,{children:"직책 정보를 관리합니다."})]}),s.jsx(X,{onClick:()=>{v.reset(),m(null),o(!0)},children:"새 직책 등록"})]})}),s.jsxs(Ee,{children:[s.jsx("div",{className:"flex items-center gap-4 mb-4",children:s.jsx(fe,{placeholder:"직책 검색...",className:"max-w-sm"})}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(pr,{children:[s.jsx(gr,{children:s.jsxs(ot,{children:[s.jsx(we,{children:"직책명"}),s.jsx(we,{children:"코드"}),s.jsx(we,{children:"레벨"}),s.jsx(we,{children:"관리"})]})}),s.jsx(xr,{children:e.map(w=>s.jsxs(ot,{children:[s.jsx(ge,{children:w.name}),s.jsx(ge,{children:w.code}),s.jsx(ge,{children:w.level}),s.jsx(ge,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>g(w),children:"수정"}),s.jsx(X,{variant:"ghost",size:"sm",className:"text-red-500",onClick:()=>b(w),children:"삭제"})]})})]},w.id))})]})})]})]}),s.jsx(kt,{open:a||i,onOpenChange:w=>{w||(o(!1),l(!1))},children:s.jsxs(bt,{children:[s.jsx(jt,{children:s.jsx(Nt,{children:d?"직책 수정":"새 직책 등록"})}),s.jsx(sa,{...v,children:s.jsxs("form",{onSubmit:v.handleSubmit(y),className:"space-y-4",children:[s.jsx(it,{control:v.control,name:"name",render:({field:w})=>s.jsxs(et,{children:[s.jsx(tt,{children:"직책명"}),s.jsx(rt,{children:s.jsx(fe,{placeholder:"직책명을 입력하세요",...w})}),s.jsx(dt,{})]})}),s.jsx(it,{control:v.control,name:"code",render:({field:w})=>s.jsxs(et,{children:[s.jsx(tt,{children:"코드"}),s.jsx(rt,{children:s.jsx(fe,{placeholder:"코드를 입력하세요",...w})}),s.jsx(dt,{})]})}),s.jsx(it,{control:v.control,name:"level",render:({field:w})=>s.jsxs(et,{children:[s.jsx(tt,{children:"레벨"}),s.jsx(rt,{children:s.jsx(fe,{type:"number",min:1,placeholder:"레벨을 입력하세요",...w})}),s.jsx(dt,{})]})}),s.jsx($t,{children:s.jsx(X,{type:"submit",disabled:f,children:f?"저장 중...":d?"수정":"등록"})})]})})]})}),s.jsx(vo,{open:c,onOpenChange:u,children:s.jsxs(oa,{children:[s.jsxs(ia,{children:[s.jsx(ca,{children:"직책 삭제"}),s.jsx(da,{children:"정말로 이 직책을 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다."})]}),s.jsxs(la,{children:[s.jsx(ha,{children:"취소"}),s.jsx(ua,{onClick:x,disabled:f,className:"bg-red-500 hover:bg-red-600",children:f?"삭제 중...":"삭제"})]})]})})]})}const r7=ni({name:Lt().min(2,"법인명은 2자 이상이어야 합니다."),code:Lt().min(2,"코드는 2자 이상이어야 합니다."),country:Lt().min(1,"국가를 입력하세요."),type:l2(["headquarters","sales","factory"],{required_error:"법인 유형을 선택하세요."})});function s7(){var k,A,C,T,B,$,W,_,R,O,ne,P,H,L,M,F,G,q,de,z,ee,U,S,K;const{corporations:e,createCorporation:t,updateCorporation:r,deleteCorporation:n}=yt(),{translations:a}=Yt(),[o,i]=h.useState(!1),[l,c]=h.useState(!1),[u,d]=h.useState(!1),[m,f]=h.useState(null),[p,v]=h.useState(!1),g=ta({resolver:ra(r7),defaultValues:{name:"",code:"",country:"",type:"headquarters"}}),b=te=>{f(te),g.reset({name:te.name,code:te.code,country:te.country,type:te.type}),c(!0)},y=te=>{f(te),d(!0)},x=async te=>{try{if(v(!0),m)await r(m.id,te);else{const Q={name:te.name,code:te.code,country:te.country,type:te.type};await t(Q)}g.reset(),i(!1),c(!1)}catch(Q){console.error("Error saving corporation:",Q)}finally{v(!1)}},w=async()=>{if(m)try{v(!0),await n(m.id),d(!1)}catch(te){console.error("Error deleting corporation:",te)}finally{v(!1)}},j=te=>{var Q,oe,xe;switch(te){case"headquarters":return((Q=a.global)==null?void 0:Q.headquarters)||"본사";case"sales":return((oe=a.global)==null?void 0:oe.salesOffice)||"영업소";case"factory":return((xe=a.global)==null?void 0:xe.factory)||"공장";default:return te}};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Pe,{children:[s.jsx(ft,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(pt,{children:((k=a.global)==null?void 0:k.corporationManagement)||"법인 관리"}),s.jsx(Ct,{children:((A=a.global)==null?void 0:A.manageCorporationInfo)||"법인 정보를 관리합니다."})]}),s.jsx(X,{onClick:()=>{g.reset(),f(null),i(!0)},children:((C=a.global)==null?void 0:C.registerNewCorporation)||"새 법인 등록"})]})}),s.jsxs(Ee,{children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx(fe,{placeholder:((T=a.global)==null?void 0:T.searchCorporation)||"법인 검색...",className:"max-w-sm"}),s.jsxs(Oe,{children:[s.jsx(Re,{className:"w-[180px]",children:s.jsx(Ie,{placeholder:((B=a.global)==null?void 0:B.corporationType)||"법인 유형"})}),s.jsxs(Ae,{children:[s.jsx(ce,{value:"all",children:(($=a.global)==null?void 0:$.all)||"전체"}),s.jsx(ce,{value:"headquarters",children:((W=a.global)==null?void 0:W.headquarters)||"본사"}),s.jsx(ce,{value:"sales",children:((_=a.global)==null?void 0:_.salesOffice)||"영업소"}),s.jsx(ce,{value:"factory",children:((R=a.global)==null?void 0:R.factory)||"공장"})]})]})]}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(pr,{children:[s.jsx(gr,{children:s.jsxs(ot,{children:[s.jsx(we,{children:((O=a.global)==null?void 0:O.corporationName)||"법인명"}),s.jsx(we,{children:((ne=a.global)==null?void 0:ne.code)||"코드"}),s.jsx(we,{children:((P=a.global)==null?void 0:P.country)||"국가"}),s.jsx(we,{children:((H=a.global)==null?void 0:H.type)||"유형"}),s.jsx(we,{children:((L=a.global)==null?void 0:L.management)||"관리"})]})}),s.jsx(xr,{children:e.map(te=>{var Q,oe;return s.jsxs(ot,{children:[s.jsx(ge,{children:te.name}),s.jsx(ge,{children:te.code}),s.jsx(ge,{children:te.country}),s.jsx(ge,{children:j(te.type)}),s.jsx(ge,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>b(te),children:((Q=a.global)==null?void 0:Q.modify)||"수정"}),s.jsx(X,{variant:"ghost",size:"sm",className:"text-red-500",onClick:()=>y(te),children:((oe=a.global)==null?void 0:oe.remove)||"삭제"})]})})]},te.id)})})]})})]})]}),s.jsx(kt,{open:o||l,onOpenChange:te=>{te||(i(!1),c(!1))},children:s.jsxs(bt,{children:[s.jsx(jt,{children:s.jsx(Nt,{children:m?((M=a.global)==null?void 0:M.modifyCorporation)||"법인 수정":((F=a.global)==null?void 0:F.registerNewCorporation)||"새 법인 등록"})}),s.jsx(sa,{...g,children:s.jsxs("form",{onSubmit:g.handleSubmit(x),className:"space-y-4",children:[s.jsx(it,{control:g.control,name:"name",render:({field:te})=>{var Q,oe;return s.jsxs(et,{children:[s.jsx(tt,{children:((Q=a.global)==null?void 0:Q.corporationName)||"법인명"}),s.jsx(rt,{children:s.jsx(fe,{placeholder:((oe=a.global)==null?void 0:oe.enterCorporationName)||"법인명을 입력하세요",...te})}),s.jsx(dt,{})]})}}),s.jsx(it,{control:g.control,name:"code",render:({field:te})=>{var Q,oe;return s.jsxs(et,{children:[s.jsx(tt,{children:((Q=a.global)==null?void 0:Q.code)||"코드"}),s.jsx(rt,{children:s.jsx(fe,{placeholder:((oe=a.global)==null?void 0:oe.enterCode)||"코드를 입력하세요",...te})}),s.jsx(dt,{})]})}}),s.jsx(it,{control:g.control,name:"country",render:({field:te})=>{var Q,oe;return s.jsxs(et,{children:[s.jsx(tt,{children:((Q=a.global)==null?void 0:Q.country)||"국가"}),s.jsx(rt,{children:s.jsx(fe,{placeholder:((oe=a.global)==null?void 0:oe.enterCountry)||"국가를 입력하세요",...te})}),s.jsx(dt,{})]})}}),s.jsx(it,{control:g.control,name:"type",render:({field:te})=>{var Q,oe,xe,Ne,Se;return s.jsxs(et,{children:[s.jsx(tt,{children:((Q=a.global)==null?void 0:Q.corporationType)||"법인 유형"}),s.jsxs(Oe,{onValueChange:te.onChange,defaultValue:te.value,children:[s.jsx(rt,{children:s.jsx(Re,{children:s.jsx(Ie,{placeholder:((oe=a.global)==null?void 0:oe.selectCorporationType)||"법인 유형을 선택하세요"})})}),s.jsxs(Ae,{children:[s.jsx(ce,{value:"headquarters",children:((xe=a.global)==null?void 0:xe.headquarters)||"본사"}),s.jsx(ce,{value:"sales",children:((Ne=a.global)==null?void 0:Ne.salesOffice)||"영업소"}),s.jsx(ce,{value:"factory",children:((Se=a.global)==null?void 0:Se.factory)||"공장"})]})]}),s.jsx(dt,{})]})}}),s.jsx($t,{children:s.jsx(X,{type:"submit",disabled:p,children:p?((G=a.global)==null?void 0:G.saving)||"저장 중...":m?((q=a.global)==null?void 0:q.modify)||"수정":((de=a.global)==null?void 0:de.register)||"등록"})})]})})]})}),s.jsx(vo,{open:u,onOpenChange:d,children:s.jsxs(oa,{children:[s.jsxs(ia,{children:[s.jsx(ca,{children:((z=a.global)==null?void 0:z.deleteCorporation)||"법인 삭제"}),s.jsx(da,{children:((ee=a.global)==null?void 0:ee.confirmDeleteCorporation)||"정말로 이 법인을 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다."})]}),s.jsxs(la,{children:[s.jsx(ha,{children:((U=a.global)==null?void 0:U.cancel)||"취소"}),s.jsx(ua,{onClick:w,disabled:p,className:"bg-red-500 hover:bg-red-600",children:p?((S=a.global)==null?void 0:S.deleting)||"삭제 중...":((K=a.global)==null?void 0:K.remove)||"삭제"})]})]})})]})}const Cb=[{value:"#ef4444",label:"Red",name:"빨강"},{value:"#f59e0b",label:"Orange",name:"주황"},{value:"#eab308",label:"Yellow",name:"노랑"},{value:"#10b981",label:"Green",name:"초록"},{value:"#06b6d4",label:"Cyan",name:"청록"},{value:"#3b82f6",label:"Blue",name:"파랑"},{value:"#8b5cf6",label:"Purple",name:"보라"},{value:"#ec4899",label:"Pink",name:"분홍"},{value:"#6b7280",label:"Gray",name:"회색"}],TC=He.memo(({open:e,onOpenChange:t,loading:r,editingStatus:n,formData:a,onNameChange:o,onDescriptionChange:i,onColorChange:l,onActiveChange:c,onSubmit:u,onClose:d})=>{const m=h.useCallback(v=>{!v&&!r&&t(!1)},[r,t]),f=h.useCallback(v=>{v.preventDefault(),v.stopPropagation(),u(v)},[u]),p=h.useMemo(()=>Cb.find(v=>v.value===a.color),[a.color]);return s.jsx(kt,{open:e,onOpenChange:m,children:s.jsxs(bt,{className:"sm:max-w-[425px]",onPointerDownOutside:v=>{r&&v.preventDefault()},onEscapeKeyDown:v=>{r&&v.preventDefault()},children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:n?"상태 수정":"새 상태 추가"}),s.jsx(yn,{children:n?"기존 상태의 정보를 수정합니다. 상태명과 색상을 변경할 수 있습니다.":"새로운 상태를 생성합니다. 상태명은 필수 입력 항목이며, 색상과 설명을 설정할 수 있습니다."})]}),s.jsxs("form",{onSubmit:f,className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"status-name",children:"상태명"}),s.jsx(fe,{id:"status-name",type:"text",value:a.name,onChange:o,placeholder:"상태명을 입력하세요",disabled:r,autoComplete:"off",spellCheck:!1,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"status-description",children:"상태 설명"}),s.jsx(fe,{id:"status-description",type:"text",value:a.description,onChange:i,placeholder:"상태 설명을 입력하세요",disabled:r,autoComplete:"off",spellCheck:!1})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"status-color",children:"상태 색상"}),s.jsxs(Oe,{value:a.color,onValueChange:l,disabled:r,children:[s.jsx(Re,{id:"status-color",children:s.jsx(Ie,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full border",style:{backgroundColor:a.color}}),s.jsx("span",{children:p==null?void 0:p.label})]})})}),s.jsx(Ae,{children:Cb.map(v=>s.jsx(ce,{value:v.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full border",style:{backgroundColor:v.value}}),s.jsx("span",{children:v.label})]})},v.value))})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ue,{htmlFor:"status-active",children:"활성"}),s.jsx(Nl,{id:"status-active",checked:a.is_active,onCheckedChange:c,disabled:r})]}),s.jsxs($t,{children:[s.jsx(X,{type:"button",variant:"outline",onClick:d,disabled:r,children:"취소"}),s.jsx(X,{type:"submit",disabled:r||!a.name.trim(),children:r?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin"}),n?"저장 중...":"생성 중..."]}):n?"저장":"추가"})]})]})]})})});TC.displayName="StatusDialog";Array(12).fill(0);He.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},He.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"}));He.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},He.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"}));He.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},He.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"}));He.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},He.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"}));var wx=1,n7=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:wx++,o=this.toasts.find(l=>l.id===a),i=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:r}),{...l,...e,id:a,dismissible:i,title:r}):l):this.addToast({title:r,...n,dismissible:i,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0;return n.then(async o=>{if(o7(o)&&!o.ok){a=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${o.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${o.status}`):t.description;this.create({id:r,type:"error",message:i,description:l})}else if(t.success!==void 0){a=!1;let i=typeof t.success=="function"?await t.success(o):t.success,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:r,type:"success",message:i,description:l})}}).catch(async o=>{if(t.error!==void 0){a=!1;let i=typeof t.error=="function"?await t.error(o):t.error,l=typeof t.description=="function"?await t.description(o):t.description;this.create({id:r,type:"error",message:i,description:l})}}).finally(()=>{var o;a&&(this.dismiss(r),r=void 0),(o=t.finally)==null||o.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||wx++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},Ms=new n7,a7=(e,t)=>{let r=(t==null?void 0:t.id)||wx++;return Ms.addToast({title:e,...t,id:r}),r},o7=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",i7=a7,l7=()=>Ms.toasts,$s=Object.assign(i7,{success:Ms.success,info:Ms.info,warning:Ms.warning,error:Ms.error,custom:Ms.custom,message:Ms.message,promise:Ms.promise,dismiss:Ms.dismiss,loading:Ms.loading},{getHistory:l7});function c7(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}c7(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);const EC=He.memo(()=>{var G,q,de,z,ee;const{translations:e}=Yt(),{statuses:t,createStatus:r,updateStatus:n,deleteStatus:a,getProjectStatuses:o,getTaskStatuses:i,getPriorityStatuses:l}=yt(),[c,u]=h.useState("project"),[d,m]=h.useState(!1),[f,p]=h.useState(!1),[v,g]=h.useState(null),[b,y]=h.useState(null),[x,w]=h.useState(!1),[j,k]=h.useState({name:"",description:"",color:"#3b82f6",is_active:!0});h.useMemo(()=>[{value:"#ef4444",label:"Red",name:"빨강"},{value:"#f59e0b",label:"Orange",name:"주황"},{value:"#eab308",label:"Yellow",name:"노랑"},{value:"#10b981",label:"Green",name:"초록"},{value:"#06b6d4",label:"Cyan",name:"청록"},{value:"#3b82f6",label:"Blue",name:"파랑"},{value:"#8b5cf6",label:"Purple",name:"보라"},{value:"#ec4899",label:"Pink",name:"분홍"},{value:"#6b7280",label:"Gray",name:"회색"}],[]);const A=h.useCallback(U=>{switch(U){case"project":return o();case"task":return i();case"priority":return l();case"promotion":return t.filter(S=>S.status_type==="promotion"&&S.is_active).sort((S,K)=>S.order_index-K.order_index);default:return[]}},[o,i,l,t]),C=h.useCallback(()=>{k({name:"",description:"",color:"#3b82f6",is_active:!0}),y(null)},[]),T=h.useCallback((U,S)=>{U&&u(U),S?(y(S),k({name:S.name,description:S.description,color:S.color,is_active:S.is_active})):C(),m(!0)},[C]),B=h.useCallback(()=>{x||(m(!1),setTimeout(()=>{C()},300))},[x,C]),$=h.useCallback(async U=>{var S,K,te,Q;if(U&&(U.preventDefault(),U.stopPropagation()),!j.name.trim()){$s.error(((S=e.global)==null?void 0:S.enterStatusName)||"상태명을 입력하세요");return}try{if(w(!0),console.log("=== 상태 저장 프로세스 시작 ==="),console.log("편집 모드:",b?"수정":"새로 추가"),console.log("현재 탭:",c),console.log("폼 데이터:",j),b)console.log("상태 수정 시작:",b.id),await n(b.id,{name:j.name,description:j.description,color:j.color,is_active:j.is_active}),console.log("✅ 상태 수정 완료"),$s.success(((K=e.global)==null?void 0:K.statusUpdatedSuccess)||"상태가 성공적으로 수정되었습니다");else{const oe=A(c),xe=oe.length>0?Math.max(...oe.map(Je=>Je.order_index)):0,Ne=c==="project"?"1":c==="task"?"2":c==="priority"?"3":"4",Se={name:j.name,description:j.description,color:j.color,order_index:xe+1,is_active:j.is_active,status_type_id:Ne,status_type:c};console.log("새 상태 생성 시작"),console.log("생성할 상태 데이터:",Se),console.log("기존 상태 개수:",oe.length),console.log("새 순서 번호:",xe+1),await r(Se),console.log("✅ 상태 생성 완료"),$s.success(((te=e.global)==null?void 0:te.statusAddedSuccess)||"상태가 성공적으로 추가되었습니다")}console.log("모달 닫기 처리 중..."),B()}catch(oe){console.error("❌ 상태 저장 중 오류 발생:",oe),console.error("오류 상세:",oe instanceof Error?oe.message:oe),$s.error(((Q=e.global)==null?void 0:Q.error)||"상태 저장 중 오류가 발생했습니다")}finally{w(!1),console.log("=== 상태 저장 프로세스 종료 ===")}},[j,b,c,e.global,n,r,A,B]),W=h.useCallback(U=>{T(c,U)},[c,T]),_=h.useCallback(async U=>{g(U),p(!0)},[]),R=h.useCallback(async()=>{var U,S;if(v)try{w(!0),await a(v),$s.success(((U=e.global)==null?void 0:U.statusDeletedSuccess)||"상태가 성공적으로 삭제되었습니다")}catch(K){console.error("Error deleting status:",K),$s.error(((S=e.global)==null?void 0:S.error)||"상태 삭제 중 오류가 발생했습니다")}finally{w(!1),p(!1),g(null)}},[v,a,e.global]),O=h.useCallback(U=>{const S=U.target.value;k(K=>K.name===S?K:{...K,name:S})},[]),ne=h.useCallback(U=>{const S=U.target.value;k(K=>K.description===S?K:{...K,description:S})},[]),P=h.useCallback(U=>{k(S=>S.color===U?S:{...S,color:U})},[]),H=h.useCallback(U=>{k(S=>S.is_active===U?S:{...S,is_active:U})},[]),L=He.memo(({status:U})=>{var Q,oe,xe;const S=rr,K=h.useMemo(()=>{var Ne;return U.translationKey&&((Ne=e.global)!=null&&Ne[U.translationKey])?e.global[U.translationKey]:U.name},[U.translationKey,U.name,e.global]),te=h.useMemo(()=>{var Ne;return U.descriptionKey&&((Ne=e.global)!=null&&Ne[U.descriptionKey])?e.global[U.descriptionKey]:U.description},[U.descriptionKey,U.description,e.global]);return s.jsxs(Pe,{className:se("relative overflow-hidden transition-all duration-200 hover:shadow-lg",!U.is_active&&"opacity-60"),children:[s.jsx("div",{className:"absolute inset-x-0 top-0 h-1",style:{backgroundColor:U.color}}),s.jsx(Ee,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 rounded-lg",style:{backgroundColor:`${U.color}20`,color:U.color},children:s.jsx(S,{className:"h-5 w-5"})}),s.jsx("h3",{className:"font-semibold text-lg",children:K})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:te}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Le,{variant:U.is_active?"default":"secondary",className:"text-xs",children:U.is_active?((Q=e.global)==null?void 0:Q.statusActive)||"활성":((oe=e.global)==null?void 0:oe.statusInactive)||"비활성"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[((xe=e.global)==null?void 0:xe.statusOrder)||"순서",": ",U.order_index]})]})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(X,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>W(U),children:s.jsx(ho,{className:"h-4 w-4"})}),s.jsx(X,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>_(U.id),children:s.jsx(Bn,{className:"h-4 w-4"})})]})]})})]})}),M=He.memo(({type:U})=>{var K,te;const S=A(U);return x?s.jsxs("div",{className:"flex items-center justify-center p-12",children:[s.jsx(wr,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("span",{className:"ml-2",children:((K=e.global)==null?void 0:K.loading)||"로딩 중..."})]}):S.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-muted mb-4",children:s.jsx(rr,{className:"h-8 w-8 text-muted-foreground"})}),s.jsx("p",{className:"text-muted-foreground",children:((te=e.global)==null?void 0:te.noDataAvailable)||"데이터가 없습니다"})]}):s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:S.map(Q=>s.jsx(L,{status:Q},Q.id))})}),F={project:Ys,task:bO,priority:hO,promotion:Wa};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(zi,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:((G=e.global)==null?void 0:G.statusManagement)||"상태 관리"}),s.jsx("p",{className:"text-muted-foreground",children:((q=e.global)==null?void 0:q.manageProjectStatuses)||"프로젝트, 업무, 우선순위, 프로모션 단계를 관리합니다"})]})]}),s.jsxs(ai,{value:c,onValueChange:U=>u(U),children:[s.jsx(xo,{className:"grid w-full grid-cols-4 h-14",children:["project","task","priority","promotion"].map(U=>{var te,Q,oe;const S=F[U],K=A(U).length;return s.jsxs(Jt,{value:U,className:"flex items-center gap-2 data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[s.jsx(S,{className:"h-4 w-4"}),s.jsxs("span",{children:[U==="project"&&(((te=e.global)==null?void 0:te.projectStatusManagement)||"프로젝트 상태"),U==="task"&&(((Q=e.global)==null?void 0:Q.taskStatusManagement)||"업무 상태"),U==="priority"&&(((oe=e.global)==null?void 0:oe.priorityManagement)||"우선순위"),U==="promotion"&&"프로모션 단계"]}),s.jsx(Le,{variant:"secondary",className:"ml-1 h-5 px-1.5 text-xs",children:K})]},U)})}),["project","task","priority","promotion"].map(U=>{var S,K,te,Q,oe,xe,Ne;return s.jsx(Qt,{value:U,className:"space-y-4 mt-6",children:s.jsxs(Pe,{children:[s.jsx(ft,{className:"pb-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(pt,{className:"text-xl",children:[U==="project"&&(((S=e.global)==null?void 0:S.projectStatus)||"프로젝트 상태"),U==="task"&&(((K=e.global)==null?void 0:K.taskStatus)||"업무 상태"),U==="priority"&&(((te=e.global)==null?void 0:te.priorityLevel)||"우선순위 레벨"),U==="promotion"&&"프로모션 단계"]}),s.jsxs(Ct,{children:[U==="project"&&(((Q=e.global)==null?void 0:Q.manageProjectStatuses)||"프로젝트 상태를 관리합니다"),U==="task"&&(((oe=e.global)==null?void 0:oe.manageTaskStatuses)||"업무 상태를 관리합니다"),U==="priority"&&(((xe=e.global)==null?void 0:xe.managePriorities)||"우선순위를 관리합니다"),U==="promotion"&&"프로모션 단계를 관리합니다"]})]}),s.jsxs(X,{onClick:()=>T(U),className:"gap-2",children:[s.jsx(_n,{className:"h-4 w-4"}),((Ne=e.global)==null?void 0:Ne.addNewStatus)||"새 상태 추가"]})]})}),s.jsx(Ee,{children:s.jsx(M,{type:U})})]})},U)})]}),s.jsx(TC,{open:d,onOpenChange:m,loading:x,editingStatus:b,formData:j,onNameChange:O,onDescriptionChange:ne,onColorChange:P,onActiveChange:H,onSubmit:$,onClose:B}),s.jsx(vo,{open:f,onOpenChange:p,children:s.jsxs(oa,{children:[s.jsxs(ia,{children:[s.jsx(ca,{children:((de=e.global)==null?void 0:de.confirmDeleteStatus)||"상태 삭제 확인"}),s.jsx(da,{children:"정말로 이 상태를 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다."})]}),s.jsxs(la,{children:[s.jsx(ha,{children:((z=e.global)==null?void 0:z.cancel)||"취소"}),s.jsx(ua,{onClick:R,className:"bg-red-600 hover:bg-red-700",children:((ee=e.global)==null?void 0:ee.delete)||"삭제"})]})]})})]})});EC.displayName="StatusManagement";const d7=()=>{var F;Yt();const{phases:e,createPhase:t,updatePhase:r,deletePhase:n,createTaskPhase:a,updateTaskPhase:o,deleteTaskPhase:i}=yt(),[l,c]=h.useState("project"),[u,d]=h.useState(!1),[m,f]=h.useState(!1),[p,v]=h.useState(null),[g,b]=h.useState(null),[y,x]=h.useState(!1),[w,j]=h.useState([]),[k,A]=h.useState({name:"",description:"",color:"#3b82f6",order:1}),C=[{value:"#ef4444",label:"Red",name:"빨강"},{value:"#f59e0b",label:"Orange",name:"주황"},{value:"#eab308",label:"Yellow",name:"노랑"},{value:"#10b981",label:"Green",name:"초록"},{value:"#06b6d4",label:"Cyan",name:"청록"},{value:"#3b82f6",label:"Blue",name:"파랑"},{value:"#8b5cf6",label:"Purple",name:"보라"},{value:"#ec4899",label:"Pink",name:"분홍"},{value:"#6b7280",label:"Gray",name:"회색"}],T=async()=>{try{const{data:G,error:q}=await re.from("task_phases").select("*").eq("is_active",!0).order("order_index");if(q)throw q;j(G||[])}catch(G){console.error("업무 단계 로드 오류:",G)}};h.useEffect(()=>{T()},[]);const B=e.filter(G=>!G.type||G.type==="project").sort((G,q)=>G.order-q.order),$=l==="project"?B:w,W=h.useCallback(()=>{A({name:"",description:"",color:"#3b82f6",order:1}),b(null)},[]),_=h.useCallback(()=>{W(),d(!0)},[W]),R=h.useCallback(()=>{y||(d(!1),setTimeout(()=>{W()},200))},[y,W]),O=h.useCallback((G,q)=>{A(de=>({...de,[G]:q}))},[]),ne=h.useCallback(async()=>{if(!k.name.trim()){Fs({title:"오류",description:"단계명을 입력하세요",variant:"destructive"});return}try{if(x(!0),g)l==="project"?await r(g.id,{name:k.name,description:k.description,color:k.color,order:k.order}):await o(g.id,{name:k.name,description:k.description,color:k.color,order_index:k.order}),Fs({title:"성공",description:"단계가 성공적으로 수정되었습니다"});else{if(l==="project"){const G=B.length>0?Math.max(...B.map(q=>q.order)):0;await t({name:k.name,description:k.description,color:k.color,order:G+1,type:"project"})}else{const G=w.length>0?Math.max(...w.map(q=>q.order_index)):0;await a({name:k.name,description:k.description,color:k.color,order_index:G+1,is_active:!0})}Fs({title:"성공",description:"단계가 성공적으로 추가되었습니다"})}R()}catch(G){console.error("Error saving phase:",G),Fs({title:"오류",description:"단계 저장 중 오류가 발생했습니다",variant:"destructive"})}finally{x(!1)}},[k,g,B,w,t,r,a,o,R,l]),P=h.useCallback(G=>{b(G),A({name:G.name,description:G.description||"",color:G.color||"#3b82f6",order:"order"in G?G.order:G.order_index}),d(!0)},[]),H=h.useCallback(async(G,q)=>{v({id:G,name:q}),f(!0)},[]),L=h.useCallback(async()=>{if(p)try{x(!0),await n(p.id),Fs({title:"성공",description:"단계가 성공적으로 삭제되었습니다"})}catch(G){console.error("Error deleting phase:",G),Fs({title:"오류",description:"단계 삭제 중 오류가 발생했습니다",variant:"destructive"})}finally{x(!1),f(!1),v(null)}},[p,n]),M=({phase:G})=>{const q="order"in G?G.order:G.order_index;return s.jsx(Pe,{className:"border-l-4 transition-all hover:shadow-md",style:{borderLeftColor:G.color},children:s.jsxs(Ee,{className:"pt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:G.color}}),s.jsx("h3",{className:"font-semibold",children:G.name}),s.jsxs(Le,{variant:"outline",className:"text-xs",children:["#",q]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>P(G),className:"h-8 w-8 p-0",children:s.jsx(ho,{className:"h-4 w-4"})}),s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>H(G.id,G.name),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:s.jsx(Bn,{className:"h-4 w-4"})})]})]}),G.description&&s.jsx("p",{className:"text-sm text-muted-foreground",children:G.description})]})})};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(zi,{className:"h-6 w-6 text-primary"})}),s.jsx("div",{children:s.jsx("h2",{className:"text-2xl font-bold",children:"단계 관리"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsx("button",{onClick:()=>c("project"),className:`p-4 rounded-lg border-2 transition-all ${l==="project"?"border-primary bg-primary text-primary-foreground":"border-muted bg-muted/50 hover:bg-muted"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-background/20",children:s.jsx(zi,{className:"h-5 w-5"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"font-semibold",children:"프로젝트 단계"}),s.jsx("p",{className:"text-sm opacity-80",children:"프로젝트에서 사용할 단계들을 관리합니다"})]}),s.jsx(Le,{variant:"secondary",className:"ml-auto",children:B.length})]})}),s.jsx("button",{onClick:()=>c("task"),className:`p-4 rounded-lg border-2 transition-all ${l==="task"?"border-primary bg-primary text-primary-foreground":"border-muted bg-muted/50 hover:bg-muted"}`,children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-background/20",children:s.jsx(zi,{className:"h-5 w-5"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"font-semibold",children:"업무 단계"}),s.jsx("p",{className:"text-sm opacity-80",children:"업무 관리 및 업무 일지에서 사용할 단계들을 관리합니다"})]}),s.jsx(Le,{variant:"secondary",className:"ml-auto",children:w.length})]})})]}),s.jsxs(Pe,{children:[s.jsx(ft,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(pt,{children:l==="project"?"프로젝트 단계":"업무 단계"}),s.jsx(Ct,{children:l==="project"?"프로젝트에서 사용할 단계들을 관리합니다":"업무 관리 및 업무 일지에서 사용할 단계들을 관리합니다"})]}),s.jsxs(X,{onClick:_,className:"gap-2",children:[s.jsx(_n,{className:"h-4 w-4"}),"새 단계 추가"]})]})}),s.jsx(Ee,{children:$.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(zi,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),s.jsxs("p",{className:"text-lg font-medium mb-2",children:["등록된 ",l==="project"?"프로젝트":"업무"," 단계가 없습니다"]}),s.jsx("p",{className:"text-sm",children:"첫 번째 단계를 추가해보세요."})]}):s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:$.map(G=>s.jsx(M,{phase:G},G.id))})})]}),s.jsx(kt,{open:u,onOpenChange:G=>!G&&R(),children:s.jsxs(bt,{className:"sm:max-w-[425px]",children:[s.jsxs(jt,{children:[s.jsx(Nt,{children:g?`${l==="project"?"프로젝트":"업무"} 단계 수정`:`새 ${l==="project"?"프로젝트":"업무"} 단계 추가`}),s.jsx(yn,{children:g?"단계 정보를 수정합니다":`새로운 ${l==="project"?"프로젝트":"업무"} 단계를 추가합니다`})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"name",children:"단계명"}),s.jsx(fe,{id:"name",value:k.name,onChange:G=>O("name",G.target.value),placeholder:"단계명을 입력하세요",disabled:y})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"description",children:"설명"}),s.jsx(na,{id:"description",value:k.description,onChange:G=>O("description",G.target.value),placeholder:"단계 설명을 입력하세요",disabled:y})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{children:"색상"}),s.jsxs(Oe,{value:k.color,onValueChange:G=>O("color",G),disabled:y,children:[s.jsx(Re,{children:s.jsx(Ie,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full border",style:{backgroundColor:k.color}}),s.jsx("span",{children:(F=C.find(G=>G.value===k.color))==null?void 0:F.name})]})})}),s.jsx(Ae,{children:C.map(G=>s.jsx(ce,{value:G.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full border",style:{backgroundColor:G.value}}),s.jsx("span",{children:G.name})]})},G.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"order",children:"순서"}),s.jsx(fe,{id:"order",type:"number",value:k.order,onChange:G=>O("order",parseInt(G.target.value)||1),min:"1",disabled:y})]})]}),s.jsxs($t,{children:[s.jsx(X,{variant:"outline",onClick:R,disabled:y,children:"취소"}),s.jsxs(X,{onClick:ne,disabled:y||!k.name.trim(),children:[y&&s.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin"}),g?"저장":"추가"]})]})]})}),s.jsx(vo,{open:m,onOpenChange:f,children:s.jsxs(oa,{children:[s.jsxs(ia,{children:[s.jsx(ca,{children:"단계 삭제"}),s.jsx(da,{children:`"${p==null?void 0:p.name}" 단계를 정말로 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다.`})]}),s.jsxs(la,{children:[s.jsx(ha,{children:"취소"}),s.jsxs(ua,{onClick:L,disabled:y,className:"bg-red-600 hover:bg-red-700",children:[y&&s.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin"}),"삭제"]})]})]})})]})},Bp={title:"",subtitle:"",content:"",image_url:"",image_alt:"",button_text:"확인",is_active:!0,show_dont_show_today:!0,background_gradient:"from-blue-600 via-purple-600 to-blue-600"},u7=()=>{const{toast:e}=Pr(),[t,r]=h.useState([]),[n,a]=h.useState(!1),[o,i]=h.useState(!1),[l,c]=h.useState(!1),[u,d]=h.useState(null),[m,f]=h.useState(Bp),[p,v]=h.useState(null),[g,b]=h.useState(!1);h.useEffect(()=>{y()},[]);const y=async()=>{try{a(!0);const{data:T,error:B}=await re.from("popup_settings").select("*").order("updated_at",{ascending:!1});if(B)throw B;r(T||[])}catch(T){console.error("Error fetching popups:",T),e({title:"에러",description:"팝업 목록을 불러오는데 실패했습니다.",variant:"destructive"})}finally{a(!1)}},x=async T=>{const B=T.name.split(".").pop(),$=`popup-${Date.now()}.${B}`,{data:W,error:_}=await re.storage.from("popups").upload($,T);if(_)throw _;const{data:{publicUrl:R}}=re.storage.from("popups").getPublicUrl($);return R},w=async()=>{if(p)try{b(!0);const T=await x(p);f(B=>({...B,image_url:T,image_alt:p.name})),e({title:"업로드 완료",description:"이미지가 성공적으로 업로드되었습니다."})}catch(T){console.error("Error uploading image:",T),e({title:"업로드 실패",description:"이미지 업로드에 실패했습니다.",variant:"destructive"})}finally{b(!1),v(null)}},j=async()=>{var T,B,$;if(!m.title.trim()){e({title:"에러",description:"제목을 입력해주세요.",variant:"destructive"});return}try{if(a(!0),u){const{error:W}=await re.from("popup_settings").update({...m,updated_at:new Date().toISOString(),updated_by:(T=(await re.auth.getUser()).data.user)==null?void 0:T.id}).eq("id",u.id);if(W)throw W;e({title:"수정 완료",description:"팝업이 성공적으로 수정되었습니다."})}else{const{error:W}=await re.from("popup_settings").insert({...m,created_by:(B=(await re.auth.getUser()).data.user)==null?void 0:B.id,updated_by:($=(await re.auth.getUser()).data.user)==null?void 0:$.id});if(W)throw W;e({title:"생성 완료",description:"새 팝업이 성공적으로 생성되었습니다."})}i(!1),d(null),f(Bp),y()}catch(W){console.error("Error saving popup:",W),e({title:"저장 실패",description:"팝업 저장에 실패했습니다.",variant:"destructive"})}finally{a(!1)}},k=T=>{d(T),f({title:T.title,subtitle:T.subtitle||"",content:T.content||"",image_url:T.image_url||"",image_alt:T.image_alt||"",button_text:T.button_text,is_active:T.is_active,show_dont_show_today:T.show_dont_show_today,background_gradient:T.background_gradient}),i(!0)},A=async()=>{if(u)try{a(!0);const{error:T}=await re.from("popup_settings").delete().eq("id",u.id);if(T)throw T;e({title:"삭제 완료",description:"팝업이 성공적으로 삭제되었습니다."}),c(!1),d(null),y()}catch(T){console.error("Error deleting popup:",T),e({title:"삭제 실패",description:"팝업 삭제에 실패했습니다.",variant:"destructive"})}finally{a(!1)}},C=()=>{d(null),f(Bp),i(!0)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Pe,{children:[s.jsx(ft,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(k_,{className:"h-5 w-5"}),"팝업창 관리"]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"사용자에게 표시될 팝업창을 관리합니다."})]}),s.jsxs(X,{onClick:C,className:"flex items-center gap-2",children:[s.jsx(_n,{className:"h-4 w-4"}),"새 팝업 추가"]})]})}),s.jsx(Ee,{children:s.jsxs(pr,{children:[s.jsx(gr,{children:s.jsxs(ot,{children:[s.jsx(we,{children:"제목"}),s.jsx(we,{children:"부제목"}),s.jsx(we,{children:"상태"}),s.jsx(we,{children:"업데이트"}),s.jsx(we,{className:"text-right",children:"작업"})]})}),s.jsxs(xr,{children:[t.map(T=>s.jsxs(ot,{children:[s.jsx(ge,{className:"font-medium",children:T.title}),s.jsx(ge,{children:T.subtitle||"-"}),s.jsx(ge,{children:s.jsx("div",{className:"flex items-center gap-2",children:T.is_active?s.jsxs(s.Fragment,{children:[s.jsx(uo,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-green-600",children:"활성"})]}):s.jsxs(s.Fragment,{children:[s.jsx(w_,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-gray-400",children:"비활성"})]})})}),s.jsx(ge,{children:new Date(T.updated_at).toLocaleDateString("ko-KR")}),s.jsx(ge,{className:"text-right",children:s.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[s.jsx(X,{variant:"outline",size:"sm",onClick:()=>k(T),children:s.jsx(ho,{className:"h-4 w-4"})}),s.jsx(X,{variant:"outline",size:"sm",onClick:()=>{d(T),c(!0)},children:s.jsx(Bn,{className:"h-4 w-4"})})]})})]},T.id)),t.length===0&&s.jsx(ot,{children:s.jsx(ge,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"등록된 팝업이 없습니다."})})]})]})})]}),s.jsx(kt,{open:o,onOpenChange:i,children:s.jsxs(bt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(jt,{children:s.jsxs(Nt,{className:"flex items-center gap-2",children:[s.jsx($0,{className:"h-5 w-5 text-blue-600"}),u?"팝업 수정":"새 팝업 추가"]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"title",children:"제목 *"}),s.jsx(fe,{id:"title",value:m.title,onChange:T=>f(B=>({...B,title:T.target.value})),placeholder:"팝업 제목을 입력하세요"})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"subtitle",children:"부제목"}),s.jsx(fe,{id:"subtitle",value:m.subtitle,onChange:T=>f(B=>({...B,subtitle:T.target.value})),placeholder:"부제목을 입력하세요"})]})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"content",children:"내용"}),s.jsx(na,{id:"content",value:m.content,onChange:T=>f(B=>({...B,content:T.target.value})),placeholder:"팝업에 표시될 내용을 입력하세요",className:"min-h-[100px]"})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"이미지"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(fe,{type:"file",accept:"image/*",onChange:T=>{var B;return v(((B=T.target.files)==null?void 0:B[0])||null)},className:"flex-1"}),s.jsxs(X,{onClick:w,disabled:!p||g,className:"flex items-center gap-2",children:[s.jsx(Ol,{className:"h-4 w-4"}),g?"업로드 중...":"업로드"]})]}),m.image_url&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"relative",children:s.jsx("img",{src:m.image_url,alt:m.image_alt,className:"w-20 h-20 object-cover rounded border"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx(fe,{placeholder:"이미지 URL",value:m.image_url,onChange:T=>f(B=>({...B,image_url:T.target.value}))}),s.jsx(fe,{placeholder:"이미지 설명",value:m.image_alt,onChange:T=>f(B=>({...B,image_alt:T.target.value})),className:"mt-2"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"button_text",children:"버튼 텍스트"}),s.jsx(fe,{id:"button_text",value:m.button_text,onChange:T=>f(B=>({...B,button_text:T.target.value})),placeholder:"확인"})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"background_gradient",children:"배경 그라디언트"}),s.jsx(fe,{id:"background_gradient",value:m.background_gradient,onChange:T=>f(B=>({...B,background_gradient:T.target.value})),placeholder:"from-blue-600 via-purple-600 to-blue-600"})]})]}),s.jsx("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Nl,{id:"is_active",checked:m.is_active,onCheckedChange:T=>f(B=>({...B,is_active:T}))}),s.jsx(ue,{htmlFor:"is_active",children:"팝업 활성화"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Nl,{id:"show_dont_show_today",checked:m.show_dont_show_today,onCheckedChange:T=>f(B=>({...B,show_dont_show_today:T}))}),s.jsx(ue,{htmlFor:"show_dont_show_today",children:'"오늘은 표시 안함" 옵션 제공'})]})]})})]}),s.jsxs($t,{children:[s.jsx(X,{variant:"outline",onClick:()=>i(!1),children:"취소"}),s.jsx(X,{onClick:j,disabled:n,children:n?"저장 중...":u?"수정":"생성"})]})]})}),s.jsx(vo,{open:l,onOpenChange:c,children:s.jsxs(oa,{children:[s.jsxs(ia,{children:[s.jsx(ca,{children:"팝업 삭제"}),s.jsx(da,{children:"정말로 이 팝업을 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다."})]}),s.jsxs(la,{children:[s.jsx(ha,{children:"취소"}),s.jsx(ua,{onClick:A,disabled:n,className:"bg-red-500 hover:bg-red-600",children:n?"삭제 중...":"삭제"})]})]})})]})},h7=()=>{var b,y,x,w,j,k,A,C,T,B,$,W;const{users:e,clients:t,projects:r,tasks:n,currentUser:a}=yt(),{translations:o}=Yt(),[i,l]=h.useState("users"),c=(a==null?void 0:a.role)||"user",u=c==="admin",d=c==="manager",m=c==="user",p=[{value:"users",label:((b=o.global)==null?void 0:b.userManagement)||"사용자",icon:us,gradient:"from-blue-500 to-purple-500",adminOnly:!0},{value:"employees",label:((y=o.global)==null?void 0:y.employeeManagement)||"직원",icon:Qi,gradient:"from-purple-500 to-pink-500",managerAccess:!0},{value:"managers",label:((x=o.global)==null?void 0:x.managerManagement)||"담당자",icon:MO,gradient:"from-pink-500 to-red-500",managerAccess:!0},{value:"departments",label:((w=o.global)==null?void 0:w.departmentManagement)||"부서",icon:pn,gradient:"from-orange-500 to-yellow-500",managerAccess:!0},{value:"positions",label:((j=o.global)==null?void 0:j.positionManagement)||"직책",icon:Qc,gradient:"from-yellow-500 to-green-500",managerAccess:!0},{value:"corporations",label:((k=o.global)==null?void 0:k.corporationManagement)||"법인",icon:Al,gradient:"from-green-500 to-teal-500",adminOnly:!0},{value:"clients",label:((A=o.global)==null?void 0:A.clientManagement)||"고객사",icon:Ys,gradient:"from-teal-500 to-blue-500",adminOnly:!0},{value:"popup",label:"팝업창",icon:U0,gradient:"from-cyan-500 to-blue-500",adminOnly:!0},{value:"status",label:((C=o.global)==null?void 0:C.statusManagement)||"상태",icon:zi,gradient:"from-indigo-500 to-purple-500",managerAccess:!0},{value:"data",label:((T=o.global)==null?void 0:T.dataManagement)||"데이터",icon:Hn,gradient:"from-purple-500 to-pink-500",adminOnly:!0},{value:"settings",label:((B=o.global)==null?void 0:B.settingsManagement)||"설정",icon:ex,gradient:"from-gray-500 to-gray-700",adminOnly:!0},{value:"phase",label:(($=o.global)==null?void 0:$.phaseManagement)||"프로젝트 단계",icon:yO,gradient:"from-teal-500 to-blue-500",managerAccess:!0}].filter(_=>!!(u||d&&_.managerAccess||d&&!_.adminOnly&&!_.managerAccess)),v=[{title:"전체 사용자",value:e.length,icon:us,color:"bg-blue-500",bgColor:"bg-blue-50 dark:bg-blue-900/20"},{title:"활성 프로젝트",value:r.filter(_=>_.status==="active").length,icon:Va,color:"bg-green-500",bgColor:"bg-green-50 dark:bg-green-900/20"},{title:"전체 고객사",value:t.length,icon:Ys,color:"bg-purple-500",bgColor:"bg-purple-50 dark:bg-purple-900/20"},{title:"진행중 업무",value:n.filter(_=>_.status==="in-progress").length,icon:v_,color:"bg-orange-500",bgColor:"bg-orange-50 dark:bg-orange-900/20"}],g=()=>p.find(_=>_.value===i)||p[0];return m?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-white to-blue-50",children:s.jsxs("div",{className:"text-center p-8",children:[s.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(zw,{className:"w-10 h-10 text-red-600"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"접근 권한이 없습니다"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"관리자 패널은 관리자 또는 매니저만 접근할 수 있습니다."}),s.jsx(X,{onClick:()=>window.history.back(),variant:"outline",children:"이전 페이지로 돌아가기"})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-800",children:s.jsxs("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 p-8 text-white",children:[s.jsx("div",{className:"absolute inset-0 bg-black/10 pointer-events-none"}),s.jsx("div",{className:"absolute -right-10 -top-10 h-40 w-40 rounded-full bg-white/10 blur-3xl pointer-events-none"}),s.jsx("div",{className:"absolute -bottom-10 -left-10 h-40 w-40 rounded-full bg-white/10 blur-3xl pointer-events-none"}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-3 rounded-xl bg-white/20 backdrop-blur-sm",children:s.jsx(zw,{className:"h-8 w-8"})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[((W=o.global)==null?void 0:W.adminPanel)||"관리자 패널",s.jsxs(Le,{variant:"secondary",className:"bg-white/20 text-white border-white/30",children:[s.jsx(Xs,{className:"h-3 w-3 mr-1"}),"Admin"]})]}),s.jsx("p",{className:"text-white/80 text-lg",children:"시스템 설정 및 데이터 관리"})]})]})}),s.jsxs(X,{variant:"secondary",size:"lg",className:"bg-white/20 hover:bg-white/30 text-white border-white/30",children:[s.jsx(Ar,{className:"mr-2 h-5 w-5"}),"새로고침"]})]})})]})}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:v.map((_,R)=>s.jsx(Pe,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden group",children:s.jsx(Ee,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:_.title}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:_.value})]}),s.jsx("div",{className:se("p-3 rounded-full",_.bgColor,"group-hover:scale-110 transition-transform"),children:s.jsx(_.icon,{className:se("h-6 w-6",_.color.replace("bg-","text-"))})})]})})},R))}),s.jsxs(ai,{value:i,onValueChange:l,className:"space-y-6",children:[s.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-lg p-2",children:s.jsx(xo,{className:"grid grid-cols-2 md:grid-cols-5 gap-2 bg-transparent h-auto p-0",children:p.map(_=>s.jsxs(Jt,{value:_.value,className:se("relative flex flex-col items-center gap-2 p-3 rounded-lg transition-all duration-200","hover:bg-slate-100 dark:hover:bg-slate-700","data-[state=active]:text-white data-[state=active]:shadow-lg","overflow-hidden group"),children:[s.jsx("div",{className:se("absolute inset-0 opacity-0 group-data-[state=active]:opacity-100 transition-opacity","bg-gradient-to-r",_.gradient)}),s.jsx(_.icon,{className:"h-5 w-5 relative z-10"}),s.jsx("span",{className:"text-xs font-medium relative z-10",children:_.label})]},_.value))})}),s.jsxs(Pe,{className:"border-0 shadow-lg overflow-hidden",children:[s.jsx("div",{className:se("h-2 bg-gradient-to-r",g().gradient)}),s.jsxs(Ee,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[(()=>{const _=g(),R=_.icon;return s.jsx("div",{className:se("p-3 rounded-xl bg-gradient-to-r text-white",_.gradient),children:s.jsx(R,{className:"h-6 w-6"})})})(),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold",children:g().label}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[i==="users"&&"시스템 사용자 계정을 관리합니다",i==="employees"&&"직원 정보를 관리합니다",i==="managers"&&"담당자 정보를 관리합니다",i==="departments"&&"부서 정보를 관리합니다",i==="positions"&&"직책 정보를 관리합니다",i==="corporations"&&"법인 정보를 관리합니다",i==="clients"&&"고객사 정보를 관리합니다",i==="popup"&&"사용자에게 표시될 팝업창을 관리합니다",i==="status"&&"프로젝트 및 업무 상태를 관리합니다",i==="data"&&"시스템 데이터를 관리합니다",i==="settings"&&"시스템 설정을 관리합니다",i==="phase"&&"프로젝트 단계를 관리합니다"]})]})]}),s.jsxs("div",{className:"mt-6",children:[i==="users"&&s.jsx(fz,{}),i==="employees"&&s.jsx(Gz,{}),i==="managers"&&s.jsx(Zz,{}),i==="departments"&&s.jsx(Xz,{}),i==="positions"&&s.jsx(t7,{}),i==="corporations"&&s.jsx(s7,{}),i==="clients"&&s.jsx(pz,{clients:t,projects:r}),i==="popup"&&s.jsx(u7,{}),i==="status"&&s.jsx(EC,{}),i==="data"&&s.jsx(kz,{}),i==="settings"&&s.jsx(Wz,{}),i==="phase"&&s.jsx(d7,{})]})]})]})]})]})})};function Yd(){const{language:e,setLanguage:t}=Yt(),r=n=>{const a=n;t(a),console.log("Language changed to:",a)};return h.useEffect(()=>{console.log("Current language in selector:",e)},[e]),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Al,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs(Oe,{value:e,onValueChange:r,children:[s.jsx(Re,{className:"w-24 h-8 text-xs bg-transparent border-none focus:ring-0 focus-visible:ring-0 focus:ring-offset-0",children:s.jsx(Ie,{placeholder:"언어 선택"})}),s.jsx(Ae,{children:s.jsx(HL,{children:M0.map(n=>s.jsx(ce,{value:n.code,children:n.name},n.code))})})]})]})}function m7({title:e,description:t}){return s.jsxs(ft,{className:"space-y-2 pb-4 text-center",children:[s.jsx("div",{className:"w-full flex justify-center mb-4",children:s.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-r from-primary to-purple-500 p-0.5",children:s.jsx("div",{className:"h-full w-full rounded-full bg-white flex items-center justify-center",children:s.jsx(N_,{className:"h-8 w-8 text-primary"})})})}),s.jsx(pt,{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-purple-600",children:e}),s.jsx(Ct,{className:"text-center",children:t})]})}const f7=e=>Wr.object({email:Wr.string().email(e==="ko"?"유효한 이메일 주소를 입력하세요":e==="en"?"Enter a valid email address":e==="zh"?"请输入有效的电子邮件地址":"กรุณาใส่อีเมลที่ถูกต้อง"),password:Wr.string().min(6,e==="ko"?"비밀번호는 최소 6자 이상이어야 합니다":e==="en"?"Password must be at least 6 characters":e==="zh"?"密码至少需要6个字符":"รหัสผ่านต้องมีอย่างน้อย 6 ตัวอักษร"),rememberMe:Wr.boolean().default(!1)}),p7={isAuthenticated:!1,setIsAuthenticated:()=>{},loading:!0,logout:async()=>{},userProfile:null},MC=h.createContext(p7),Ul=()=>{const e=h.useContext(MC);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},g7=({children:e})=>{const[t,r]=h.useState(!1),[n,a]=h.useState(!0),[o,i]=h.useState(null);h.useEffect(()=>{(async()=>{try{console.log("AuthProvider: Starting auth check");const d=localStorage.getItem("isAuthenticated"),m=localStorage.getItem("userProfile"),{data:f}=await re.auth.getSession(),p=f.session;if(console.log("AuthProvider: Checking auth status"),console.log("Stored auth:",d),console.log("Session exists:",!!p),d==="true"||p){if(console.log("User is authenticated"),r(!0),m)try{const v=JSON.parse(m);i(v),console.log("User profile loaded:",v)}catch(v){console.error("Error parsing user profile:",v)}}else console.log("User is not authenticated"),r(!1),i(null),!p&&d==="true"&&(localStorage.removeItem("isAuthenticated"),localStorage.removeItem("userProfile"))}catch(d){console.error("Error checking authentication:",d),r(!1),i(null)}finally{console.log("Auth check complete, setting loading to false"),a(!1)}})();const{data:{subscription:u}}=re.auth.onAuthStateChange((d,m)=>{var f;if(console.log("Auth state changed:",d),d==="SIGNED_IN"&&m){console.log("User signed in"),r(!0),localStorage.setItem("isAuthenticated","true");const p=m.user.user_metadata;if(p){const v={name:p.name||((f=m.user.email)==null?void 0:f.split("@")[0])||"User",email:m.user.email,department:p.department||null,loginMethod:"email",provider:"email"};i(v),localStorage.setItem("userProfile",JSON.stringify(v))}a(!1)}else d==="SIGNED_OUT"&&(console.log("User signed out"),r(!1),i(null),localStorage.removeItem("isAuthenticated"),localStorage.removeItem("userProfile"),a(!1))});return()=>{u==null||u.unsubscribe()}},[]);const l=async()=>{try{console.log("Logging out user..."),a(!0),await re.auth.signOut(),r(!1),i(null),localStorage.removeItem("isAuthenticated"),localStorage.removeItem("userProfile"),console.log("User logged out successfully")}catch(c){console.error("Error during logout:",c)}finally{a(!1)}};return s.jsx(MC.Provider,{value:{isAuthenticated:t,setIsAuthenticated:r,loading:n,logout:l,userProfile:o},children:e})},x7=e=>{const[t,r]=h.useState(!1),n=lo(),{toast:a}=Pr(),{setIsAuthenticated:o}=Ul();return{isLoading:t,handleLogin:async l=>{var c,u,d;r(!0),console.log("Login attempt started for:",l.email);try{const{data:m,error:f}=await re.auth.signInWithPassword({email:l.email,password:l.password});if(f)throw console.error("Login failed:",f),f;if(m&&m.user){console.log("Login successful, user:",m.user.email),localStorage.setItem("isAuthenticated","true"),o(!0);const p={name:((c=m.user.user_metadata)==null?void 0:c.name)||((u=m.user.email)==null?void 0:u.split("@")[0])||"User",email:m.user.email,loginMethod:"email",provider:"email",department:((d=m.user.user_metadata)==null?void 0:d.department)||null,id:m.user.id};return localStorage.setItem("userProfile",JSON.stringify(p)),a({title:e==="ko"?"로그인 성공":e==="en"?"Login successful":e==="zh"?"登录成功":"เข้าสู่ระบบสำเร็จ",description:e==="ko"?"환영합니다! Coilmaster Notion에 오신 것을 환영합니다.":e==="en"?"Welcome to Coilmaster Notion!":e==="zh"?"欢迎来到 Coilmaster Notion！":"ยินดีต้อนรับสู่ Coilmaster Notion!"}),console.log("Redirecting to projects after successful login"),n("/projects",{replace:!0}),!0}return!1}catch(m){console.error("Login error:",m);let f=e==="ko"?"이메일 또는 비밀번호가 일치하지 않습니다.":e==="en"?"Email or password doesn't match.":e==="zh"?"电子邮件或密码不匹配。":"อีเมลหรือรหัสผ่านไม่ตรงกัน";return m.message&&(m.message.includes("Invalid login credentials")?f=e==="ko"?"이메일 또는 비밀번호가 일치하지 않습니다.":e==="en"?"Email or password doesn't match.":e==="zh"?"电子邮件或密码不匹配。":"อีเมลหรือรหัสผ่านไม่ตรงกัน":f=m.message),a({title:e==="ko"?"로그인 실패":e==="en"?"Login failed":e==="zh"?"登录失败":"เข้าสู่ระบบล้มเหลว",description:f,variant:"destructive"}),!1}finally{r(!1)}}}};function v7({translations:e,language:t}){const{isLoading:r,handleLogin:n}=x7(t),a=f7(t),[o,i]=h.useState(!1),l=ta({resolver:ra(a),defaultValues:{email:"",password:"",rememberMe:!1}});h.useEffect(()=>{console.log("LoginForm rendered with language:",t),console.log("Translations:",e)},[t,e]);const c=d=>{console.log("Form submitted with:",d),n(d)},u=()=>i(!o);return s.jsx(sa,{...l,children:s.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-5",style:{zIndex:10,position:"relative"},children:[s.jsx(it,{control:l.control,name:"email",render:({field:d})=>s.jsxs(et,{children:[s.jsx(tt,{className:"text-gray-700",children:(e==null?void 0:e.email)||"이메일"}),s.jsx(rt,{children:s.jsx(fe,{placeholder:"email@company.com",...d,autoComplete:"email",disabled:!1,className:"border-gray-200 focus-visible:ring-primary/50 h-11 rounded-lg"})}),s.jsx(dt,{})]})}),s.jsx(it,{control:l.control,name:"password",render:({field:d})=>s.jsxs(et,{children:[s.jsx(tt,{className:"text-gray-700",children:(e==null?void 0:e.password)||"비밀번호"}),s.jsx(rt,{children:s.jsxs("div",{className:"relative",children:[s.jsx(fe,{type:o?"text":"password",placeholder:"••••••••",...d,autoComplete:"current-password",disabled:!1,className:"border-gray-200 focus-visible:ring-primary/50 h-11 rounded-lg pr-10"}),s.jsx("button",{type:"button",className:"absolute right-3 top-3 text-gray-500 hover:text-gray-700",onClick:u,tabIndex:-1,children:o?s.jsx(w_,{size:18}):s.jsx(uo,{size:18})})]})}),s.jsx(dt,{})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(it,{control:l.control,name:"rememberMe",render:({field:d})=>s.jsxs(et,{className:"flex flex-row items-center space-x-2 space-y-0",children:[s.jsx(rt,{children:s.jsx(qd,{checked:d.value,onCheckedChange:d.onChange,disabled:!1,id:"rememberMe"})}),s.jsx(tt,{htmlFor:"rememberMe",className:"text-sm font-normal cursor-pointer text-gray-600",children:(e==null?void 0:e.rememberMe)||"로그인 상태 유지"})]})}),s.jsx(Bs,{to:"/forgot-password",className:"text-sm text-primary hover:text-primary/80 transition-colors font-medium z-10",children:(e==null?void 0:e.forgotPassword)||"비밀번호 찾기"})]}),s.jsx(X,{type:"submit",className:"w-full bg-gradient-to-r from-primary to-purple-600 hover:from-primary/90 hover:to-purple-700 h-12 rounded-lg font-medium text-base",disabled:!1,children:r?(e==null?void 0:e.processing)||"로그인 중...":(e==null?void 0:e.login)||"로그인"}),s.jsxs("div",{className:"relative my-3",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"bg-white px-2 text-gray-500",children:(e==null?void 0:e.or)||"또는 새 계정 등록"})})]}),s.jsx("div",{className:"text-center",children:s.jsx(Bs,{to:"/register",className:"text-primary hover:underline text-sm font-medium z-10 relative",children:(e==null?void 0:e.registerAccount)||"새 계정 등록하기"})})]})})}function y7({noAccountText:e,registerText:t}){return s.jsx(ef,{className:"pb-8 pt-0",children:s.jsxs("div",{className:"text-center w-full",style:{position:"relative",zIndex:10},children:[s.jsx("p",{className:"text-gray-600 text-sm mb-2",children:e}),s.jsx(Bs,{to:"/register",className:"text-sm font-medium text-primary hover:text-primary/80 transition-colors",children:t})]})})}function w7(){const{translations:e,language:t}=Yt(),{isAuthenticated:r,loading:n}=Ul(),a=lo(),o=e.login,[i,l]=h.useState(!1);return h.useEffect(()=>{console.log("Current language in Login:",t),console.log("Translations available:",e),console.log("Auth state in Login:",r?"Authenticated":"Not authenticated"),console.log("Loading state in Login:",n)},[t,e,r,n]),h.useEffect(()=>{r&&(console.log("User is already authenticated, redirecting to projects"),a("/projects",{replace:!0}))},[r,a]),h.useEffect(()=>{if(n){const c=setTimeout(()=>{console.log("Forcing loading state to end after timeout"),l(!0)},1500);return()=>clearTimeout(c)}},[n]),!n||i?s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-100 via-purple-50 to-blue-100 p-4",children:[s.jsx("div",{className:"absolute top-4 left-4",children:s.jsxs(Bs,{to:"/intro",className:"flex items-center space-x-2 text-primary hover:text-primary/80 transition-colors",children:[s.jsx(Hn,{className:"h-5 w-5"}),s.jsx("span",{className:"font-bold",children:"Coilmaster Notion"})]})}),s.jsx("div",{className:"absolute top-4 right-4",children:s.jsx(Yd,{})}),s.jsx("div",{className:"w-full max-w-md",children:s.jsxs(Pe,{className:"border-none shadow-2xl bg-white/90 backdrop-blur-sm rounded-xl",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 to-purple-500/5 rounded-xl blur-xl"}),s.jsx(m7,{title:(o==null?void 0:o.title)||"로그인",description:(o==null?void 0:o.description)||"계정에 로그인하여 계속하세요"}),s.jsx(Ee,{children:s.jsx(v7,{translations:o||{},language:t})}),s.jsx(y7,{noAccountText:(o==null?void 0:o.noAccount)||"계정이 없으신가요?",registerText:(o==null?void 0:o.register)||"회원가입"})]})})]}):s.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-indigo-100 via-purple-50 to-blue-100 p-4",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"text-lg font-medium text-gray-700",children:(o==null?void 0:o.login)||"로딩 중..."}),s.jsx("p",{className:"text-sm text-gray-500",children:(o==null?void 0:o.rememberMe)||"인증 상태를 확인하는 중입니다."})]})})}function b7(){const[e,t]=h.useState(!1),[r,n]=h.useState(0),a=lo(),{toast:o}=Pr(),{translations:i,language:l}=Yt(),{departments:c,positions:u}=yt(),d=i.register,m=Wr.object({name:Wr.string().min(2,l==="ko"?"이름은 최소 2자 이상이어야 합니다":l==="en"?"Name must be at least 2 characters":l==="zh"?"姓名至少需要2个字符":"ชื่อต้องมีอย่างน้อย 2 ตัวอักษร"),email:Wr.string().email(l==="ko"?"유효한 이메일 주소를 입력하세요":l==="en"?"Enter a valid email address":l==="zh"?"请输入有效的电子邮件地址":"กรุณาใส่อีเมลที่ถูกต้อง"),password:Wr.string().min(6,l==="ko"?"비밀번호는 최소 6자 이상이어야 합니다":l==="en"?"Password must be at least 6 characters":l==="zh"?"密码至少需要6个字符":"รหัสผ่านต้องมีอย่างน้อย 6 ตัวอักษร"),confirmPassword:Wr.string(),department:Wr.string().optional(),position:Wr.string().optional(),terms:Wr.boolean().refine(g=>g===!0,{message:l==="ko"?"이용약관에 동의해야 합니다":l==="en"?"You must accept the terms":l==="zh"?"您必须接受条款":"คุณต้องยอมรับข้อกำหนด"})}).refine(g=>g.password===g.confirmPassword,{message:l==="ko"?"비밀번호가 일치하지 않습니다":l==="en"?"Passwords don't match":l==="zh"?"密码不匹配":"รหัสผ่านไม่ตรงกัน",path:["confirmPassword"]}),f=g=>{let b=0;g.length>=8&&(b+=1),/[A-Z]/.test(g)&&(b+=1),/[0-9]/.test(g)&&(b+=1),/[^A-Za-z0-9]/.test(g)&&(b+=1),g.length>=12&&(b+=1),n(b)},p=ta({resolver:ra(m),defaultValues:{name:"",email:"",password:"",confirmPassword:"",department:void 0,position:"",terms:!1}}),v=async g=>{var b,y;t(!0);try{console.log("Attempting to register with:",g.email);const{data:x,error:w}=await re.auth.signUp({email:g.email,password:g.password,options:{data:{name:g.name,department:g.department,position:g.position},emailRedirectTo:`${window.location.origin}/login`}});if(w)throw w;if(o({title:l==="ko"?"회원가입 성공":l==="en"?"Registration successful":l==="zh"?"注册成功":"ลงทะเบียนสำเร็จ",description:l==="ko"?"이메일 주소 확인 후 로그인할 수 있습니다.":l==="en"?"Please check your email to complete registration.":l==="zh"?"请检查您的电子邮件以完成注册。":"กรุณาตรวจสอบอีเมลของคุณเพื่อดำเนินการลงทะเบียนให้เสร็จสมบูรณ์"}),x&&x.user&&!((y=(b=x.user.identities)==null?void 0:b[0].identity_data)!=null&&y.email_verified_at))try{const{data:j,error:k}=await re.auth.signInWithPassword({email:g.email,password:g.password});if(k){console.log("Auto login after registration failed, redirecting to login page"),a("/login");return}if(j&&j.user){localStorage.setItem("isAuthenticated","true");const A={name:g.name,email:g.email,loginMethod:"email",provider:"email",department:g.department||null};localStorage.setItem("userProfile",JSON.stringify(A)),o({title:l==="ko"?"로그인 성공":l==="en"?"Login successful":l==="zh"?"登录成功":"เข้าสู่ระบบสำเร็จ",description:l==="ko"?"환영합니다! 대시보드로 이동합니다.":l==="en"?"Welcome! Redirecting to dashboard.":l==="zh"?"欢迎！正在重定向到仪表板。":"ยินดีต้อนรับ! กำลังนำคุณไปยังแดชบอร์ด"}),a("/");return}}catch(j){console.error("Auto login after registration failed:",j)}a("/login")}catch(x){console.error("회원가입 실패:",x);let w=x.message||(l==="ko"?"회원가입에 실패했습니다. 다시 시도해주세요.":l==="en"?"Registration failed. Please try again.":l==="zh"?"注册失败。请再试一次。":"การลงทะเบียนล้มเหลว โปรดลองอีกครั้ง");x.message&&x.message.includes("User already registered")&&(w=l==="ko"?"이미 등록된 이메일 주소입니다.":l==="en"?"Email address is already registered.":l==="zh"?"电子邮件地址已注册。":"อีเมลนี้ได้ลงทะเบียนไว้แล้ว"),o({title:l==="ko"?"회원가입 실패":l==="en"?"Registration failed":l==="zh"?"注册失败":"การลงทะเบียนล้มเหลว",description:w,variant:"destructive"})}finally{t(!1)}};return s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-100 to-slate-200 p-4",children:[s.jsx("div",{className:"absolute top-4 right-4",children:s.jsx(Yd,{})}),s.jsx("div",{className:"w-full max-w-md",children:s.jsxs(Pe,{className:"border-none shadow-xl bg-white/90 backdrop-blur-sm",children:[s.jsxs(ft,{className:"space-y-2 pb-2",children:[s.jsx("div",{className:"w-full flex justify-center mb-2",children:s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(B0,{className:"h-6 w-6 text-primary"})})}),s.jsx(pt,{className:"text-2xl text-center",children:d==null?void 0:d.title}),s.jsx(Ct,{className:"text-center",children:d==null?void 0:d.description})]}),s.jsx(Ee,{children:s.jsx(sa,{...p,children:s.jsxs("form",{onSubmit:p.handleSubmit(v),className:"space-y-4",children:[s.jsx(it,{control:p.control,name:"name",render:({field:g})=>s.jsxs(et,{children:[s.jsx(tt,{children:d==null?void 0:d.name}),s.jsx(rt,{children:s.jsx(fe,{placeholder:d==null?void 0:d.namePlaceholder,...g,disabled:e,className:"border-slate-200 focus-visible:ring-primary/50"})}),s.jsx(dt,{})]})}),s.jsx(it,{control:p.control,name:"email",render:({field:g})=>s.jsxs(et,{children:[s.jsx(tt,{children:d==null?void 0:d.email}),s.jsx(rt,{children:s.jsx(fe,{placeholder:(d==null?void 0:d.emailPlaceholder)||"email@company.com",...g,disabled:e,className:"border-slate-200 focus-visible:ring-primary/50",autoComplete:"email"})}),s.jsx(dt,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(it,{control:p.control,name:"department",render:({field:g})=>s.jsxs(et,{children:[s.jsx(tt,{children:d==null?void 0:d.department}),s.jsxs(Oe,{disabled:e,onValueChange:g.onChange,defaultValue:g.value,children:[s.jsx(rt,{children:s.jsx(Re,{className:"border-slate-200 focus-visible:ring-primary/50",children:s.jsx(Ie,{placeholder:d==null?void 0:d.department})})}),s.jsx(Ae,{children:c.map(b=>s.jsx(ce,{value:b.id,children:b.name},b.id))})]}),s.jsx(dt,{})]})}),s.jsx(it,{control:p.control,name:"position",render:({field:g})=>s.jsxs(et,{children:[s.jsx(tt,{children:d==null?void 0:d.position}),s.jsxs(Oe,{disabled:e,onValueChange:g.onChange,defaultValue:g.value,children:[s.jsx(rt,{children:s.jsx(Re,{className:"border-slate-200 focus-visible:ring-primary/50",children:s.jsx(Ie,{placeholder:d==null?void 0:d.position})})}),s.jsx(Ae,{children:u.map(b=>s.jsx(ce,{value:b.id,children:b.name},b.id))})]}),s.jsx(dt,{})]})})]}),s.jsx(it,{control:p.control,name:"password",render:({field:g})=>s.jsxs(et,{children:[s.jsx(tt,{children:d==null?void 0:d.password}),s.jsx(rt,{children:s.jsx(fe,{type:"password",placeholder:(d==null?void 0:d.passwordPlaceholder)||"••••••••",...g,onChange:b=>{g.onChange(b),f(b.target.value)},disabled:e,autoComplete:"new-password",className:"border-slate-200 focus-visible:ring-primary/50"})}),s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:(d==null?void 0:d.passwordStrength)||"비밀번호 강도"}),s.jsx("div",{className:"relative",children:s.jsx(zl,{value:r*20,className:`h-2 ${r===0?"":r===1?"[&>div]:bg-red-500":r===2?"[&>div]:bg-orange-500":r===3?"[&>div]:bg-yellow-500":r===4?"[&>div]:bg-green-500":"[&>div]:bg-green-600"}`})}),s.jsxs("div",{className:"text-xs text-right mt-1",children:[r===0&&"",r===1&&s.jsx("span",{className:"text-red-500",children:(d==null?void 0:d.veryWeak)||"매우 약함"}),r===2&&s.jsx("span",{className:"text-orange-500",children:(d==null?void 0:d.weak)||"약함"}),r===3&&s.jsx("span",{className:"text-yellow-500",children:(d==null?void 0:d.medium)||"보통"}),r===4&&s.jsx("span",{className:"text-green-500",children:(d==null?void 0:d.strong)||"강함"}),r===5&&s.jsx("span",{className:"text-green-600",children:(d==null?void 0:d.veryStrong)||"매우 강함"})]})]}),s.jsx(dt,{})]})}),s.jsx(it,{control:p.control,name:"confirmPassword",render:({field:g})=>s.jsxs(et,{children:[s.jsx(tt,{children:d==null?void 0:d.confirmPassword}),s.jsx(rt,{children:s.jsx(fe,{type:"password",placeholder:(d==null?void 0:d.passwordPlaceholder)||"••••••••",...g,disabled:e,autoComplete:"new-password",className:"border-slate-200 focus-visible:ring-primary/50"})}),s.jsx(dt,{})]})}),s.jsx(it,{control:p.control,name:"terms",render:({field:g})=>s.jsxs(et,{className:"flex flex-row items-start space-x-3 space-y-0",children:[s.jsx(rt,{children:s.jsx(qd,{checked:g.value,onCheckedChange:g.onChange,disabled:e})}),s.jsx("div",{className:"space-y-1 leading-none",children:s.jsx(tt,{className:"text-sm font-normal cursor-pointer",children:(d==null?void 0:d.acceptTerms)||"이용약관에 동의합니다"})})]})}),s.jsx(X,{type:"submit",className:"w-full bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70",disabled:e,children:e?d==null?void 0:d.processing:d==null?void 0:d.register})]})})}),s.jsx(ef,{children:s.jsxs("p",{className:"text-center text-sm text-gray-600 w-full",children:[(d==null?void 0:d.alreadyHaveAccount)||(d==null?void 0:d.haveAccount)," ",s.jsx(Bs,{to:"/login",className:"text-primary hover:underline font-medium",children:d==null?void 0:d.login})]})})]})})]})}function j7(){var m,f,p,v,g,b,y,x,w;const[e,t]=h.useState(!1),[r,n]=h.useState(!1),{toast:a}=Pr(),{translations:o,language:i}=Yt(),l={title:((m=o.forgotPassword)==null?void 0:m.title)||(i==="ko"?"비밀번호 재설정":i==="en"?"Reset Password":i==="zh"?"重置密码":"รีเซ็ตรหัสผ่าน"),description:((f=o.forgotPassword)==null?void 0:f.description)||(i==="ko"?"가입 시 사용한 이메일을 입력하시면 비밀번호 재설정 링크를 보내드립니다.":i==="en"?"Enter your email and we'll send you a password reset link.":i==="zh"?"输入您的电子邮件，我们将向您发送密码重置链接。":"ป้อนอีเมลของคุณและเราจะส่งลิงก์รีเซ็ตรหัสผ่านให้คุณ"),email:((p=o.login)==null?void 0:p.email)||(i==="ko"?"이메일":i==="en"?"Email":i==="zh"?"电子邮件":"อีเมล"),sendLink:((v=o.forgotPassword)==null?void 0:v.sendLink)||(i==="ko"?"재설정 링크 보내기":i==="en"?"Send Reset Link":i==="zh"?"发送重置链接":"ส่งลิงก์รีเซ็ต"),processing:((g=o.forgotPassword)==null?void 0:g.processing)||(i==="ko"?"처리 중...":i==="en"?"Processing...":i==="zh"?"处理中...":"กำลังประมวลผล..."),backToLogin:((b=o.forgotPassword)==null?void 0:b.backToLogin)||(i==="ko"?"로그인으로 돌아가기":i==="en"?"Back to Login":i==="zh"?"返回登录":"กลับไปที่หน้าเข้าสู่ระบบ"),successMessage:((y=o.forgotPassword)==null?void 0:y.successMessage)||(i==="ko"?"재설정 링크가 이메일로 전송되었습니다":i==="en"?"Reset link has been sent to your email":i==="zh"?"重置链接已发送到您的电子邮件":"ลิงก์รีเซ็ตถูกส่งไปยังอีเมลของคุณแล้ว"),successDescription:((x=o.forgotPassword)==null?void 0:x.successDescription)||(i==="ko"?"이메일을 확인하시고 링크를 클릭하여 비밀번호를 재설정하세요.":i==="en"?"Check your email and click the link to reset your password.":i==="zh"?"检查您的电子邮件并点击链接重置密码。":"ตรวจสอบอีเมลของคุณและคลิกลิงก์เพื่อรีเซ็ตรหัสผ่านของคุณ"),errorMessage:((w=o.forgotPassword)==null?void 0:w.errorMessage)||(i==="ko"?"오류가 발생했습니다":i==="en"?"An error occurred":i==="zh"?"发生错误":"เกิดข้อผิดพลาด")},c=Wr.object({email:Wr.string().email(i==="ko"?"유효한 이메일 주소를 입력하세요":i==="en"?"Enter a valid email address":i==="zh"?"请输入有效的电子邮件地址":"กรุณาใส่อีเมลที่ถูกต้อง")}),u=ta({resolver:ra(c),defaultValues:{email:""}}),d=async j=>{t(!0);try{const{error:k}=await re.auth.resetPasswordForEmail(j.email,{redirectTo:`${window.location.origin}/reset-password`});if(k)throw k;n(!0),a({title:l.successMessage,description:l.successDescription})}catch(k){console.error("비밀번호 재설정 오류:",k),a({title:l.errorMessage,description:i==="ko"?"비밀번호 재설정 링크를 보내는 중 오류가 발생했습니다. 다시 시도해 주세요.":i==="en"?"Error sending password reset link. Please try again.":i==="zh"?"发送密码重置链接时出错。请再试一次。":"เกิดข้อผิดพลาดในการส่งลิงก์รีเซ็ตรหัสผ่าน โปรดลองอีกครั้ง",variant:"destructive"})}finally{t(!1)}};return s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-100 to-slate-200 p-4",children:[s.jsx("div",{className:"absolute top-4 right-4",children:s.jsx(Yd,{})}),s.jsx("div",{className:"w-full max-w-md",children:s.jsxs(Pe,{className:"border-none shadow-xl bg-white/90 backdrop-blur-sm",children:[s.jsxs(ft,{className:"space-y-2 pb-2",children:[s.jsx("div",{className:"w-full flex justify-center mb-2",children:s.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(cc,{className:"h-6 w-6 text-primary"})})}),s.jsx(pt,{className:"text-2xl text-center font-bold",children:l.title}),s.jsx(Ct,{className:"text-center",children:r?l.successDescription:l.description})]}),s.jsx(Ee,{children:r?s.jsxs("div",{className:"py-4 text-center text-sm text-slate-600 space-y-6",children:[s.jsx("p",{children:l.successMessage}),s.jsx(X,{variant:"outline",className:"w-full border border-gray-300",onClick:()=>n(!1),children:l.sendLink})]}):s.jsx(sa,{...u,children:s.jsxs("form",{onSubmit:u.handleSubmit(d),className:"space-y-4",children:[s.jsx(it,{control:u.control,name:"email",render:({field:j})=>s.jsxs(et,{children:[s.jsx(tt,{children:l.email}),s.jsx(rt,{children:s.jsx(fe,{placeholder:"email@company.com",...j,autoComplete:"email",disabled:e,className:"border-slate-200 focus-visible:ring-primary/50"})}),s.jsx(dt,{})]})}),s.jsx(X,{type:"submit",className:"w-full bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70",disabled:e,children:e?l.processing:l.sendLink})]})})}),s.jsx(ef,{children:s.jsxs(Bs,{to:"/login",className:"text-sm text-primary hover:underline flex items-center gap-1 w-full justify-center",children:[s.jsx(Rh,{className:"h-4 w-4"})," ",l.backToLogin]})})]})})]})}const N7=()=>{const e=nn();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),s.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},_7=()=>{var r,n;const{language:e,translations:t}=Yt();return t.intro,s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-100 via-purple-50 to-blue-100",children:[s.jsxs("nav",{className:"px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Hn,{className:"h-6 w-6 text-primary"}),s.jsx("h1",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-purple-600",children:"Coilmaster Notion"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Yd,{}),s.jsxs("div",{className:"hidden sm:flex items-center space-x-2",children:[s.jsx(Bs,{to:"/login",children:s.jsxs(X,{variant:"ghost",size:"sm",className:"flex items-center",children:[s.jsx(N_,{className:"mr-1 h-4 w-4"}),((r=t.login)==null?void 0:r.login)||"Login"]})}),s.jsx(Bs,{to:"/register",children:s.jsxs(X,{variant:"default",size:"sm",className:"flex items-center",children:[s.jsx(B0,{className:"mr-1 h-4 w-4"}),((n=t.register)==null?void 0:n.register)||"Register"]})})]})]})]}),s.jsx("section",{className:"pt-16 pb-24 px-4 max-w-7xl mx-auto",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[s.jsx("div",{className:"space-y-8",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6 leading-tight",children:[s.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary to-purple-600",children:e==="ko"?"팀 협업을 위한":e==="zh"?"简化的":e==="th"?"การทำงานร่วมกัน":"Streamlined"}),s.jsx("br",{}),e==="ko"?"직관적인 업무 관리":e==="zh"?"团队协作":e==="th"?"ของทีมที่มีประสิทธิภาพ":"Team Collaboration"]}),s.jsx("p",{className:"text-lg text-gray-600 mb-8",children:e==="ko"?"Coilmaster Notion은 팀의 협업, 프로젝트 관리, 작업 추적을 위한 올인원 솔루션입니다. 여러 부서와 법인의 업무를 쉽게 정리하고 관리하세요.":e==="zh"?"Coilmaster Notion是团队协作、项目管理和任务跟踪的一体化解决方案。轻松组织和管理跨部门和公司的工作。":e==="th"?"Coilmaster Notion เป็นโซลูชันครบวงจรสำหรับการทำงานร่วมกันของทีม การจัดการโครงการ และการติดตามงาน จัดระเบียบและจัดการงานข้ามแผนกและบริษัทได้อย่างง่ายดาย":"Coilmaster Notion is your all-in-one solution for team collaboration, project management, and task tracking. Easily organize and manage work across departments and corporations."}),s.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[s.jsx(Bs,{to:"/register",children:s.jsx(X,{className:"w-full sm:w-auto bg-gradient-to-r from-primary to-purple-600 hover:from-primary/90 hover:to-purple-700 text-white font-medium px-6 py-3 rounded-lg transition-all",children:e==="ko"?"시작하기":e==="zh"?"开始使用":e==="th"?"เริ่มต้นใช้งาน":"Get Started"})}),s.jsx(Bs,{to:"/login",children:s.jsx(X,{variant:"outline",className:"w-full sm:w-auto font-medium px-6 py-3 rounded-lg",children:e==="ko"?"로그인":e==="zh"?"登录":e==="th"?"เข้าสู่ระบบ":"Login"})})]})]})}),s.jsxs("div",{className:"relative hidden md:block",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400/20 to-purple-500/20 rounded-full blur-3xl"}),s.jsxs("div",{className:"relative grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"bg-white/80 backdrop-blur-md p-6 rounded-xl shadow-lg",children:[s.jsx(Et,{className:"h-8 w-8 text-primary mb-3"}),s.jsx("h3",{className:"font-semibold text-lg mb-1",children:e==="ko"?"업무 일지":e==="zh"?"任务日志":e==="th"?"บันทึกงาน":"Task Journal"}),s.jsx("p",{className:"text-sm text-gray-600",children:e==="ko"?"일일 작업 기록 및 추적":e==="zh"?"每日工作记录和跟踪":e==="th"?"การบันทึกและติดตามงานประจำวัน":"Daily work logging and tracking"})]}),s.jsxs("div",{className:"bg-white/80 backdrop-blur-md p-6 rounded-xl shadow-lg",children:[s.jsx(sr,{className:"h-8 w-8 text-primary mb-3"}),s.jsx("h3",{className:"font-semibold text-lg mb-1",children:e==="ko"?"일정 관리":e==="zh"?"日历":e==="th"?"ปฏิทิน":"Calendar"}),s.jsx("p",{className:"text-sm text-gray-600",children:e==="ko"?"법인별 일정 관리":e==="zh"?"企业事件管理":e==="th"?"การจัดการกิจกรรมขององค์กร":"Corporate event management"})]})]}),s.jsxs("div",{className:"flex flex-col gap-6 mt-12",children:[s.jsxs("div",{className:"bg-white/80 backdrop-blur-md p-6 rounded-xl shadow-lg",children:[s.jsx(us,{className:"h-8 w-8 text-primary mb-3"}),s.jsx("h3",{className:"font-semibold text-lg mb-1",children:e==="ko"?"팀 관리":e==="zh"?"团队管理":e==="th"?"การจัดการทีม":"Team Management"}),s.jsx("p",{className:"text-sm text-gray-600",children:e==="ko"?"부서 및 법인별 인원 관리":e==="zh"?"部门和公司人员管理":e==="th"?"จัดการบุคลากรตามแผนกและบริษัท":"Department and corporate personnel"})]}),s.jsxs("div",{className:"bg-white/80 backdrop-blur-md p-6 rounded-xl shadow-lg",children:[s.jsx(Hn,{className:"h-8 w-8 text-primary mb-3"}),s.jsx("h3",{className:"font-semibold text-lg mb-1",children:e==="ko"?"데이터 관리":e==="zh"?"数据管理":e==="th"?"การจัดการข้อมูล":"Data Management"}),s.jsx("p",{className:"text-sm text-gray-600",children:e==="ko"?"프로젝트 및 문서 관리":e==="zh"?"项目和文档处理":e==="th"?"การจัดการโครงการและเอกสาร":"Project and document handling"})]})]})]})]})]})}),s.jsx("section",{className:"py-16 px-4 bg-white/70 backdrop-blur-md",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:e==="ko"?"주요 기능":e==="zh"?"主要功能":e==="th"?"คุณสมบัติหลัก":"Key Features"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[s.jsx("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4",children:s.jsx(Et,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"font-semibold text-xl mb-2",children:e==="ko"?"업무 일지 관리":e==="zh"?"任务日志管理":e==="th"?"การจัดการบันทึกงาน":"Task Journal Management"}),s.jsx("p",{className:"text-gray-600",children:e==="ko"?"일일 업무 기록을 작성하고 팀원과 공유하세요. 업무 진행 상황을 실시간으로 추적할 수 있습니다.":e==="zh"?"创建每日工作日志并与团队共享。实时跟踪工作进度。":e==="th"?"สร้างบันทึกการทำงานประจำวันและแชร์กับทีมของคุณ ติดตามความคืบหน้าของงานแบบเรียลไทม์":"Create daily work logs and share them with your team. Track work progress in real-time."})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[s.jsx("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4",children:s.jsx(sr,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"font-semibold text-xl mb-2",children:e==="ko"?"일정 및 캘린더":e==="zh"?"日程安排与日历":e==="th"?"ปฏิทินและการจัดกำหนดการ":"Calendar & Scheduling"}),s.jsx("p",{className:"text-gray-600",children:e==="ko"?"법인별 일정을 관리하고 중요한 이벤트를 추적하세요. 한눈에 모든 일정을 확인할 수 있습니다.":e==="zh"?"按公司管理日程并跟踪重要事件。一目了然地查看所有日程安排。":e==="th"?"จัดการกำหนดการตามบริษัทและติดตามกิจกรรมสำคัญ ดูตารางเวลาทั้งหมดได้ในที่เดียว":"Manage schedules by corporation and track important events. View all schedules at a glance."})]}),s.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100",children:[s.jsx("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center mb-4",children:s.jsx(us,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"font-semibold text-xl mb-2",children:e==="ko"?"팀 및 부서 관리":e==="zh"?"团队与部门管理":e==="th"?"การจัดการทีมและแผนก":"Team & Department Management"}),s.jsx("p",{className:"text-gray-600",children:e==="ko"?"법인, 부서, 임원별로 팀을 구성하고 관리하세요. 조직 구조를 시각적으로 확인할 수 있습니다.":e==="zh"?"按公司、部门和管理层设置和管理团队。可视化组织结构。":e==="th"?"จัดตั้งและจัดการทีมตามบริษัท แผนก และผู้บริหาร แสดงโครงสร้างองค์กรอย่างเห็นภาพ":"Set up and manage teams by corporation, department, and executive. Visualize organizational structures."})]})]})]})}),s.jsx("footer",{className:"py-12 px-4 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[s.jsx(Hn,{className:"h-5 w-5 text-primary"}),s.jsx("h2",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary to-purple-600",children:"Coilmaster Notion"})]}),s.jsxs("p",{className:"text-gray-600 text-sm",children:["© ",new Date().getFullYear()," Coilmaster Corporation.",e==="ko"?"모든 권리 보유.":e==="zh"?"版权所有。":e==="th"?"สงวนสิทธิ์ทั้งหมด":"All rights reserved."]})]})})]})},Ev=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),k7=()=>{const[e,t]=h.useState([]);return{journals:e,createJournal:o=>(t(i=>[...i,o]),o),updateJournal:o=>(t(i=>i.map(l=>l.id===o.id?o:l)),o),deleteJournal:o=>{t(i=>i.filter(l=>l.id!==o))}}},Db=()=>{var v,g,b,y,x,w,j,k,A,C,T,B,$,W;const{taskId:e}=tN(),t=lo(),{tasks:r}=yt(),{journals:n,createJournal:a}=k7(),{toast:o}=Pr(),{translations:i}=Yt(),l=i,[c,u]=h.useState({title:"",content:"",date:Ke(new Date,"yyyy-MM-dd"),department:void 0}),d=r.find(_=>_.id===e);if(!d)return t("/tasks"),null;const m=_=>{var O,ne,P,H;if(_.preventDefault(),!c.title||!c.content){o({variant:"destructive",title:((O=l==null?void 0:l.global)==null?void 0:O.error)||"오류",description:((ne=l==null?void 0:l.journal)==null?void 0:ne.titleContentRequired)||"제목과 내용을 입력해주세요."});return}const R={id:Ev(),title:c.title||"",content:c.content||"",userId:"current-user-id",taskId:d.id,date:c.date||Ke(new Date,"yyyy-MM-dd"),department:d.department,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};a(R),o({title:((P=l==null?void 0:l.journal)==null?void 0:P.journalCreated)||"업무 일지 작성 완료",description:((H=l==null?void 0:l.journal)==null?void 0:H.journalCreatedDesc)||"업무 일지가 성공적으로 작성되었습니다."}),t(`/tasks/${e}`)},f=_=>{switch(_){case"completed":return"bg-green-500";case"in-progress":return"bg-blue-500";case"delayed":return"bg-red-500";default:return"bg-gray-500"}},p=_=>{switch(_){case"urgent":return"🔥";case"high":return"⚡";case"medium":return"💫";case"low":return"🌱";default:return"📌"}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-800",children:s.jsxs("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs(X,{variant:"ghost",onClick:()=>t(`/tasks/${e}`),className:"mb-4 hover:bg-white/50 dark:hover:bg-slate-800/50",children:[s.jsx(Rh,{className:"h-4 w-4 mr-2"}),((v=l==null?void 0:l.global)==null?void 0:v.back)||"뒤로가기"]}),s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-purple-500 to-pink-500",children:s.jsx(Ka,{className:"h-6 w-6 text-white"})}),((g=l==null?void 0:l.journal)==null?void 0:g.create)||"업무 일지 작성"]}),s.jsxs("p",{className:"text-muted-foreground",children:[d.title," ",((b=l==null?void 0:l.journal)==null?void 0:b.taskJournalDesc)||"업무에 대한 일지를 작성합니다."]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:((y=l==null?void 0:l.journal)==null?void 0:y.currentDate)||"오늘 날짜"}),s.jsx("p",{className:"text-lg font-semibold",children:Ke(new Date,"yyyy년 MM월 dd일")})]})]})]}),s.jsxs(Pe,{className:"mb-6 border-0 shadow-lg bg-gradient-to-br from-white to-slate-50 dark:from-slate-900 dark:to-slate-800 overflow-hidden",children:[s.jsx("div",{className:se("h-2",f(d.status))}),s.jsxs(Ee,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"text-xl font-bold mb-2 flex items-center gap-2",children:[s.jsx(Wa,{className:"h-5 w-5 text-blue-500"}),d.title]}),s.jsx("p",{className:"text-muted-foreground mb-4",children:d.description})]}),s.jsxs(Le,{variant:"outline",className:"ml-4",children:[p(d.priority)," ",d.priority]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(nr,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:"담당자:"}),s.jsx("span",{className:"font-medium",children:d.assignedTo})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pn,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:"부서:"}),s.jsx("span",{className:"font-medium",children:d.department})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(sr,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:"마감일:"}),s.jsx("span",{className:"font-medium",children:d.dueDate})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gO,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-muted-foreground",children:"진행률:"}),s.jsxs("span",{className:"font-medium",children:[d.progress,"%"]})]})]})]})]}),s.jsxs(Pe,{className:"border-0 shadow-xl overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 p-6 text-white",children:[s.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(SO,{className:"h-5 w-5"}),((x=l==null?void 0:l.journal)==null?void 0:x.writeJournal)||"일지 작성"]}),s.jsx("p",{className:"text-white/80 text-sm mt-1",children:((w=l==null?void 0:l.journal)==null?void 0:w.writeJournalDesc)||"오늘의 업무 진행 상황을 자세히 기록해주세요"})]}),s.jsx(Ee,{className:"p-6",children:s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{htmlFor:"title",className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Et,{className:"h-4 w-4 text-muted-foreground"}),((j=l==null?void 0:l.journal)==null?void 0:j.yourTitle)||"제목",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(fe,{id:"title",value:c.title||"",onChange:_=>u({...c,title:_.target.value}),placeholder:((k=l==null?void 0:l.journal)==null?void 0:k.titlePlaceholder)||"업무 일지 제목을 입력하세요",className:"pr-10 border-0 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-purple-500"}),s.jsx(Xs,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-purple-500"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{htmlFor:"date",className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(sr,{className:"h-4 w-4 text-muted-foreground"}),((A=l==null?void 0:l.journal)==null?void 0:A.date)||"날짜"]}),s.jsxs("div",{className:"relative",children:[s.jsx(fe,{id:"date",type:"date",value:c.date||"",onChange:_=>u({...c,date:_.target.value}),className:"pr-10 border-0 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-purple-500"}),s.jsx(yr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{htmlFor:"content",className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Ka,{className:"h-4 w-4 text-muted-foreground"}),((C=l==null?void 0:l.journal)==null?void 0:C.content)||"내용",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(na,{id:"content",value:c.content||"",onChange:_=>u({...c,content:_.target.value}),placeholder:((T=l==null?void 0:l.journal)==null?void 0:T.contentPlaceholder)||"업무 일지 내용을 입력하세요",className:"min-h-[300px] resize-none border-0 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-purple-500"}),s.jsxs("div",{className:"absolute bottom-3 right-3 text-xs text-muted-foreground",children:[((B=c.content)==null?void 0:B.length)||0," 자"]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsxs(X,{type:"button",variant:"outline",onClick:()=>t(`/tasks/${e}`),className:"hover:bg-red-50 dark:hover:bg-red-900/20",children:[s.jsx(It,{className:"h-4 w-4 mr-2"}),(($=l==null?void 0:l.journal)==null?void 0:$.cancel)||"취소"]}),s.jsxs(X,{type:"submit",className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white shadow-lg",children:[s.jsx(Lh,{className:"h-4 w-4 mr-2"}),((W=l==null?void 0:l.journal)==null?void 0:W.save)||"저장"]})]})]})})]})]})})};function S7({open:e,onOpenChange:t,onCreate:r}){const{users:n,managers:a,currentUser:o,projects:i,tasks:l}=yt(),[c,u]=h.useState({project_id:"",task_id:"",content:"",status:"not-started",files:[],collaborators:[],author_id:"",author_name:""}),[d,m]=h.useState(""),[f,p]=h.useState([]),[v,g]=h.useState([]),b=l.filter(R=>R.projectId===c.project_id).sort((R,O)=>{const ne=v.find(M=>M.id===R.taskPhase),P=v.find(M=>M.id===O.taskPhase),H=(ne==null?void 0:ne.order_index)||999,L=(P==null?void 0:P.order_index)||999;return H-L}),y=async()=>{try{const{data:R,error:O}=await re.from("task_phases").select("*").eq("is_active",!0).order("order_index");if(O){console.error("업무 단계 로드 오류:",O);return}g(R||[])}catch(R){console.error("업무 단계 로드 중 오류:",R)}},x=R=>{if(!R||!v.length)return"";const O=v.find(ne=>ne.id===R);return O?String(O.order_index).padStart(2,"0"):""},w=R=>{const O=x(R.taskPhase),ne=v.find(H=>H.id===R.taskPhase),P=(ne==null?void 0:ne.name)||"단계 미지정";return O&&P?/^\d{2}\./.test(P)?P:`${O}.${P}`:R.title||P},j=He.useMemo(()=>{const R=Array.isArray(n)?n:[],O=Array.isArray(a)?a:[],ne=new Map;return R.forEach(P=>{P.id&&P.name&&ne.set(P.id,{id:P.id,name:P.name,email:P.email||"",department:P.department||"미분류",type:"user"})}),O.forEach(P=>{var H;P.id&&P.name&&ne.set(P.id,{id:P.id,name:P.name,email:P.email||"",department:((H=P.department)==null?void 0:H.name)||"미분류",type:"manager"})}),Array.from(ne.values())},[n,a]);h.useEffect(()=>{if(console.log("🔍 협업자 검색 - 입력값:",d),console.log("🔍 전체 사용자 목록:",j),d.startsWith("@")){const R=d.slice(1).toLowerCase().trim();console.log("🔍 검색어:",R);let O;R===""?O=j.filter(ne=>ne.id!==(o==null?void 0:o.id)&&!c.collaborators.includes(ne.id)):O=j.filter(ne=>(ne.name.toLowerCase().includes(R)||ne.email.toLowerCase().includes(R))&&ne.id!==(o==null?void 0:o.id)&&!c.collaborators.includes(ne.id)),console.log("🔍 필터링된 사용자:",O),p(O.slice(0,10))}else p([])},[d,j,o,c.collaborators]);const k=()=>{u({project_id:"",task_id:"",content:"",status:"not-started",files:[],collaborators:[],author_id:(o==null?void 0:o.id)||"",author_name:(o==null?void 0:o.name)||""}),m("")},A=R=>{u(O=>({...O,project_id:R,task_id:""}))},C=R=>{const O=R.target.files;O&&O.length>0&&(u(ne=>({...ne,files:[...ne.files,...Array.from(O)]})),R.target.value="")},T=R=>{u(O=>({...O,files:O.files.filter((ne,P)=>P!==R)}))},B=R=>{u(O=>({...O,collaborators:[...O.collaborators,R]})),m("")},$=R=>{u(O=>({...O,collaborators:O.collaborators.filter(ne=>ne!==R)}))},W=R=>{R.key==="Enter"&&f.length>0&&(R.preventDefault(),B(f[0].id))},_=async R=>{if(R.preventDefault(),!c.project_id||!c.task_id||!c.content.trim()){alert("프로젝트, 업무, 내용을 모두 입력해주세요.");return}if(!o){alert("사용자 정보가 없습니다.");return}try{const O={...c,author_id:o.id,author_name:o.name};await r(O),k(),t(!1)}catch(O){console.error("업무 일지 등록 실패:",O),alert("업무 일지 등록에 실패했습니다.")}};return h.useEffect(()=>{e&&(k(),y())},[e]),s.jsx(kt,{open:e,onOpenChange:t,children:s.jsxs(bt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(jt,{children:s.jsxs(Nt,{className:"flex items-center gap-2",children:[s.jsx(Et,{className:"w-5 h-5"}),"업무 일지 작성"]})}),s.jsxs("form",{onSubmit:_,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"project",children:"프로젝트 *"}),s.jsxs(Oe,{value:c.project_id,onValueChange:A,children:[s.jsx(Re,{children:s.jsx(Ie,{placeholder:"프로젝트를 선택하세요"})}),s.jsx(Ae,{children:i.map(R=>s.jsx(ce,{value:R.id,children:R.name},R.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"task",children:"관련 업무 *"}),s.jsxs(Oe,{value:c.task_id,onValueChange:R=>u(O=>({...O,task_id:R})),disabled:!c.project_id,children:[s.jsx(Re,{children:s.jsx(Ie,{placeholder:"업무를 선택하세요"})}),s.jsx(Ae,{children:b.map(R=>{var O;return s.jsx(ce,{value:R.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-block w-2 h-2 rounded-full",style:{backgroundColor:((O=v.find(ne=>ne.id===R.taskPhase))==null?void 0:O.color)||"#6b7280"}}),w(R)]})},R.id)})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{children:"작성일"}),s.jsx(fe,{value:Ke(new Date,"yyyy-MM-dd"),disabled:!0,className:"bg-gray-50"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"content",children:"업무 내용 *"}),s.jsx(na,{id:"content",value:c.content,onChange:R=>u(O=>({...O,content:R.target.value})),placeholder:"오늘 수행한 업무 내용을 상세히 작성해주세요...",className:"min-h-[120px]"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{children:"파일 및 미디어"}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:[s.jsx("input",{type:"file",id:"file-upload",multiple:!0,accept:"image/*,video/*,.pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx",onChange:C,className:"hidden"}),s.jsxs("label",{htmlFor:"file-upload",className:"flex flex-col items-center cursor-pointer",children:[s.jsx(Ol,{className:"w-8 h-8 text-gray-400 mb-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:"파일을 선택하거나 드래그하여 업로드"}),s.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"이미지, 동영상, 문서 파일 지원"})]})]}),c.files.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-sm font-medium",children:["업로드된 파일 (",c.files.length,")"]}),s.jsx("div",{className:"space-y-1",children:c.files.map((R,O)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Et,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:R.name}),s.jsxs("span",{className:"text-xs text-gray-500",children:["(",(R.size/1024/1024).toFixed(2)," MB)"]})]}),s.jsx(X,{type:"button",variant:"ghost",size:"sm",onClick:()=>T(O),children:s.jsx(It,{className:"w-4 h-4"})})]},O))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"status",children:"상태"}),s.jsxs(Oe,{value:c.status,onValueChange:R=>u(O=>({...O,status:R})),children:[s.jsx(Re,{children:s.jsx(Ie,{})}),s.jsxs(Ae,{children:[s.jsx(ce,{value:"not-started",children:"시작전"}),s.jsx(ce,{value:"in-progress",children:"진행중"}),s.jsx(ce,{value:"delayed",children:"연기"}),s.jsx(ce,{value:"completed",children:"완료"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{children:"작성인"}),s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[s.jsx(nr,{className:"w-4 h-4"}),s.jsx("span",{children:(o==null?void 0:o.name)||"사용자 로딩 중..."}),!o&&s.jsx("span",{className:"text-xs text-red-500 ml-2",children:"(사용자 정보 로딩 중)"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"collaborators",children:"협업인원"}),s.jsxs("div",{className:"relative",children:[s.jsx(fe,{value:d,onChange:R=>m(R.target.value),onKeyDown:W,placeholder:"@사용자명으로 협업인원을 태그하세요",className:"pr-8"}),s.jsx(nO,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),d.startsWith("@")&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border rounded-md shadow-lg max-h-48 overflow-y-auto",children:f.length>0?f.map(R=>s.jsx("div",{className:"px-3 py-2 hover:bg-blue-50 cursor-pointer border-b last:border-b-0",onClick:()=>B(R.id),children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx(nr,{className:"w-4 h-4 text-blue-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-sm",children:R.name}),s.jsxs("div",{className:"text-xs text-gray-500",children:[R.email," • ",R.department," • ",R.type==="manager"?"관리자":"사용자"]})]})]})},R.id)):d.length>1?s.jsx("div",{className:"px-3 py-4 text-center text-gray-500 text-sm",children:"검색 결과가 없습니다"}):s.jsx("div",{className:"px-3 py-4 text-center text-gray-500 text-sm",children:"사용자명 또는 이메일을 입력하세요"})})]}),c.collaborators.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-sm font-medium",children:["협업인원 (",c.collaborators.length,")"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:c.collaborators.map(R=>{const O=j.find(ne=>ne.id===R);return O?s.jsxs(Le,{variant:"secondary",className:"flex items-center gap-1",children:[s.jsx(nr,{className:"w-3 h-3"}),O.name,s.jsxs("span",{className:"text-xs opacity-75",children:["(",O.type==="manager"?"관리자":"사용자",")"]}),s.jsx(X,{type:"button",variant:"ghost",size:"sm",className:"h-auto p-0 ml-1",onClick:()=>$(R),children:s.jsx(It,{className:"w-3 h-3"})})]},R):null})})]})]}),s.jsxs($t,{children:[s.jsx(X,{type:"button",variant:"outline",onClick:()=>t(!1),children:"취소"}),s.jsx(X,{type:"submit",children:"업무 일지 등록"})]})]})]})})}function Pb(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function RC(...e){return t=>{let r=!1;const n=e.map(a=>{const o=Pb(a,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let a=0;a<n.length;a++){const o=n[a];typeof o=="function"?o():Pb(e[a],null)}}}}function oi(...e){return h.useCallback(RC(...e),e)}function C7(e){const t=D7(e),r=h.forwardRef((n,a)=>{const{children:o,...i}=n,l=h.Children.toArray(o),c=l.find(T7);if(c){const u=c.props.children,d=l.map(m=>m===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:m);return s.jsx(t,{...i,ref:a,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return s.jsx(t,{...i,ref:a,children:o})});return r.displayName=`${e}.Slot`,r}function D7(e){const t=h.forwardRef((r,n)=>{const{children:a,...o}=r;if(h.isValidElement(a)){const i=M7(a),l=E7(o,a.props);return a.type!==h.Fragment&&(l.ref=n?RC(n,i):i),h.cloneElement(a,l)}return h.Children.count(a)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var P7=Symbol("radix.slottable");function T7(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===P7}function E7(e,t){const r={...t};for(const n in t){const a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?r[n]=(...l)=>{const c=o(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...o}:n==="className"&&(r[n]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}function M7(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var R7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Kd=R7.reduce((e,t)=>{const r=C7(`Primitive.${t}`),n=h.forwardRef((a,o)=>{const{asChild:i,...l}=a,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),bx=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{};function A7(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var Gd=e=>{const{present:t,children:r}=e,n=O7(t),a=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),o=oi(n.ref,I7(a));return typeof r=="function"||n.isPresent?h.cloneElement(a,{ref:o}):null};Gd.displayName="Presence";function O7(e){const[t,r]=h.useState(),n=h.useRef(null),a=h.useRef(e),o=h.useRef("none"),i=e?"mounted":"unmounted",[l,c]=A7(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=Iu(n.current);o.current=l==="mounted"?u:"none"},[l]),bx(()=>{const u=n.current,d=a.current;if(d!==e){const f=o.current,p=Iu(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),bx(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,m=p=>{const g=Iu(n.current).includes(p.animationName);if(p.target===t&&g&&(c("ANIMATION_END"),!a.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},f=p=>{p.target===t&&(o.current=Iu(n.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Iu(e){return(e==null?void 0:e.animationName)||"none"}function I7(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function L7(e,t=[]){let r=[];function n(o,i){const l=h.createContext(i),c=r.length;r=[...r,i];const u=m=>{var y;const{scope:f,children:p,...v}=m,g=((y=f==null?void 0:f[e])==null?void 0:y[c])||l,b=h.useMemo(()=>v,Object.values(v));return s.jsx(g.Provider,{value:b,children:p})};u.displayName=o+"Provider";function d(m,f){var g;const p=((g=f==null?void 0:f[e])==null?void 0:g[c])||l,v=h.useContext(p);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[u,d]}const a=()=>{const o=r.map(i=>h.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,F7(a,...t)]}function F7(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const m=c(o)[`__scope${u}`];return{...l,...m}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Mo(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var $7=h.createContext(void 0);function z7(e){const t=h.useContext($7);return e||t||"ltr"}function U7(e,[t,r]){return Math.min(r,Math.max(t,e))}function zo(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function B7(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var Mv="ScrollArea",[AC,sV]=L7(Mv),[V7,Ds]=AC(Mv),OC=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:o=600,...i}=e,[l,c]=h.useState(null),[u,d]=h.useState(null),[m,f]=h.useState(null),[p,v]=h.useState(null),[g,b]=h.useState(null),[y,x]=h.useState(0),[w,j]=h.useState(0),[k,A]=h.useState(!1),[C,T]=h.useState(!1),B=oi(t,W=>c(W)),$=z7(a);return s.jsx(V7,{scope:r,type:n,dir:$,scrollHideDelay:o,scrollArea:l,viewport:u,onViewportChange:d,content:m,onContentChange:f,scrollbarX:p,onScrollbarXChange:v,scrollbarXEnabled:k,onScrollbarXEnabledChange:A,scrollbarY:g,onScrollbarYChange:b,scrollbarYEnabled:C,onScrollbarYEnabledChange:T,onCornerWidthChange:x,onCornerHeightChange:j,children:s.jsx(Kd.div,{dir:$,...i,ref:B,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});OC.displayName=Mv;var IC="ScrollAreaViewport",LC=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...o}=e,i=Ds(IC,r),l=h.useRef(null),c=oi(t,l,i.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Kd.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});LC.displayName=IC;var Tn="ScrollAreaScrollbar",Rv=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ds(Tn,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=a,l=e.orientation==="horizontal";return h.useEffect(()=>(l?o(!0):i(!0),()=>{l?o(!1):i(!1)}),[l,o,i]),a.type==="hover"?s.jsx(W7,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(H7,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(FC,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(Av,{...n,ref:t}):null});Rv.displayName=Tn;var W7=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ds(Tn,e.__scopeScrollArea),[o,i]=h.useState(!1);return h.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Gd,{present:r||o,children:s.jsx(FC,{"data-state":o?"visible":"hidden",...n,ref:t})})}),H7=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ds(Tn,e.__scopeScrollArea),o=e.orientation==="horizontal",i=pf(()=>c("SCROLL_END"),100),[l,c]=B7("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),h.useEffect(()=>{const u=a.viewport,d=o?"scrollLeft":"scrollTop";if(u){let m=u[d];const f=()=>{const p=u[d];m!==p&&(c("SCROLL"),i()),m=p};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[a.viewport,o,c,i]),s.jsx(Gd,{present:r||l!=="hidden",children:s.jsx(Av,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:zo(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:zo(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),FC=h.forwardRef((e,t)=>{const r=Ds(Tn,e.__scopeScrollArea),{forceMount:n,...a}=e,[o,i]=h.useState(!1),l=e.orientation==="horizontal",c=pf(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;i(l?u:d)}},10);return kl(r.viewport,c),kl(r.content,c),s.jsx(Gd,{present:n||o,children:s.jsx(Av,{"data-state":o?"visible":"hidden",...a,ref:t})})}),Av=h.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Ds(Tn,e.__scopeScrollArea),o=h.useRef(null),i=h.useRef(0),[l,c]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=VC(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>o.current=f,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:f=>i.current=f};function m(f,p){return Z7(f,i.current,l,p)}return r==="horizontal"?s.jsx(q7,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const f=a.viewport.scrollLeft,p=Tb(f,l,a.dir);o.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollLeft=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollLeft=m(f,a.dir))}}):r==="vertical"?s.jsx(Y7,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&o.current){const f=a.viewport.scrollTop,p=Tb(f,l);o.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{a.viewport&&(a.viewport.scrollTop=f)},onDragScroll:f=>{a.viewport&&(a.viewport.scrollTop=m(f))}}):null}),q7=h.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,o=Ds(Tn,e.__scopeScrollArea),[i,l]=h.useState(),c=h.useRef(null),u=oi(t,c,o.onScrollbarXChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(zC,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ff(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,m)=>{if(o.viewport){const f=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(f),HC(f,m)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:om(i.paddingLeft),paddingEnd:om(i.paddingRight)}})}})}),Y7=h.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,o=Ds(Tn,e.__scopeScrollArea),[i,l]=h.useState(),c=h.useRef(null),u=oi(t,c,o.onScrollbarYChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(zC,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ff(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,m)=>{if(o.viewport){const f=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(f),HC(f,m)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:om(i.paddingTop),paddingEnd:om(i.paddingBottom)}})}})}),[K7,$C]=AC(Tn),zC=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:m,...f}=e,p=Ds(Tn,r),[v,g]=h.useState(null),b=oi(t,B=>g(B)),y=h.useRef(null),x=h.useRef(""),w=p.viewport,j=n.content-n.viewport,k=Mo(d),A=Mo(c),C=pf(m,10);function T(B){if(y.current){const $=B.clientX-y.current.left,W=B.clientY-y.current.top;u({x:$,y:W})}}return h.useEffect(()=>{const B=$=>{const W=$.target;(v==null?void 0:v.contains(W))&&k($,j)};return document.addEventListener("wheel",B,{passive:!1}),()=>document.removeEventListener("wheel",B,{passive:!1})},[w,v,j,k]),h.useEffect(A,[n,A]),kl(v,C),kl(p.content,C),s.jsx(K7,{scope:r,scrollbar:v,hasThumb:a,onThumbChange:Mo(o),onThumbPointerUp:Mo(i),onThumbPositionChange:A,onThumbPointerDown:Mo(l),children:s.jsx(Kd.div,{...f,ref:b,style:{position:"absolute",...f.style},onPointerDown:zo(e.onPointerDown,B=>{B.button===0&&(B.target.setPointerCapture(B.pointerId),y.current=v.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),T(B))}),onPointerMove:zo(e.onPointerMove,T),onPointerUp:zo(e.onPointerUp,B=>{const $=B.target;$.hasPointerCapture(B.pointerId)&&$.releasePointerCapture(B.pointerId),document.body.style.webkitUserSelect=x.current,p.viewport&&(p.viewport.style.scrollBehavior=""),y.current=null})})})}),am="ScrollAreaThumb",UC=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=$C(am,e.__scopeScrollArea);return s.jsx(Gd,{present:r||a.hasThumb,children:s.jsx(G7,{ref:t,...n})})}),G7=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,o=Ds(am,r),i=$C(am,r),{onThumbPositionChange:l}=i,c=oi(t,m=>i.onThumbChange(m)),u=h.useRef(void 0),d=pf(()=>{u.current&&(u.current(),u.current=void 0)},100);return h.useEffect(()=>{const m=o.viewport;if(m){const f=()=>{if(d(),!u.current){const p=Q7(m,l);u.current=p,l()}};return l(),m.addEventListener("scroll",f),()=>m.removeEventListener("scroll",f)}},[o.viewport,d,l]),s.jsx(Kd.div,{"data-state":i.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:zo(e.onPointerDownCapture,m=>{const p=m.target.getBoundingClientRect(),v=m.clientX-p.left,g=m.clientY-p.top;i.onThumbPointerDown({x:v,y:g})}),onPointerUp:zo(e.onPointerUp,i.onThumbPointerUp)})});UC.displayName=am;var Ov="ScrollAreaCorner",BC=h.forwardRef((e,t)=>{const r=Ds(Ov,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(J7,{...e,ref:t}):null});BC.displayName=Ov;var J7=h.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Ds(Ov,r),[o,i]=h.useState(0),[l,c]=h.useState(0),u=!!(o&&l);return kl(a.scrollbarX,()=>{var m;const d=((m=a.scrollbarX)==null?void 0:m.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),kl(a.scrollbarY,()=>{var m;const d=((m=a.scrollbarY)==null?void 0:m.offsetWidth)||0;a.onCornerWidthChange(d),i(d)}),u?s.jsx(Kd.div,{...n,ref:t,style:{width:o,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function om(e){return e?parseInt(e,10):0}function VC(e,t){const r=e/t;return isNaN(r)?0:r}function ff(e){const t=VC(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Z7(e,t,r,n="ltr"){const a=ff(r),o=a/2,i=t||o,l=a-i,c=r.scrollbar.paddingStart+i,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,m=n==="ltr"?[0,d]:[d*-1,0];return WC([c,u],m)(e)}function Tb(e,t,r="ltr"){const n=ff(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-a,i=t.content-t.viewport,l=o-n,c=r==="ltr"?[0,i]:[i*-1,0],u=U7(e,c);return WC([0,i],[0,l])(u)}function WC(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function HC(e,t){return e>0&&e<t}var Q7=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const o={left:e.scrollLeft,top:e.scrollTop},i=r.left!==o.left,l=r.top!==o.top;(i||l)&&t(),r=o,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function pf(e,t){const r=Mo(e),n=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),h.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function kl(e,t){const r=Mo(t);bx(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var qC=OC,X7=LC,eU=BC;const Jd=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(qC,{ref:n,className:se("relative overflow-hidden",e),...r,children:[s.jsx(X7,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(YC,{}),s.jsx(eU,{})]}));Jd.displayName=qC.displayName;const YC=h.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(Rv,{ref:n,orientation:t,className:se("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(UC,{className:"relative flex-1 rounded-full bg-border"})}));YC.displayName=Rv.displayName;var jx=["Enter"," "],tU=["ArrowDown","PageUp","Home"],KC=["ArrowUp","PageDown","End"],rU=[...tU,...KC],sU={ltr:[...jx,"ArrowRight"],rtl:[...jx,"ArrowLeft"]},nU={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Zd="Menu",[yd,aU,oU]=Lm(Zd),[ii,GC]=Cs(Zd,[oU,mo,cf]),gf=mo(),JC=cf(),[iU,li]=ii(Zd),[lU,Qd]=ii(Zd),ZC=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:o,modal:i=!0}=e,l=gf(t),[c,u]=h.useState(null),d=h.useRef(!1),m=jr(o),f=Um(a);return h.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),s.jsx(qm,{...l,children:s.jsx(iU,{scope:t,open:r,onOpenChange:m,content:c,onContentChange:u,children:s.jsx(lU,{scope:t,onClose:h.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:d,dir:f,modal:i,children:n})})})};ZC.displayName=Zd;var cU="MenuAnchor",Iv=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=gf(r);return s.jsx(Rd,{...a,...n,ref:t})});Iv.displayName=cU;var Lv="MenuPortal",[dU,QC]=ii(Lv,{forceMount:void 0}),XC=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,o=li(Lv,t);return s.jsx(dU,{scope:t,forceMount:r,children:s.jsx(ts,{present:r||o.open,children:s.jsx(Rl,{asChild:!0,container:a,children:n})})})};XC.displayName=Lv;var Ns="MenuContent",[uU,Fv]=ii(Ns),eD=h.forwardRef((e,t)=>{const r=QC(Ns,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,o=li(Ns,e.__scopeMenu),i=Qd(Ns,e.__scopeMenu);return s.jsx(yd.Provider,{scope:e.__scopeMenu,children:s.jsx(ts,{present:n||o.open,children:s.jsx(yd.Slot,{scope:e.__scopeMenu,children:i.modal?s.jsx(hU,{...a,ref:t}):s.jsx(mU,{...a,ref:t})})})})}),hU=h.forwardRef((e,t)=>{const r=li(Ns,e.__scopeMenu),n=h.useRef(null),a=ut(t,n);return h.useEffect(()=>{const o=n.current;if(o)return Gm(o)},[]),s.jsx($v,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:_e(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),mU=h.forwardRef((e,t)=>{const r=li(Ns,e.__scopeMenu);return s.jsx($v,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),$v=h.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:m,onInteractOutside:f,onDismiss:p,disableOutsideScroll:v,...g}=e,b=li(Ns,r),y=Qd(Ns,r),x=gf(r),w=JC(r),j=aU(r),[k,A]=h.useState(null),C=h.useRef(null),T=ut(t,C,b.onContentChange),B=h.useRef(0),$=h.useRef(""),W=h.useRef(0),_=h.useRef(null),R=h.useRef("right"),O=h.useRef(0),ne=v?Ad:h.Fragment,P=v?{as:Nn,allowPinchZoom:!0}:void 0,H=M=>{var S,K;const F=$.current+M,G=j().filter(te=>!te.disabled),q=document.activeElement,de=(S=G.find(te=>te.ref.current===q))==null?void 0:S.textValue,z=G.map(te=>te.textValue),ee=kU(z,F,de),U=(K=G.find(te=>te.textValue===ee))==null?void 0:K.ref.current;(function te(Q){$.current=Q,window.clearTimeout(B.current),Q!==""&&(B.current=window.setTimeout(()=>te(""),1e3))})(F),U&&setTimeout(()=>U.focus())};h.useEffect(()=>()=>window.clearTimeout(B.current),[]),Bm();const L=h.useCallback(M=>{var G,q;return R.current===((G=_.current)==null?void 0:G.side)&&CU(M,(q=_.current)==null?void 0:q.area)},[]);return s.jsx(uU,{scope:r,searchRef:$,onItemEnter:h.useCallback(M=>{L(M)&&M.preventDefault()},[L]),onItemLeave:h.useCallback(M=>{var F;L(M)||((F=C.current)==null||F.focus(),A(null))},[L]),onTriggerLeave:h.useCallback(M=>{L(M)&&M.preventDefault()},[L]),pointerGraceTimerRef:W,onPointerGraceIntentChange:h.useCallback(M=>{_.current=M},[]),children:s.jsx(ne,{...P,children:s.jsx(Ed,{asChild:!0,trapped:a,onMountAutoFocus:_e(o,M=>{var F;M.preventDefault(),(F=C.current)==null||F.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:s.jsx(si,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:m,onInteractOutside:f,onDismiss:p,children:s.jsx(x2,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:k,onCurrentTabStopIdChange:A,onEntryFocus:_e(c,M=>{y.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Ym,{role:"menu","aria-orientation":"vertical","data-state":gD(b.open),"data-radix-menu-content":"",dir:y.dir,...x,...g,ref:T,style:{outline:"none",...g.style},onKeyDown:_e(g.onKeyDown,M=>{const G=M.target.closest("[data-radix-menu-content]")===M.currentTarget,q=M.ctrlKey||M.altKey||M.metaKey,de=M.key.length===1;G&&(M.key==="Tab"&&M.preventDefault(),!q&&de&&H(M.key));const z=C.current;if(M.target!==z||!rU.includes(M.key))return;M.preventDefault();const U=j().filter(S=>!S.disabled).map(S=>S.ref.current);KC.includes(M.key)&&U.reverse(),NU(U)}),onBlur:_e(e.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(B.current),$.current="")}),onPointerMove:_e(e.onPointerMove,wd(M=>{const F=M.target,G=O.current!==M.clientX;if(M.currentTarget.contains(F)&&G){const q=M.clientX>O.current?"right":"left";R.current=q,O.current=M.clientX}}))})})})})})})});eD.displayName=Ns;var fU="MenuGroup",zv=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Be.div,{role:"group",...n,ref:t})});zv.displayName=fU;var pU="MenuLabel",tD=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Be.div,{...n,ref:t})});tD.displayName=pU;var im="MenuItem",Eb="menu.itemSelect",xf=h.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,o=h.useRef(null),i=Qd(im,e.__scopeMenu),l=Fv(im,e.__scopeMenu),c=ut(t,o),u=h.useRef(!1),d=()=>{const m=o.current;if(!r&&m){const f=new CustomEvent(Eb,{bubbles:!0,cancelable:!0});m.addEventListener(Eb,p=>n==null?void 0:n(p),{once:!0}),A0(m,f),f.defaultPrevented?u.current=!1:i.onClose()}};return s.jsx(rD,{...a,ref:c,disabled:r,onClick:_e(e.onClick,d),onPointerDown:m=>{var f;(f=e.onPointerDown)==null||f.call(e,m),u.current=!0},onPointerUp:_e(e.onPointerUp,m=>{var f;u.current||(f=m.currentTarget)==null||f.click()}),onKeyDown:_e(e.onKeyDown,m=>{const f=l.searchRef.current!=="";r||f&&m.key===" "||jx.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});xf.displayName=im;var rD=h.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...o}=e,i=Fv(im,r),l=JC(r),c=h.useRef(null),u=ut(t,c),[d,m]=h.useState(!1),[f,p]=h.useState("");return h.useEffect(()=>{const v=c.current;v&&p((v.textContent??"").trim())},[o.children]),s.jsx(yd.ItemSlot,{scope:r,disabled:n,textValue:a??f,children:s.jsx(v2,{asChild:!0,...l,focusable:!n,children:s.jsx(Be.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:u,onPointerMove:_e(e.onPointerMove,wd(v=>{n?i.onItemLeave(v):(i.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:_e(e.onPointerLeave,wd(v=>i.onItemLeave(v))),onFocus:_e(e.onFocus,()=>m(!0)),onBlur:_e(e.onBlur,()=>m(!1))})})})}),gU="MenuCheckboxItem",sD=h.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(lD,{scope:e.__scopeMenu,checked:r,children:s.jsx(xf,{role:"menuitemcheckbox","aria-checked":lm(r)?"mixed":r,...a,ref:t,"data-state":Bv(r),onSelect:_e(a.onSelect,()=>n==null?void 0:n(lm(r)?!0:!r),{checkForDefaultPrevented:!1})})})});sD.displayName=gU;var nD="MenuRadioGroup",[xU,vU]=ii(nD,{value:void 0,onValueChange:()=>{}}),aD=h.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,o=jr(n);return s.jsx(xU,{scope:e.__scopeMenu,value:r,onValueChange:o,children:s.jsx(zv,{...a,ref:t})})});aD.displayName=nD;var oD="MenuRadioItem",iD=h.forwardRef((e,t)=>{const{value:r,...n}=e,a=vU(oD,e.__scopeMenu),o=r===a.value;return s.jsx(lD,{scope:e.__scopeMenu,checked:o,children:s.jsx(xf,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":Bv(o),onSelect:_e(n.onSelect,()=>{var i;return(i=a.onValueChange)==null?void 0:i.call(a,r)},{checkForDefaultPrevented:!1})})})});iD.displayName=oD;var Uv="MenuItemIndicator",[lD,yU]=ii(Uv,{checked:!1}),cD=h.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,o=yU(Uv,r);return s.jsx(ts,{present:n||lm(o.checked)||o.checked===!0,children:s.jsx(Be.span,{...a,ref:t,"data-state":Bv(o.checked)})})});cD.displayName=Uv;var wU="MenuSeparator",dD=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Be.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});dD.displayName=wU;var bU="MenuArrow",uD=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=gf(r);return s.jsx(Km,{...a,...n,ref:t})});uD.displayName=bU;var jU="MenuSub",[nV,hD]=ii(jU),fc="MenuSubTrigger",mD=h.forwardRef((e,t)=>{const r=li(fc,e.__scopeMenu),n=Qd(fc,e.__scopeMenu),a=hD(fc,e.__scopeMenu),o=Fv(fc,e.__scopeMenu),i=h.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},d=h.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return h.useEffect(()=>d,[d]),h.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),s.jsx(Iv,{asChild:!0,...u,children:s.jsx(rD,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":gD(r.open),...e,ref:Im(t,a.onTriggerChange),onClick:m=>{var f;(f=e.onClick)==null||f.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:_e(e.onPointerMove,wd(m=>{o.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:_e(e.onPointerLeave,wd(m=>{var p,v;d();const f=(p=r.content)==null?void 0:p.getBoundingClientRect();if(f){const g=(v=r.content)==null?void 0:v.dataset.side,b=g==="right",y=b?-5:5,x=f[b?"left":"right"],w=f[b?"right":"left"];o.onPointerGraceIntentChange({area:[{x:m.clientX+y,y:m.clientY},{x,y:f.top},{x:w,y:f.top},{x:w,y:f.bottom},{x,y:f.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(m),m.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:_e(e.onKeyDown,m=>{var p;const f=o.searchRef.current!=="";e.disabled||f&&m.key===" "||sU[n.dir].includes(m.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),m.preventDefault())})})})});mD.displayName=fc;var fD="MenuSubContent",pD=h.forwardRef((e,t)=>{const r=QC(Ns,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,o=li(Ns,e.__scopeMenu),i=Qd(Ns,e.__scopeMenu),l=hD(fD,e.__scopeMenu),c=h.useRef(null),u=ut(t,c);return s.jsx(yd.Provider,{scope:e.__scopeMenu,children:s.jsx(ts,{present:n||o.open,children:s.jsx(yd.Slot,{scope:e.__scopeMenu,children:s.jsx($v,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var m;i.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:_e(e.onFocusOutside,d=>{d.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:_e(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:_e(e.onKeyDown,d=>{var p;const m=d.currentTarget.contains(d.target),f=nU[i.dir].includes(d.key);m&&f&&(o.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});pD.displayName=fD;function gD(e){return e?"open":"closed"}function lm(e){return e==="indeterminate"}function Bv(e){return lm(e)?"indeterminate":e?"checked":"unchecked"}function NU(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function _U(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function kU(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=_U(e,Math.max(o,0));a.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function SU(e,t){const{x:r,y:n}=e;let a=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o].x,c=t[o].y,u=t[i].x,d=t[i].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(a=!a)}return a}function CU(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return SU(r,t)}function wd(e){return t=>t.pointerType==="mouse"?e(t):void 0}var DU=ZC,PU=Iv,TU=XC,EU=eD,MU=zv,RU=tD,AU=xf,OU=sD,IU=aD,LU=iD,FU=cD,$U=dD,zU=uD,UU=mD,BU=pD,Vv="DropdownMenu",[VU,aV]=Cs(Vv,[GC]),$r=GC(),[WU,xD]=VU(Vv),vD=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=$r(t),u=h.useRef(null),[d=!1,m]=Qs({prop:a,defaultProp:o,onChange:i});return s.jsx(WU,{scope:t,triggerId:js(),triggerRef:u,contentId:js(),open:d,onOpenChange:m,onOpenToggle:h.useCallback(()=>m(f=>!f),[m]),modal:l,children:s.jsx(DU,{...c,open:d,onOpenChange:m,dir:n,modal:l,children:r})})};vD.displayName=Vv;var yD="DropdownMenuTrigger",wD=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,o=xD(yD,r),i=$r(r);return s.jsx(PU,{asChild:!0,...i,children:s.jsx(Be.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Im(t,o.triggerRef),onPointerDown:_e(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:_e(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});wD.displayName=yD;var HU="DropdownMenuPortal",bD=e=>{const{__scopeDropdownMenu:t,...r}=e,n=$r(t);return s.jsx(TU,{...n,...r})};bD.displayName=HU;var jD="DropdownMenuContent",ND=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=xD(jD,r),o=$r(r),i=h.useRef(!1);return s.jsx(EU,{id:a.contentId,"aria-labelledby":a.triggerId,...o,...n,ref:t,onCloseAutoFocus:_e(e.onCloseAutoFocus,l=>{var c;i.current||(c=a.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:_e(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ND.displayName=jD;var qU="DropdownMenuGroup",YU=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=$r(r);return s.jsx(MU,{...a,...n,ref:t})});YU.displayName=qU;var KU="DropdownMenuLabel",_D=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=$r(r);return s.jsx(RU,{...a,...n,ref:t})});_D.displayName=KU;var GU="DropdownMenuItem",kD=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=$r(r);return s.jsx(AU,{...a,...n,ref:t})});kD.displayName=GU;var JU="DropdownMenuCheckboxItem",SD=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=$r(r);return s.jsx(OU,{...a,...n,ref:t})});SD.displayName=JU;var ZU="DropdownMenuRadioGroup",QU=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=$r(r);return s.jsx(IU,{...a,...n,ref:t})});QU.displayName=ZU;var XU="DropdownMenuRadioItem",CD=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=$r(r);return s.jsx(LU,{...a,...n,ref:t})});CD.displayName=XU;var eB="DropdownMenuItemIndicator",DD=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=$r(r);return s.jsx(FU,{...a,...n,ref:t})});DD.displayName=eB;var tB="DropdownMenuSeparator",PD=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=$r(r);return s.jsx($U,{...a,...n,ref:t})});PD.displayName=tB;var rB="DropdownMenuArrow",sB=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=$r(r);return s.jsx(zU,{...a,...n,ref:t})});sB.displayName=rB;var nB="DropdownMenuSubTrigger",TD=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=$r(r);return s.jsx(UU,{...a,...n,ref:t})});TD.displayName=nB;var aB="DropdownMenuSubContent",ED=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=$r(r);return s.jsx(BU,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ED.displayName=aB;var oB=vD,iB=wD,lB=bD,MD=ND,RD=_D,AD=kD,OD=SD,ID=CD,LD=DD,FD=PD,$D=TD,zD=ED;const vf=oB,yf=iB,cB=h.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs($D,{ref:a,className:se("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(pl,{className:"ml-auto h-4 w-4"})]}));cB.displayName=$D.displayName;const dB=h.forwardRef(({className:e,...t},r)=>s.jsx(zD,{ref:r,className:se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));dB.displayName=zD.displayName;const Xd=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(lB,{children:s.jsx(MD,{ref:n,sideOffset:t,className:se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Xd.displayName=MD.displayName;const bn=h.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(AD,{ref:n,className:se("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));bn.displayName=AD.displayName;const uB=h.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(OD,{ref:a,className:se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(LD,{children:s.jsx(Is,{className:"h-4 w-4"})})}),t]}));uB.displayName=OD.displayName;const hB=h.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(ID,{ref:n,className:se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(LD,{children:s.jsx(uO,{className:"h-2 w-2 fill-current"})})}),t]}));hB.displayName=ID.displayName;const UD=h.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(RD,{ref:n,className:se("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));UD.displayName=RD.displayName;const BD=h.forwardRef(({className:e,...t},r)=>s.jsx(FD,{ref:r,className:se("-mx-1 my-1 h-px bg-muted",e),...t}));BD.displayName=FD.displayName;const VD=({open:e,onOpenChange:t,journal:r,onJournalUpdated:n})=>{const{projects:a,tasks:o,updateWorkJournal:i}=yt(),[l,c]=h.useState(!1),[u,d]=h.useState({content:"",status:"not-started"});if(h.useEffect(()=>{r&&d({content:r.content,status:r.status})},[r]),!r)return null;const m=a.find(j=>j.id===r.project_id),f=o.find(j=>j.id===r.task_id),p=(m==null?void 0:m.name)||"알 수 없는 프로젝트",v=(f==null?void 0:f.title)||"알 수 없는 업무",g=j=>{switch(j){case"not-started":return"시작전";case"in-progress":return"진행중";case"delayed":return"지연";case"completed":return"완료";default:return j}},b=j=>{switch(j){case"not-started":return yr;case"in-progress":return wr;case"delayed":return rr;case"completed":return Ks;default:return yr}},y=async j=>{if(j.preventDefault(),!u.content.trim()){$s.error("일지 내용을 입력해주세요");return}c(!0);try{await i(r.id,{content:u.content.trim(),status:u.status}),$s.success("업무 일지가 수정되었습니다"),t(!1),n==null||n()}catch(k){console.error("업무 일지 수정 실패:",k),$s.error("업무 일지 수정에 실패했습니다")}finally{c(!1)}},x=()=>{r&&d({content:r.content,status:r.status}),t(!1)},w=b(u.status);return s.jsx(kt,{open:e,onOpenChange:t,children:s.jsxs(bt,{className:"max-w-3xl max-h-[90vh] overflow-hidden",children:[s.jsx(jt,{className:"pb-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-indigo-500 to-purple-500",children:s.jsx(Ka,{className:"h-5 w-5 text-white"})}),s.jsx(Nt,{className:"text-2xl",children:"업무 일지 수정"})]})}),s.jsx(Jd,{className:"flex-1 pr-4",children:s.jsxs("form",{onSubmit:y,className:"space-y-6",children:[s.jsx(Pe,{children:s.jsxs(Ee,{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Et,{className:"h-5 w-5 text-primary"}),"업무 정보"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"프로젝트"}),s.jsx("div",{className:"mt-1",children:s.jsxs(Le,{variant:"outline",className:"text-sm",children:[s.jsx(Ys,{className:"h-3 w-3 mr-1"}),p]})})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-medium text-muted-foreground",children:"업무명"}),s.jsx("p",{className:"text-lg font-medium mt-1",children:v})]})]})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ue,{htmlFor:"status",className:"text-sm font-medium",children:["상태 ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs(Oe,{value:u.status,onValueChange:j=>d(k=>({...k,status:j})),children:[s.jsx(Re,{className:"w-full",children:s.jsx(Ie,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(w,{className:"h-4 w-4"}),g(u.status)]})})}),s.jsx(Ae,{children:[{value:"not-started",label:"시작전",icon:yr},{value:"in-progress",label:"진행중",icon:wr},{value:"delayed",label:"지연",icon:rr},{value:"completed",label:"완료",icon:Ks}].map(j=>{const k=j.icon;return s.jsx(ce,{value:j.value,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(k,{className:"h-4 w-4"}),j.label]})},j.value)})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ue,{htmlFor:"content",className:"text-sm font-medium",children:["일지 내용 ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(na,{id:"content",placeholder:"오늘 수행한 업무 내용을 상세히 작성해주세요...",value:u.content,onChange:j=>d(k=>({...k,content:j.target.value})),className:"min-h-[200px] resize-none",required:!0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[u.content.length,"/1000자"]})]})]})}),s.jsxs($t,{className:"pt-4",children:[s.jsxs(X,{type:"button",variant:"outline",onClick:x,disabled:l,children:[s.jsx(It,{className:"h-4 w-4 mr-2"}),"취소"]}),s.jsx(X,{type:"submit",onClick:y,disabled:l||!u.content.trim(),className:"bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600",children:l?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"h-4 w-4 mr-2 animate-spin"}),"수정 중..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Lh,{className:"h-4 w-4 mr-2"}),"수정 완료"]})})]})]})})},mB=({open:e,onOpenChange:t,journal:r,onJournalUpdated:n})=>{const{projects:a,tasks:o,users:i,deleteWorkJournal:l}=yt(),{userProfile:c}=Ul(),[u,d]=h.useState(!1),[m,f]=h.useState(!1),[p,v]=h.useState(!1);if(!r)return null;const g=a.find(W=>W.id===r.project_id),b=o.find(W=>W.id===r.task_id),y=i.find(W=>W.id===r.author_id),x=(g==null?void 0:g.name)||"알 수 없는 프로젝트",w=(b==null?void 0:b.title)||"알 수 없는 업무",j=(y==null?void 0:y.name)||r.author_name||"알 수 없는 사용자",k=(c==null?void 0:c.id)===r.author_id,A=W=>{switch(W){case"not-started":return"시작전";case"in-progress":return"진행중";case"delayed":return"지연";case"completed":return"완료";default:return W}},C=W=>{switch(W){case"not-started":return yr;case"in-progress":return wr;case"delayed":return rr;case"completed":return Ks;default:return yr}},T=W=>{switch(W){case"not-started":return"text-gray-600 bg-gray-100 dark:bg-gray-800";case"in-progress":return"text-blue-600 bg-blue-100 dark:bg-blue-900/30";case"delayed":return"text-red-600 bg-red-100 dark:bg-red-900/30";case"completed":return"text-green-600 bg-green-100 dark:bg-green-900/30";default:return"text-gray-600 bg-gray-100 dark:bg-gray-800"}},B=async()=>{if(r){f(!0);try{await l(r.id),$s.success("업무 일지가 삭제되었습니다"),t(!1),n==null||n()}catch(W){console.error("업무 일지 삭제 실패:",W),$s.error("업무 일지 삭제에 실패했습니다")}finally{f(!1),d(!1)}}},$=C(r.status);return s.jsxs(s.Fragment,{children:[s.jsx(kt,{open:e,onOpenChange:t,children:s.jsxs(bt,{className:"max-w-4xl max-h-[90vh] overflow-hidden",children:[s.jsx(jt,{className:"pb-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-indigo-500 to-purple-500",children:s.jsx(Ka,{className:"h-5 w-5 text-white"})}),s.jsx(Nt,{className:"text-2xl",children:"업무 일지 상세정보"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Le,{variant:"outline",className:"text-sm",children:[s.jsx(Ys,{className:"h-3 w-3 mr-1"}),x]}),s.jsxs(Le,{className:`flex items-center gap-1 ${T(r.status)}`,children:[s.jsx($,{className:"h-3 w-3"}),A(r.status)]})]})]}),k&&s.jsxs(vf,{children:[s.jsx(yf,{asChild:!0,children:s.jsx(X,{variant:"ghost",size:"icon",className:"h-8 w-8",children:s.jsx(y_,{className:"h-4 w-4"})})}),s.jsxs(Xd,{align:"end",children:[s.jsxs(bn,{onClick:()=>v(!0),children:[s.jsx(ho,{className:"h-4 w-4 mr-2"}),"수정"]}),s.jsxs(bn,{className:"text-red-600",onClick:()=>d(!0),children:[s.jsx(Bn,{className:"h-4 w-4 mr-2"}),"삭제"]})]})]})]})}),s.jsx(Jd,{className:"flex-1 pr-4",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Pe,{children:s.jsxs(Ee,{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Et,{className:"h-5 w-5 text-primary"}),"업무 정보"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"업무명"}),s.jsx("p",{className:"text-lg font-medium mt-1",children:w})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"프로젝트"}),s.jsx("p",{className:"mt-1",children:x})]})]})]})}),s.jsx(Pe,{children:s.jsxs(Ee,{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Ka,{className:"h-5 w-5 text-primary"}),"일지 내용"]}),s.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg",children:s.jsx("p",{className:"whitespace-pre-wrap text-slate-700 dark:text-slate-300 leading-relaxed",children:r.content})})]})}),s.jsx(Pe,{children:s.jsxs(Ee,{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(nr,{className:"h-5 w-5 text-primary"}),"작성 정보"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/30",children:s.jsx(nr,{className:"h-4 w-4 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"작성자"}),s.jsx("p",{className:"font-medium",children:j})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-purple-100 dark:bg-purple-900/30",children:s.jsx(sr,{className:"h-4 w-4 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"작성일시"}),s.jsx("p",{className:"font-medium",children:Ke(new Date(r.created_at),"yyyy-MM-dd HH:mm")})]})]}),r.updated_at&&r.updated_at!==r.created_at&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-orange-100 dark:bg-orange-900/30",children:s.jsx(yr,{className:"h-4 w-4 text-orange-600"})}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"수정일시"}),s.jsx("p",{className:"font-medium",children:Ke(new Date(r.updated_at),"yyyy-MM-dd HH:mm")})]})]})]})]})}),r.files&&r.files.length>0&&s.jsx(Pe,{children:s.jsxs(Ee,{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Xc,{className:"h-5 w-5 text-primary"}),"첨부파일 (",r.files.length,"개)"]}),s.jsx("div",{className:"space-y-2",children:r.files.map((W,_)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Xc,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:W.name||`파일 ${_+1}`})]}),s.jsx(X,{variant:"ghost",size:"sm",children:s.jsx(gl,{className:"h-4 w-4"})})]},_))})]})}),r.collaborators&&r.collaborators.length>0&&s.jsx(Pe,{children:s.jsxs(Ee,{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(us,{className:"h-5 w-5 text-primary"}),"협업자 (",r.collaborators.length,"명)"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.collaborators.map((W,_)=>{const R=i.find(O=>O.id===W);return s.jsxs(Le,{variant:"outline",className:"flex items-center gap-1",children:[s.jsx(nr,{className:"h-3 w-3"}),(R==null?void 0:R.name)||`협업자 ${_+1}`]},_)})})]})})]})})]})}),s.jsx(vo,{open:u,onOpenChange:d,children:s.jsxs(oa,{children:[s.jsxs(ia,{children:[s.jsx(ca,{children:"업무 일지 삭제"}),s.jsx(da,{children:"이 업무 일지를 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다."})]}),s.jsxs(la,{children:[s.jsx(ha,{children:"취소"}),s.jsx(ua,{onClick:B,disabled:m,className:"bg-red-600 hover:bg-red-700",children:m?s.jsxs(s.Fragment,{children:[s.jsx(wr,{className:"h-4 w-4 mr-2 animate-spin"}),"삭제 중..."]}):"삭제"})]})]})}),s.jsx(VD,{open:p,onOpenChange:v,journal:r,onJournalUpdated:n})]})},Mb=()=>{const{users:e,projects:t,tasks:r,currentUser:n,workJournals:a,createWorkJournal:o}=yt(),{translations:i}=Yt(),l=i.tasks,[c,u]=h.useState(""),[d,m]=h.useState(!1),[f,p]=h.useState("all"),[v,g]=h.useState(null),[b,y]=h.useState(!1),[x,w]=h.useState(0),[j,k]=h.useState(!1),A=async P=>{try{await o(P)}catch(H){console.error("업무 일지 생성 실패:",H)}},C=P=>{g(P),y(!0)},T=P=>{g(P),k(!0)},B=()=>{if(w(P=>P+1),v){const P=a.find(H=>H.id===v.id);P?g(P):(g(null),y(!1))}},$=a.filter(P=>{const H=t.find(de=>de.id===P.project_id),L=r.find(de=>de.id===P.task_id),M=(H==null?void 0:H.name)||"",F=(L==null?void 0:L.title)||"",G=M.toLowerCase().includes(c.toLowerCase())||F.toLowerCase().includes(c.toLowerCase())||P.content.toLowerCase().includes(c.toLowerCase())||P.author_name.toLowerCase().includes(c.toLowerCase()),q=f==="all"||P.status===f;return G&&q}),W=P=>{switch(P){case"not-started":return"시작전";case"in-progress":return"진행중";case"delayed":return"지연";case"completed":return"완료";default:return P}},_=P=>{switch(P){case"not-started":return yr;case"in-progress":return wr;case"delayed":return rr;case"completed":return Ks;default:return yr}},R=P=>{switch(P){case"not-started":return"bg-gray-500";case"in-progress":return"bg-blue-500";case"delayed":return"bg-red-500";case"completed":return"bg-green-500";default:return"bg-gray-500"}},O=P=>{switch(P){case"not-started":return"secondary";case"in-progress":return"default";case"delayed":return"destructive";case"completed":return"default";default:return"secondary"}},ne=[{title:"전체 일지",count:a.length,icon:Ka,color:"bg-gradient-to-br from-blue-500 to-purple-500",iconColor:"text-blue-600",bgColor:"bg-blue-50 dark:bg-blue-900/20"},{title:"진행중",count:a.filter(P=>P.status==="in-progress").length,icon:wr,color:"bg-gradient-to-br from-yellow-500 to-orange-500",iconColor:"text-yellow-600",bgColor:"bg-yellow-50 dark:bg-yellow-900/20"},{title:"완료",count:a.filter(P=>P.status==="completed").length,icon:Ks,color:"bg-gradient-to-br from-green-500 to-emerald-500",iconColor:"text-green-600",bgColor:"bg-green-50 dark:bg-green-900/20"},{title:"지연",count:a.filter(P=>P.status==="delayed").length,icon:rr,color:"bg-gradient-to-br from-red-500 to-pink-500",iconColor:"text-red-600",bgColor:"bg-red-50 dark:bg-red-900/20"}];return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-blue-50 dark:from-slate-950 dark:via-slate-900 dark:to-slate-800",children:s.jsxs("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-r from-indigo-500 to-purple-500",children:s.jsx(Ka,{className:"h-6 w-6 text-white"})}),(l==null?void 0:l.taskJournalList)||"업무 일지 목록"]}),s.jsx("p",{className:"text-muted-foreground",children:(l==null?void 0:l.taskJournalDescription)||"등록된 업무에 대한 일지를 작성하고 관리하세요"})]}),s.jsxs(X,{onClick:()=>m(!0),size:"lg",className:"bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white shadow-lg",children:[s.jsx(Aw,{className:"h-5 w-5 mr-2"}),(l==null?void 0:l.createJournal)||"업무 일지 작성"]})]})}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:ne.map((P,H)=>s.jsxs(Pe,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden group",children:[s.jsx("div",{className:se("h-1",P.color)}),s.jsx(Ee,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:P.title}),s.jsx("p",{className:"text-3xl font-bold mt-1",children:P.count})]}),s.jsx("div",{className:se("p-3 rounded-full",P.bgColor,"group-hover:scale-110 transition-transform"),children:s.jsx(P.icon,{className:se("h-6 w-6",P.iconColor)})})]})})]},H))}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(Ga,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(fe,{placeholder:(l==null?void 0:l.searchPlaceholder)||"프로젝트, 업무, 내용, 작성자 검색...",value:c,onChange:P=>u(P.target.value),className:"pl-10 bg-white dark:bg-slate-800 border-0 shadow-md"}),s.jsx(Xs,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-purple-500"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(z0,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("div",{className:"flex gap-2",children:["all","in-progress","completed","delayed","not-started"].map(P=>s.jsx(X,{variant:f===P?"default":"outline",size:"sm",onClick:()=>p(P),className:se(f===P&&"bg-gradient-to-r from-indigo-500 to-purple-500 text-white border-0"),children:P==="all"?"전체":W(P)},P))})]})]}),s.jsx("div",{className:"space-y-4",children:$.length>0?$.map(P=>{const H=t.find(q=>q.id===P.project_id),L=r.find(q=>q.id===P.task_id),M=(H==null?void 0:H.name)||"",F=(L==null?void 0:L.title)||"",G=_(P.status);return s.jsxs(Pe,{className:"border-0 shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden group",children:[s.jsx("div",{className:se("h-1",R(P.status))}),s.jsx(ft,{className:"pb-3",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Le,{variant:"outline",className:"text-xs",children:[s.jsx(Ys,{className:"h-3 w-3 mr-1"}),M]}),s.jsxs(Le,{variant:O(P.status),className:"flex items-center gap-1",children:[s.jsx(G,{className:"h-3 w-3"}),W(P.status)]})]}),s.jsx(pt,{className:"text-xl group-hover:text-primary transition-colors",children:F})]}),s.jsxs(vf,{children:[s.jsx(yf,{asChild:!0,children:s.jsx(X,{variant:"ghost",size:"icon",className:"h-8 w-8",children:s.jsx(y_,{className:"h-4 w-4"})})}),s.jsxs(Xd,{align:"end",children:[s.jsxs(bn,{onClick:()=>C(P),children:[s.jsx(uo,{className:"h-4 w-4 mr-2"}),"상세보기"]}),s.jsxs(bn,{onClick:()=>T(P),children:[s.jsx(ho,{className:"h-4 w-4 mr-2"}),"수정"]}),s.jsxs(bn,{className:"text-red-600",children:[s.jsx(Bn,{className:"h-4 w-4 mr-2"}),"삭제"]})]})]})]})}),s.jsx(Ee,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg",children:s.jsx("p",{className:"text-sm whitespace-pre-wrap line-clamp-3 text-slate-700 dark:text-slate-300",children:P.content})}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx("div",{className:"p-1.5 rounded-md bg-blue-100 dark:bg-blue-900/30",children:s.jsx(nr,{className:"h-3 w-3 text-blue-600"})}),s.jsx("span",{children:P.author_name})]}),s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx("div",{className:"p-1.5 rounded-md bg-purple-100 dark:bg-purple-900/30",children:s.jsx(sr,{className:"h-3 w-3 text-purple-600"})}),s.jsx("span",{children:Ke(new Date(P.created_at),"yyyy-MM-dd HH:mm")})]}),P.files&&P.files.length>0&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx("div",{className:"p-1.5 rounded-md bg-green-100 dark:bg-green-900/30",children:s.jsx(Xc,{className:"h-3 w-3 text-green-600"})}),s.jsxs("span",{children:["파일 ",P.files.length,"개"]})]}),P.collaborators&&P.collaborators.length>0&&s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx("div",{className:"p-1.5 rounded-md bg-orange-100 dark:bg-orange-900/30",children:s.jsx(us,{className:"h-3 w-3 text-orange-600"})}),s.jsxs("span",{children:["협업자 ",P.collaborators.length,"명"]})]})]})]})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"})]},P.id)}):s.jsx(Pe,{className:"border-0 shadow-xl",children:s.jsxs(Ee,{className:"p-16 text-center",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Et,{className:"h-20 w-20 mx-auto text-muted-foreground/20 mb-6"}),s.jsx("div",{className:"absolute inset-0 blur-3xl opacity-30 bg-gradient-to-r from-indigo-500 to-purple-500 pointer-events-none"})]}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:c?"검색 결과가 없습니다":"등록된 업무 일지가 없습니다"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:c?"다른 검색어로 다시 시도해보세요":"첫 번째 업무 일지를 작성해보세요"}),!c&&s.jsxs(X,{onClick:()=>m(!0),size:"lg",className:"bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white shadow-lg",children:[s.jsx(Aw,{className:"h-5 w-5 mr-2"}),(l==null?void 0:l.createJournal)||"업무 일지 작성하기"]})]})})}),s.jsx(S7,{open:d,onOpenChange:m,onCreate:A}),s.jsx(mB,{open:b,onOpenChange:y,journal:v,onJournalUpdated:B}),s.jsx(VD,{open:j,onOpenChange:k,journal:v,onJournalUpdated:B})]})})},fB=()=>{var w,j,k,A,C,T,B,$,W,_,R,O,ne,P,H,L;const{clients:e,addClient:t,updateClient:r}=yt(),[n,a]=h.useState(!1),[o,i]=h.useState(!1),[l,c]=h.useState(""),[u,d]=h.useState(null),[m,f]=h.useState({name:"",company:"",email:"",phone:"",salesRepName:"",flag:"",remark:""}),{toast:p}=Pr(),{translations:v}=Yt(),g=v,b=e.filter(M=>M.name.toLowerCase().includes(l.toLowerCase())||M.salesRepName&&M.salesRepName.toLowerCase().includes(l.toLowerCase())),y=()=>{var F,G;const M={id:Ev(),name:m.name||"",company:m.company||"",email:m.email||"",phone:m.phone||"",salesRepName:m.salesRepName||"",flag:m.flag||"",remark:m.remark||"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};t(M),f({name:"",company:"",email:"",phone:"",salesRepName:"",flag:"",remark:""}),a(!1),p({title:((F=g==null?void 0:g.clients)==null?void 0:F.clientAddSuccess)||"고객 추가 성공",description:`${M.name} ${((G=g==null?void 0:g.clients)==null?void 0:G.clientAddedDescription)||"고객이 추가되었습니다."}`})},x=()=>{var M,F;if(u){const G={...u,name:u.name,company:u.company||"",email:u.email||"",phone:u.phone||"",salesRepName:u.salesRepName,flag:u.flag,remark:u.remark,updatedAt:new Date().toISOString()};r(G),i(!1),p({title:((M=g==null?void 0:g.clients)==null?void 0:M.clientUpdateSuccess)||"고객 정보 업데이트 성공",description:`${G.name} ${((F=g==null?void 0:g.clients)==null?void 0:F.clientUpdatedDescription)||"고객 정보가 업데이트되었습니다."}`})}};return s.jsxs("div",{className:"container mx-auto p-4 sm:p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold",children:((w=g==null?void 0:g.clients)==null?void 0:w.clientDB)||"고객 DB"}),s.jsx(X,{onClick:()=>a(!0),children:((j=g==null?void 0:g.clients)==null?void 0:j.addClient)||"고객 추가"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow mb-6",children:[s.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold",children:((k=g==null?void 0:g.clients)==null?void 0:k.clientList)||"고객 목록"}),s.jsxs("div",{className:"relative w-64",children:[s.jsx(Ga,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(fe,{placeholder:((A=g==null?void 0:g.clients)==null?void 0:A.searchClientOrRep)||"고객명 또는 담당자 검색",className:"pl-10",value:l,onChange:M=>c(M.target.value)})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(pr,{children:[s.jsx(gr,{children:s.jsxs(ot,{children:[s.jsx(we,{children:((C=g==null?void 0:g.clients)==null?void 0:C.name)||"고객명"}),s.jsx(we,{children:((T=g==null?void 0:g.clients)==null?void 0:T.salesRep)||"영업담당자(PIC)"}),s.jsx(we,{children:"Flag"}),s.jsx(we,{children:"Remark"}),s.jsx(we,{children:((B=g==null?void 0:g.global)==null?void 0:B.actions)||"Actions"})]})}),s.jsxs(xr,{children:[b.map(M=>{var F;return s.jsxs(ot,{children:[s.jsx(ge,{className:"font-medium",children:M.name}),s.jsx(ge,{children:M.salesRepName}),s.jsx(ge,{children:M.flag}),s.jsx(ge,{children:M.remark}),s.jsx(ge,{children:s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>{d(M),i(!0)},children:((F=g==null?void 0:g.global)==null?void 0:F.edit)||"Edit"})})]},M.id)}),b.length===0&&s.jsx(ot,{children:s.jsx(ge,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:(($=g==null?void 0:g.clients)==null?void 0:$.noCustomersFound)||"No customers found. Add your first customer!"})})]})]})})]}),s.jsx(kt,{open:n,onOpenChange:a,children:s.jsxs(bt,{className:"sm:max-w-[500px]",children:[s.jsx(jt,{children:s.jsx(Nt,{children:((W=g==null?void 0:g.clients)==null?void 0:W.addNewClient)||"신규 고객 추가"})}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(ue,{htmlFor:"name",className:"text-right",children:((_=g==null?void 0:g.clients)==null?void 0:_.name)||"고객명"}),s.jsx(fe,{id:"name",value:m.name,onChange:M=>f({...m,name:M.target.value}),className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(ue,{htmlFor:"salesRepName",className:"text-right",children:((R=g==null?void 0:g.clients)==null?void 0:R.salesRep)||"영업담당자"}),s.jsx(fe,{id:"salesRepName",value:m.salesRepName,onChange:M=>f({...m,salesRepName:M.target.value}),className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(ue,{htmlFor:"flag",className:"text-right",children:"Flag"}),s.jsx(fe,{id:"flag",value:m.flag,onChange:M=>f({...m,flag:M.target.value}),className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(ue,{htmlFor:"remark",className:"text-right",children:"Remark"}),s.jsx(fe,{id:"remark",value:m.remark,onChange:M=>f({...m,remark:M.target.value}),className:"col-span-3"})]})]}),s.jsx($t,{children:s.jsx(X,{type:"submit",onClick:y,children:((O=g==null?void 0:g.global)==null?void 0:O.save)||"저장"})})]})}),s.jsx(kt,{open:o,onOpenChange:i,children:s.jsxs(bt,{className:"sm:max-w-[500px]",children:[s.jsx(jt,{children:s.jsx(Nt,{children:((ne=g==null?void 0:g.clients)==null?void 0:ne.editClientInfo)||"고객 정보 수정"})}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(ue,{htmlFor:"edit-name",className:"text-right",children:((P=g==null?void 0:g.clients)==null?void 0:P.name)||"고객명"}),s.jsx(fe,{id:"edit-name",value:(u==null?void 0:u.name)||"",onChange:M=>u&&d({...u,name:M.target.value}),className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(ue,{htmlFor:"edit-salesRepName",className:"text-right",children:((H=g==null?void 0:g.clients)==null?void 0:H.salesRep)||"영업담당자"}),s.jsx(fe,{id:"edit-salesRepName",value:(u==null?void 0:u.salesRepName)||"",onChange:M=>u&&d({...u,salesRepName:M.target.value}),className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(ue,{htmlFor:"edit-flag",className:"text-right",children:"Flag"}),s.jsx(fe,{id:"edit-flag",value:(u==null?void 0:u.flag)||"",onChange:M=>u&&d({...u,flag:M.target.value}),className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(ue,{htmlFor:"edit-remark",className:"text-right",children:"Remark"}),s.jsx(fe,{id:"edit-remark",value:(u==null?void 0:u.remark)||"",onChange:M=>u&&d({...u,remark:M.target.value}),className:"col-span-3"})]})]}),s.jsx($t,{children:s.jsx(X,{type:"submit",onClick:x,children:((L=g==null?void 0:g.global)==null?void 0:L.update)||"업데이트"})})]})})]})},pB=()=>{const[e,t]=h.useState([]);return{contacts:e,addContact:a=>{t(o=>[...o,a])},updateContact:a=>{t(o=>o.map(i=>i.id===a.id?a:i))}}},gB=()=>{const{clients:e}=yt(),{contacts:t,addContact:r,updateContact:n}=pB(),[a,o]=h.useState(!1),[i,l]=h.useState(!1),[c,u]=h.useState(""),[d,m]=h.useState(null),[f,p]=h.useState({name:"",division:"Coilmaster",department:"",position:"",email:"",phone:"",remark:""}),{toast:v}=Pr(),g=t.filter(x=>x.name.toLowerCase().includes(c.toLowerCase())||x.customerName&&x.customerName.toLowerCase().includes(c.toLowerCase())||x.email&&x.email.toLowerCase().includes(c.toLowerCase()));h.useEffect(()=>{if(f.customerId){const x=e.find(w=>w.id===f.customerId);x&&x.salesRepName&&p(w=>({...w,customerName:x.name}))}},[f.customerId,e]);const b=()=>{const x={id:Ev(),name:f.name||"",division:f.division||"Coilmaster",customerId:f.customerId,customerName:f.customerName,department:f.department||"",position:f.position||"",email:f.email||"",phone:f.phone||"",remark:f.remark||"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};r(x),p({name:"",division:"Coilmaster",department:"",position:"",email:"",phone:"",remark:""}),o(!1),v({title:"연락처 추가 성공",description:`${x.name} 연락처가 추가되었습니다.`})},y=()=>{if(d){const x={...d,name:d.name,division:d.division,customerId:d.customerId,customerName:d.customerName,department:d.department,position:d.position,email:d.email,phone:d.phone,remark:d.remark,updatedAt:new Date().toISOString()};n(x),l(!1),v({title:"연락처 정보 업데이트 성공",description:`${x.name} 연락처 정보가 업데이트되었습니다.`})}};return s.jsxs("div",{className:"container mx-auto p-4 sm:p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Contact DB"}),s.jsx(X,{onClick:()=>o(!0),children:"연락처 추가"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow mb-6",children:[s.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"연락처 목록"}),s.jsxs("div",{className:"relative w-64",children:[s.jsx(Ga,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(fe,{placeholder:"이름, 회사, 이메일 검색",className:"pl-10",value:c,onChange:x=>u(x.target.value)})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(pr,{children:[s.jsx(gr,{children:s.jsxs(ot,{children:[s.jsx(we,{children:"Name"}),s.jsx(we,{children:"Division"}),s.jsx(we,{children:"Customer"}),s.jsx(we,{children:"Department"}),s.jsx(we,{children:"Position"}),s.jsx(we,{children:"Email"}),s.jsx(we,{children:"Phone"}),s.jsx(we,{children:"Actions"})]})}),s.jsxs(xr,{children:[g.map(x=>s.jsxs(ot,{children:[s.jsx(ge,{className:"font-medium",children:x.name}),s.jsx(ge,{children:x.division}),s.jsx(ge,{children:x.customerName}),s.jsx(ge,{children:x.department}),s.jsx(ge,{children:x.position}),s.jsx(ge,{children:x.email}),s.jsx(ge,{children:x.phone}),s.jsx(ge,{children:s.jsx(X,{variant:"ghost",size:"sm",onClick:()=>{m(x),l(!0)},children:"Edit"})})]},x.id)),g.length===0&&s.jsx(ot,{children:s.jsx(ge,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"No contacts found. Add your first contact!"})})]})]})})]}),s.jsx(kt,{open:a,onOpenChange:o,children:s.jsxs(bt,{className:"sm:max-w-[600px]",children:[s.jsx(jt,{children:s.jsx(Nt,{children:"신규 연락처 추가"})}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(ue,{htmlFor:"name",className:"text-right",children:"이름"}),s.jsx(fe,{id:"name",value:f.name,onChange:x=>p({...f,name:x.target.value}),className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(ue,{htmlFor:"division",className:"text-right",children:"Division"}),s.jsxs(Oe,{value:f.division,onValueChange:x=>p({...f,division:x}),children:[s.jsx(Re,{className:"col-span-3",children:s.jsx(Ie,{placeholder:"Select division"})}),s.jsxs(Ae,{children:[s.jsx(ce,{value:"Coilmaster",children:"Coilmaster"}),s.jsx(ce,{value:"Supplier",children:"Supplier"}),s.jsx(ce,{value:"Customers",children:"Customers"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(ue,{htmlFor:"customer",className:"text-right",children:"Customer"}),s.jsxs(Oe,{value:f.customerId,onValueChange:x=>{const w=e.find(j=>j.id===x);p({...f,customerId:x,customerName:w==null?void 0:w.name})},children:[s.jsx(Re,{className:"col-span-3",children:s.jsx(Ie,{placeholder:"Select customer"})}),s.jsx(Ae,{children:e.map(x=>s.jsx(ce,{value:x.id,children:x.name},x.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(ue,{htmlFor:"department",className:"text-right",children:"Department"}),s.jsx(fe,{id:"department",value:f.department,onChange:x=>p({...f,department:x.target.value}),className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(ue,{htmlFor:"position",className:"text-right",children:"Position"}),s.jsx(fe,{id:"position",value:f.position,onChange:x=>p({...f,position:x.target.value}),className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(ue,{htmlFor:"email",className:"text-right",children:"Email"}),s.jsx(fe,{id:"email",type:"email",value:f.email,onChange:x=>p({...f,email:x.target.value}),className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(ue,{htmlFor:"phone",className:"text-right",children:"Phone"}),s.jsx(fe,{id:"phone",value:f.phone,onChange:x=>p({...f,phone:x.target.value}),className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(ue,{htmlFor:"remark",className:"text-right",children:"Remark"}),s.jsx(fe,{id:"remark",value:f.remark,onChange:x=>p({...f,remark:x.target.value}),className:"col-span-3"})]})]}),s.jsx($t,{children:s.jsx(X,{type:"submit",onClick:b,children:"저장"})})]})}),s.jsx(kt,{open:i,onOpenChange:l,children:s.jsxs(bt,{className:"sm:max-w-[600px]",children:[s.jsx(jt,{children:s.jsx(Nt,{children:"연락처 정보 수정"})}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(ue,{htmlFor:"edit-name",className:"text-right",children:"이름"}),s.jsx(fe,{id:"edit-name",value:(d==null?void 0:d.name)||"",onChange:x=>d&&m({...d,name:x.target.value}),className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(ue,{htmlFor:"edit-division",className:"text-right",children:"Division"}),s.jsxs(Oe,{value:d==null?void 0:d.division,onValueChange:x=>d&&m({...d,division:x}),children:[s.jsx(Re,{className:"col-span-3",children:s.jsx(Ie,{placeholder:"Select division"})}),s.jsxs(Ae,{children:[s.jsx(ce,{value:"Coilmaster",children:"Coilmaster"}),s.jsx(ce,{value:"Supplier",children:"Supplier"}),s.jsx(ce,{value:"Customers",children:"Customers"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(ue,{htmlFor:"edit-customer",className:"text-right",children:"Customer"}),s.jsxs(Oe,{value:d==null?void 0:d.customerId,onValueChange:x=>{if(d){const w=e.find(j=>j.id===x);m({...d,customerId:x,customerName:w==null?void 0:w.name})}},children:[s.jsx(Re,{className:"col-span-3",children:s.jsx(Ie,{placeholder:"Select customer"})}),s.jsx(Ae,{children:e.map(x=>s.jsx(ce,{value:x.id,children:x.name},x.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(ue,{htmlFor:"edit-department",className:"text-right",children:"Department"}),s.jsx(fe,{id:"edit-department",value:(d==null?void 0:d.department)||"",onChange:x=>d&&m({...d,department:x.target.value}),className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(ue,{htmlFor:"edit-position",className:"text-right",children:"Position"}),s.jsx(fe,{id:"edit-position",value:(d==null?void 0:d.position)||"",onChange:x=>d&&m({...d,position:x.target.value}),className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(ue,{htmlFor:"edit-email",className:"text-right",children:"Email"}),s.jsx(fe,{id:"edit-email",type:"email",value:(d==null?void 0:d.email)||"",onChange:x=>d&&m({...d,email:x.target.value}),className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(ue,{htmlFor:"edit-phone",className:"text-right",children:"Phone"}),s.jsx(fe,{id:"edit-phone",value:(d==null?void 0:d.phone)||"",onChange:x=>d&&m({...d,phone:x.target.value}),className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(ue,{htmlFor:"edit-remark",className:"text-right",children:"Remark"}),s.jsx(fe,{id:"edit-remark",value:(d==null?void 0:d.remark)||"",onChange:x=>d&&m({...d,remark:x.target.value}),className:"col-span-3"})]})]}),s.jsx($t,{children:s.jsx(X,{type:"submit",onClick:y,children:"업데이트"})})]})})]})},xB=({initialLogs:e,initialNotifications:t,setNotifications:r})=>{const[n,a]=h.useState(e),[o,i]=h.useState(t);h.useEffect(()=>{i(t)},[t]);const l=m=>{a(f=>[m,...f])},c=(m,f="system",p="")=>{const v={message:m,type:f,relatedId:p,read:!1,createdAt:new Date().toISOString(),timestamp:new Date().toLocaleString()},g=Date.now().toString();r(b=>[{...v,id:g},...b])},u=(m,f,p="user",v="")=>{const g={userId:m,message:f,type:p,relatedId:v,read:!1,createdAt:new Date().toISOString(),timestamp:new Date().toLocaleString()},b=Date.now().toString();r(y=>[{...g,id:b},...y])},d=h.useCallback((m,f,p,v)=>{const g={id:Date.now().toString(),taskId:m,userId:f,action:p,details:v,createdAt:new Date().toISOString()};l(g)},[l]);return{logs:n,addLog:l,logTaskEvent:d,addSystemJournalEntry:c,addUserJournalEntry:u,notifications:localNotifications}},vB=()=>{const{users:e,currentUser:t,addNotification:r}=yt(),{toast:n}=Pr(),{addJournalEntry:a}=xB(),[o,i]=h.useState(null),[l,c]=h.useState(new Date),[u,d]=h.useState(""),[m,f]=h.useState(null),[p,v]=h.useState([]);h.useEffect(()=>{const w=localStorage.getItem("dailyReports");w&&v(JSON.parse(w))},[]),h.useEffect(()=>{localStorage.setItem("dailyReports",JSON.stringify(p))},[p]);const g=w=>{const j=e.find(A=>A.id===w);i(j||null),f(null),d("");const k=p.find(A=>A.userId===w&&A.date===y(l));k?(f(k),d(k.content)):d("")},b=()=>{if(!o){n({title:"오류",description:"사용자를 선택해주세요."});return}if(!l){n({title:"오류",description:"날짜를 선택해주세요."});return}const w=y(l);if(m){const j=p.map(k=>k.id===m.id?{...k,content:u}:k);v(j),f({...m,content:u}),a((t==null?void 0:t.id)||"",`${o.name}의 ${w} 보고서가 수정되었습니다.`,"report",m.id),n.success("보고서가 수정되었습니다.")}else{const j={id:Date.now().toString(),userId:o.id,date:w,content:u};v([...p,j]),f(j),a((t==null?void 0:t.id)||"",`${o.name}의 ${w} 보고서가 등록되었습니다.`,"report",j.id),x()}},y=w=>w?Ke(w,"yyyy-MM-dd",{locale:Yr}):"",x=()=>{const w={id:Date.now().toString(),type:"report",message:`${o==null?void 0:o.name}의 일일 보고서가 등록되었습니다.`,read:!1,createdAt:new Date().toISOString(),userId:(t==null?void 0:t.id)||"",relatedId:(m==null?void 0:m.id)||"",timestamp:new Date().toLocaleString()};r(w),n.success("보고서가 등록되었습니다.")};return s.jsxs("div",{className:"container mx-auto p-4 sm:p-6 animate-fade-in",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"일일 보고서"}),s.jsx("p",{className:"text-slate-600",children:"직원별 일일 업무 보고서 작성 및 관리"})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs(Pe,{children:[s.jsx(ft,{children:s.jsx(pt,{children:"보고서 설정"})}),s.jsx(Ee,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"user",children:"사용자 선택"}),s.jsxs(Oe,{onValueChange:g,children:[s.jsx(Re,{id:"user",children:s.jsx(Ie,{placeholder:"사용자 선택"})}),s.jsx(Ae,{children:e.map(w=>s.jsx(ce,{value:w.id,children:w.name},w.id))})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"날짜 선택"}),s.jsxs("div",{className:"relative",children:[s.jsx(fe,{placeholder:"날짜 선택",value:l?y(l):"",readOnly:!0}),s.jsx(sr,{className:"absolute top-2 right-2 h-4 w-4 text-gray-500"})]})]})]})})]}),s.jsxs(Pe,{children:[s.jsx(ft,{children:s.jsx(pt,{children:"보고서 내용"})}),s.jsx(Ee,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(fe,{type:"textarea",placeholder:"보고서 내용을 입력하세요...",value:u,onChange:w=>d(w.target.value),className:"min-h-[150px]"}),s.jsx(X,{onClick:b,children:"보고서 제출"})]})})]})]})]})};function yB(){const{theme:e,setTheme:t}=k4(),r=n=>{console.log("Changing theme from",e,"to",n),t(n)};return s.jsxs(vf,{children:[s.jsx(yf,{asChild:!0,children:s.jsxs(X,{variant:"ghost",size:"icon",children:[s.jsx(Uw,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),s.jsx($w,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),s.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),s.jsxs(Xd,{align:"end",children:[s.jsxs(bn,{onClick:()=>r("light"),children:[s.jsx(Uw,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Light"}),e==="light"&&s.jsx("span",{className:"ml-auto",children:"✓"})]}),s.jsxs(bn,{onClick:()=>r("dark"),children:[s.jsx($w,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Dark"}),e==="dark"&&s.jsx("span",{className:"ml-auto",children:"✓"})]}),s.jsxs(bn,{onClick:()=>r("system"),children:[s.jsx(k_,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"System"}),e==="system"&&s.jsx("span",{className:"ml-auto",children:"✓"})]})]})]})}const wB=()=>{const{notifications:e,markNotificationAsRead:t,markAllNotificationsAsRead:r}=yt();Ul();const[n,a]=h.useState(!1),o=e.filter(m=>!m.read).length,i=m=>{switch(m){case"project":return mO;case"customer":return us;case"task":return Et;case"journal":return Ka;default:return Un}},l=m=>{switch(m){case"project":return"text-blue-600 bg-blue-100";case"customer":return"text-green-600 bg-green-100";case"task":return"text-purple-600 bg-purple-100";case"journal":return"text-orange-600 bg-orange-100";default:return"text-gray-600 bg-gray-100"}},c=async m=>{m.read||await t(m.id)},u=async()=>{await r()},d=m=>{const f=new Date,p=new Date(m),v=Math.floor((f.getTime()-p.getTime())/(1e3*60));return v<1?"방금 전":v<60?`${v}분 전`:v<1440?`${Math.floor(v/60)}시간 전`:Ke(p,"MM월 dd일",{locale:Yr})};return s.jsxs(vf,{open:n,onOpenChange:a,children:[s.jsx(yf,{asChild:!0,children:s.jsxs(X,{variant:"ghost",size:"icon",className:"relative",children:[o>0?s.jsx(aO,{className:"h-5 w-5"}):s.jsx(Un,{className:"h-5 w-5"}),o>0&&s.jsx(Le,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 p-0 flex items-center justify-center text-xs",children:o>99?"99+":o})]})}),s.jsxs(Xd,{align:"end",className:"w-80 max-h-96 overflow-hidden",sideOffset:5,children:[s.jsxs(UD,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Un,{className:"h-4 w-4"}),"알림"]}),o>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Le,{variant:"secondary",className:"text-xs",children:[o,"개 안읽음"]}),s.jsxs(X,{variant:"ghost",size:"sm",onClick:u,className:"text-xs h-6 px-2",children:[s.jsx(Is,{className:"h-3 w-3 mr-1"}),"모두 읽음"]})]})]}),s.jsx(BD,{}),e.length===0?s.jsxs("div",{className:"p-4 text-center text-muted-foreground",children:[s.jsx(Un,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"알림이 없습니다"})]}):s.jsx(Jd,{className:"h-80",children:s.jsx("div",{className:"space-y-1",children:e.sort((m,f)=>new Date(f.createdAt).getTime()-new Date(m.createdAt).getTime()).map(m=>{const f=i(m.type);return s.jsxs(bn,{className:se("flex items-start gap-3 p-3 cursor-pointer group",!m.read&&"bg-blue-50 dark:bg-blue-950/20"),onClick:()=>c(m),children:[s.jsx("div",{className:se("p-2 rounded-full",l(m.type)),children:s.jsx(f,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsx("p",{className:"text-sm font-medium leading-tight",children:m.message})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:d(m.timestamp)}),!m.read&&s.jsx("div",{className:"h-2 w-2 rounded-full bg-blue-600"})]})]})]},m.id)})})})]})]})};function bB(){var t;const{translations:e}=Yt();return s.jsx("header",{className:"border-b bg-white dark:bg-slate-950 sticky top-0 z-10",children:s.jsxs("div",{className:"flex items-center justify-between px-4 h-14",children:[s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("div",{className:"flex items-center max-w-md border rounded-md focus-within:ring-1 focus-within:ring-ring",children:[s.jsx(Ga,{className:"h-4 w-4 text-muted-foreground ml-3"}),s.jsx(fe,{placeholder:((t=e.global)==null?void 0:t.searchPlaceholder)||"검색...",className:"border-0 focus-visible:ring-0 h-9"})]})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Yd,{}),s.jsx(yB,{}),s.jsx(wB,{})]})]})})}const jB=()=>{var q,de;const{currentUser:e,tasks:t,projects:r,notifications:n,departments:a,workJournals:o}=yt(),{translations:i,language:l}=Yt();qN();const[c,u]=h.useState(null),[d,m]=h.useState(!1),[f,p]=h.useState([]),[v]=h.useState([{id:"1",type:"task",title:"새 업무 할당",message:"프로젝트 A 업무가 할당되었습니다",time:"2분 전",read:!1,priority:"high"},{id:"2",type:"project",title:"프로젝트 업데이트",message:"프로젝트 B가 완료되었습니다",time:"1시간 전",read:!1,priority:"medium"},{id:"3",type:"mention",title:"멘션",message:"김관리자님이 언급했습니다",time:"3시간 전",read:!0,priority:"low"}]),[g,b]=h.useState({"/projects":!0,"/tasks":!0,"/team":!0}),y=nn(),x=Array.isArray(t)?t:[],w=Array.isArray(r)?r:[],j=Array.isArray(n)?n:v,k=x.length,A=x.filter(z=>z.status==="in-progress"||z.status==="pending"||z.status==="not-started").length,C=j.filter(z=>z.type==="journal"&&!z.read).length,T=w.filter(z=>z.status==="in-progress"||z.status==="planning").length,B=j.filter(z=>!z.read).length;f.filter(z=>z.status==="online").length;const[W,_]=h.useState([]),[R,O]=h.useState(!1);h.useEffect(()=>{const z=async()=>{if(R){console.log("🔄 시스템 로그 이미 조회 중...");return}try{O(!0),console.log("🔍 시스템 로그 조회 시작");const{data:U,error:S}=await re.from("system_logs").select("*").order("created_at",{ascending:!1}).limit(5);if(S){console.error("시스템 로그 조회 오류:",S);return}console.log("📋 시스템 로그:",U),_(U||[])}catch(U){console.error("시스템 로그 가져오기 실패:",U)}finally{O(!1)}};z();const ee=setInterval(z,3e4);return()=>clearInterval(ee)},[]),h.useEffect(()=>{const z=async()=>{try{console.log("👥 온라인 사용자 조회 시작");const{data:U,error:S}=await re.from("users").select("id, name, email, avatar, role, last_seen, updated_at, current_page, is_online").eq("is_active",!0).order("updated_at",{ascending:!1});if(S){console.error("온라인 사용자 조회 오류:",S);return}console.log("👤 전체 사용자 목록:",(U==null?void 0:U.length)||0,"명");const K=new Date(Date.now()-10*60*1e3),te=(U||[]).map(Q=>{const oe=new Date(Q.updated_at||Q.last_seen||0),xe=oe>K,Ne=Q.is_online&&xe;return{id:Q.id,name:Q.name||Q.email||"Unknown",avatar:Q.avatar,status:Ne?"online":"offline",currentPage:Q.current_page||(Ne?"활동 중":"오프라인"),lastSeen:oe.toLocaleString("ko-KR"),role:Q.role}}).filter(Q=>Q.status==="online").slice(0,20);p(te),console.log("✅ 온라인 사용자 업데이트:",te.length,"명")}catch(U){console.error("온라인 사용자 가져오기 실패:",U)}};z();const ee=setInterval(z,3e4);return()=>clearInterval(ee)},[y.pathname]),h.useEffect(()=>{let z=!1,ee=0;const U=30*1e3,S=async(xe=!1)=>{const Ne=Date.now();if(!(!xe&&(z||Ne-ee<U))){z=!0;try{if(e||c){const Se=(e==null?void 0:e.id)||(c==null?void 0:c.id),Je=(e==null?void 0:e.name)||(c==null?void 0:c.name);if(!Se||typeof Se!="string"){console.log("유효하지 않은 사용자 ID:",Se);return}if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(Se)){console.log("유효하지 않은 UUID 형식:",Se);return}const Qe=G();console.log("👤 사용자 활동 상태 업데이트:",Je,"현재 페이지:",Qe);const{error:V}=await re.from("users").update({updated_at:new Date().toISOString(),last_seen:new Date().toISOString(),current_page:Qe,is_online:!0}).eq("id",Se);V?V.code==="42703"?console.log("페이지 변경 업데이트 - 온라인 상태 추적 컬럼들이 존재하지 않습니다."):console.error("페이지 변경 업데이트 오류:",V):(console.log("✅ 페이지 변경 업데이트 성공:",Qe),ee=Ne)}}catch(Se){console.error("사용자 활동 상태 업데이트 중 오류:",Se)}finally{z=!1}}};S(!0);const K=()=>{document.hidden||setTimeout(()=>S(!0),500)},te=setInterval(()=>S(!1),2*60*1e3);let Q;const oe=()=>{clearTimeout(Q),Q=setTimeout(()=>S(!1),10*1e3)};return document.addEventListener("visibilitychange",K),document.addEventListener("mousedown",oe),document.addEventListener("keydown",oe),document.addEventListener("scroll",oe),()=>{clearTimeout(Q),clearInterval(te),document.removeEventListener("visibilitychange",K),document.removeEventListener("mousedown",oe),document.removeEventListener("keydown",oe),document.removeEventListener("scroll",oe)}},[]),h.useEffect(()=>{let z=!1;(async()=>{if(!z){z=!0;try{if(e||c){const U=(e==null?void 0:e.id)||(c==null?void 0:c.id);if(!U||typeof U!="string"||!/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(U))return;const K=G();console.log("🔄 페이지 변경 감지 - 즉시 업데이트:",K);const{error:te}=await re.from("users").update({current_page:K,updated_at:new Date().toISOString(),last_seen:new Date().toISOString(),is_online:!0}).eq("id",U);te?console.error("페이지 변경 업데이트 오류:",te):console.log("✅ 페이지 변경 업데이트 성공:",K)}}catch(U){console.error("페이지 변경 업데이트 중 오류:",U)}finally{z=!1}}})()},[y.pathname]),h.useEffect(()=>{const z=localStorage.getItem("userProfile");z&&u(JSON.parse(z))},[]),h.useEffect(()=>{e&&(console.log("사이드바 - currentUser 업데이트:",e),u(e))},[e]),h.useEffect(()=>{let z=!1,ee=0;const U=10*60*1e3,K=setInterval(async()=>{const te=Date.now();if(!(e!=null&&e.id)||z||te-ee<U){console.log("사용자 역할 동기화 건너뜀:",{hasUserId:!!(e!=null&&e.id),inProgress:z,timeSinceLastSync:te-ee,interval:U});return}z=!0;try{console.log("🔄 사이드바 - 사용자 역할 정보 동기화 비활성화됨 (리소스 절약)"),ee=te}catch(Q){console.log("사이드바 - 역할 동기화 중 오류:",Q)}finally{z=!1}},30*60*1e3);return()=>clearInterval(K)},[e==null?void 0:e.id]),h.useEffect(()=>{let z=0;const ee=30*1e3,U=()=>{const te=Date.now();if(te-z<ee){console.log("프로필 업데이트 체크 건너뜀 - 너무 빈번함");return}z=te;try{const Q=localStorage.getItem("userProfile");if(Q)try{const oe=JSON.parse(Q);JSON.stringify(oe)!==JSON.stringify(c)&&(console.log("사이드바 - localStorage 프로필 업데이트 감지:",oe),u(oe))}catch(oe){console.error("프로필 파싱 오류:",oe)}}catch(Q){console.log("프로필 업데이트 체크 중 오류:",Q)}};U();const S=setInterval(U,2*60*1e3),K=()=>{setTimeout(()=>{console.log("사이드바 - 페이지 포커스 감지, 프로필 새로고침"),U()},1e3)};return window.addEventListener("focus",K),()=>{clearInterval(S),window.removeEventListener("focus",K)}},[]);const ne=async()=>{try{if(e||c){const z=(e==null?void 0:e.id)||(c==null?void 0:c.id);if(z&&typeof z=="string"&&/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(z))try{console.log("🔴 사용자 오프라인 상태로 변경:",(e==null?void 0:e.name)||(c==null?void 0:c.name));const U={is_online:!1,last_seen:new Date().toISOString(),current_page:null,updated_at:new Date().toISOString()},{error:S}=await re.from("users").update(U).eq("id",z);S?console.error("오프라인 상태 변경 실패:",S):console.log("✅ 사용자 오프라인 상태로 변경 완료")}catch(U){console.error("오프라인 상태 변경 중 오류:",U)}}await re.auth.signOut(),localStorage.removeItem("userProfile"),localStorage.removeItem("user"),window.location.href="/"}catch(z){console.error("로그아웃 중 오류:",z),localStorage.removeItem("userProfile"),localStorage.removeItem("user"),window.location.href="/"}},P=(i==null?void 0:i.sidebar)||{dashboard:"대시보드",projects:"프로젝트",tasks:"업무",team:"팀",calendar:"일정",reports:"보고서",clients:"고객사",admin:"관리자",adminPanel:"관리자 패널",settings:"설정",profile:"프로필",logout:"로그아웃",clientsAndPartners:"고객사 & 협업사",taskManagement:"업무 관리",taskJournal:"업무 일지",taskJournalList:"업무 일지 목록",byCompany:"법인별",teamCorporation:"법인별",byDepartment:"부서별",teamDepartment:"부서별",byExecutive:"임원별",teamExecutive:"임원별",byEmployee:"직원별",online:"온라인",systemStatus:"시스템 정상"},H=[{name:P.projects,icon:s.jsx(b_,{className:"h-5 w-5"}),path:"/projects",gradient:"from-green-500 to-teal-600",badge:T>0?T:void 0,submenu:[{name:P.projects||"프로젝트",path:"/projects",icon:s.jsx(U0,{className:"h-4 w-4"}),color:"text-green-600",badge:T>0?T:void 0},{name:"내 프로젝트",path:"/projects/my",icon:s.jsx(nr,{className:"h-4 w-4"}),color:"text-blue-600"}]},{name:P.tasks,icon:s.jsx(Oh,{className:"h-5 w-5"}),path:"/tasks",gradient:"from-orange-500 to-red-600",badge:k>0?k:void 0,submenu:[{name:"업무 DB",path:"/tasks",icon:s.jsx(Oh,{className:"h-4 w-4"}),color:"text-orange-600",badge:A>0?A:void 0,adminOnly:!0},{name:P.taskJournalList||"업무 일지 목록",path:"/tasks/journal-list",icon:s.jsx(j_,{className:"h-4 w-4"}),color:"text-red-600",badge:C>0?C:void 0}]},...(c==null?void 0:c.role)==="admin"||(c==null?void 0:c.role)==="manager"||(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="manager"?[{name:P.adminPanel||"관리자 패널",icon:s.jsx(F0,{className:"h-5 w-5"}),path:"/admin",gradient:"from-purple-500 to-pink-600",badge:void 0}]:[]],L=z=>{b(ee=>({...ee,[z]:!ee[z]}))},M=z=>{switch(z){case"online":return"bg-green-500";case"away":return"bg-yellow-500";case"busy":return"bg-red-500";case"offline":return"bg-gray-400";default:return"bg-gray-400"}},F=(c==null?void 0:c.role)==="admin"||(e==null?void 0:e.role)==="admin",G=()=>{const z=y.pathname;for(const U of H)if(z===U.path||U.path!=="/"&&z.startsWith(U.path)){if(U.submenu){const S=U.submenu.find(K=>z===K.path||z.startsWith(K.path));if(S)return S.name}return U.name}return z==="/profile"?P.profile||"프로필":{"/":P.projects||"프로젝트","/projects":P.projects||"프로젝트","/tasks":P.taskManagement||"업무 관리","/tasks/journal":P.taskJournal||"업무 일지","/tasks/journal-list":P.taskJournalList||"업무 일지 목록","/tasks/journals":P.taskJournalList||"업무 일지 목록","/admin":P.adminPanel||"관리자 패널","/profile":P.profile||"프로필"}[z]||"알 수 없는 페이지"};return s.jsx(PC,{children:s.jsxs("aside",{className:se("hidden md:flex flex-col bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 text-white h-screen transition-all duration-300 shadow-2xl border-r border-slate-700/50",d?"w-32":"w-72"),children:[s.jsxs("div",{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/20 via-purple-600/20 to-pink-600/20"}),s.jsxs("div",{className:se("relative border-b border-slate-700/50",d?"p-2":"p-4"),children:[s.jsxs("div",{className:se("flex items-center",d?"flex-col space-y-2":"gap-3"),children:[s.jsxs("div",{className:"relative flex justify-center",children:[s.jsx("img",{src:"/Coilmaster%20Logo.ico",alt:"Coilmaster Logo",className:se("rounded-xl shadow-lg",d?"w-8 h-8":"w-10 h-10"),onError:z=>{console.error("Logo not found, falling back to text"),z.currentTarget.style.display="none"}}),s.jsx("div",{className:se("absolute bg-green-500 rounded-full border-2 border-slate-900 animate-pulse",d?"-top-0.5 -right-0.5 w-2.5 h-2.5":"-top-1 -right-1 w-3 h-3")})]}),s.jsxs("div",{className:se("flex flex-col",d?"items-center text-center":""),children:[s.jsx("h2",{className:se("font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",d?"text-sm":"text-lg"),children:d?"Coilmaster":"Coilmaster Notion"}),s.jsx("p",{className:se("text-slate-400","text-xs"),children:d?"System":"Enterprise System"})]}),!d&&s.jsx(X,{variant:"ghost",size:"icon",onClick:()=>m(!d),className:"ml-auto text-slate-400 hover:text-white hover:bg-slate-700/50",children:s.jsx(Xs,{className:"h-4 w-4"})})]}),d&&s.jsx("div",{className:"flex justify-center mt-2",children:s.jsx(X,{variant:"ghost",size:"icon",onClick:()=>m(!d),className:"text-slate-400 hover:text-white hover:bg-slate-700/50 w-8 h-8",children:s.jsx(pl,{className:"h-3 w-3"})})})]})]}),s.jsx("div",{className:se("border-b border-slate-700/50",d?"p-2":"p-4"),children:s.jsxs("div",{className:se("flex items-center",d?"justify-center":"gap-3"),children:[s.jsxs("div",{className:"relative flex justify-center",children:[s.jsxs(ys,{className:se("border-2 border-gradient-to-r from-blue-500 to-purple-500",d?"h-10 w-10":"h-12 w-12"),children:[s.jsx(no,{src:c==null?void 0:c.avatar}),s.jsx(ws,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold",children:((q=c==null?void 0:c.name)==null?void 0:q.charAt(0))||((de=e==null?void 0:e.name)==null?void 0:de.charAt(0))||"U"})]}),s.jsx("div",{className:se("absolute rounded-full border-2 border-slate-900",M("online"),d?"-bottom-0.5 -right-0.5 w-3 h-3":"-bottom-1 -right-1 w-4 h-4")})]}),!d&&s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("div",{className:"font-semibold text-white truncate",children:(c==null?void 0:c.name)||(e==null?void 0:e.name)||"사용자"}),s.jsx(Le,{className:se("text-xs px-2 py-0.5 text-white border-0",(()=>{const z=(c==null?void 0:c.role)||(e==null?void 0:e.role)||"user";return console.log("사이드바 역할 정보 디버그:",{userProfileRole:c==null?void 0:c.role,currentUserRole:e==null?void 0:e.role,finalRole:z,userProfileData:c,currentUserData:e}),z==="admin"?"bg-gradient-to-r from-red-500 to-pink-500":z==="manager"?"bg-gradient-to-r from-blue-500 to-purple-500":"bg-gradient-to-r from-green-500 to-emerald-500"})()),children:(()=>{switch((c==null?void 0:c.role)||(e==null?void 0:e.role)||"user"){case"admin":return"관리자";case"manager":return"매니저";case"user":default:return"사용자"}})()})]}),s.jsx("div",{className:"text-xs text-slate-300 truncate mb-1",children:(c==null?void 0:c.email)||(e==null?void 0:e.email)}),s.jsxs("div",{className:"flex flex-wrap gap-1 mb-1",children:[((c==null?void 0:c.department_name)||(e==null?void 0:e.department_name)||(c==null?void 0:c.department)||(e==null?void 0:e.department))&&s.jsxs(Le,{variant:"secondary",className:"text-xs px-2 py-0.5 bg-slate-700/50 text-slate-300",children:[s.jsx(Ah,{className:"h-2.5 w-2.5 mr-1"}),(()=>{const z=(c==null?void 0:c.department)||(e==null?void 0:e.department),ee=(c==null?void 0:c.department_id)||(e==null?void 0:e.department_id),U=(c==null?void 0:c.department_name)||(e==null?void 0:e.department_name);if(console.log("사이드바 부서 정보 디버그:",{userDept:z,userDeptId:ee,deptName:U,departments:a.length,userProfile:c,currentUser:e}),U)return U;if(ee&&a.length>0){const S=a.find(K=>K.id===ee);if(S)return S.name}if(typeof z=="object"&&(z!=null&&z.name))return z.name;if(typeof z=="string"&&a.length>0){const S=a.find(K=>K.code===z);if(S)return S.name}if(typeof z=="string"){if(l==="ko")switch(z){case"sales":return"영업";case"development":return"개발";case"manufacturing":return"제조";case"quality":return"품질";case"finance":return"경리";case"management":return"경영";case"administration":return"관리";default:return z}return z}return"-"})()]}),s.jsxs(Le,{variant:"secondary",className:"text-xs px-2 py-0.5 bg-slate-700/50 text-slate-300",children:[s.jsx(Al,{className:"h-2.5 w-2.5 mr-1"}),l==="ko"?"한국어":l==="en"?"English":l==="th"?"ไทย":"中文"]}),s.jsxs(Le,{variant:"secondary",className:se("text-xs px-2 py-0.5",(()=>{const z=(c==null?void 0:c.is_active)!==void 0?c.is_active:(e==null?void 0:e.is_active)!==void 0?e.is_active:(e==null?void 0:e.isActive)!==!1;return console.log("사이드바 활성화 상태 디버그:",{userProfileIsActive:c==null?void 0:c.is_active,currentUserIsActive:e==null?void 0:e.is_active,currentUserIsActiveAlt:e==null?void 0:e.isActive,finalIsActive:z,userProfileData:c,currentUserData:e}),z?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"})()),children:[s.jsx(Va,{className:"h-2.5 w-2.5 mr-1"}),((c==null?void 0:c.is_active)!==void 0?c.is_active:(e==null?void 0:e.is_active)!==void 0?e.is_active:(e==null?void 0:e.isActive)!==!1)?"활성":"비활성"]})]}),s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx(Qc,{className:"h-3 w-3 text-yellow-500"}),s.jsx("span",{className:"text-xs text-yellow-400 font-medium",children:"Premium Member"})]}),((c==null?void 0:c.loginMethod)==="azure"||(c==null?void 0:c.login_method)==="microsoft")&&s.jsxs("div",{className:"text-xs text-blue-400 mt-1 flex items-center",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 23 23",className:"mr-1",children:[s.jsx("path",{fill:"#f35325",d:"M1 1h10v10H1z"}),s.jsx("path",{fill:"#81bc06",d:"M12 1h10v10H12z"}),s.jsx("path",{fill:"#05a6f0",d:"M1 12h10v10H1z"}),s.jsx("path",{fill:"#ffba08",d:"M12 12h10v10H12z"})]}),"Microsoft"]})]})]})}),d?s.jsx("div",{className:"p-2 border-b border-slate-700/50",children:s.jsx("div",{className:"flex flex-col items-center space-y-2",children:s.jsxs(Po,{children:[s.jsx(To,{asChild:!0,children:s.jsxs("div",{className:"relative flex flex-col items-center",children:[s.jsx(X,{variant:"ghost",size:"icon",className:"text-slate-400 hover:text-white hover:bg-slate-700/50 rounded-xl w-12 h-12",children:s.jsx(Un,{className:"h-5 w-5"})}),B>0&&s.jsx(Le,{className:"absolute -top-1 -right-1 h-5 w-5 p-0 text-xs bg-red-500 text-white flex items-center justify-center",children:B>9?"9+":B}),s.jsx("span",{className:"text-xs font-medium text-center leading-tight mt-1",children:"알림"})]})}),s.jsxs(ka,{side:"right",children:[s.jsxs("p",{children:[P.notifications||"알림"," ",B>0?`(${B})`:""]}),s.jsxs("p",{children:["온라인 사용자: ",f.length,"명"]})]})]})})}):s.jsx("div",{className:"p-4 border-b border-slate-700/50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Un,{className:"h-4 w-4 text-slate-400"}),s.jsx("span",{className:"text-sm text-slate-300",children:P.notifications||"알림"})]}),B>0&&s.jsx(Le,{className:"bg-red-500 text-white text-xs px-2 py-1",children:B})]})}),d?null:s.jsxs("div",{className:"p-4 border-b border-slate-700/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(us,{className:"h-4 w-4 text-slate-400"}),s.jsx("span",{className:"text-sm text-slate-300",children:"온라인 사용자"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-xs text-slate-400",children:f.length})]})]}),s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:f.length===0?s.jsx("div",{className:"text-xs text-slate-500 text-center py-2",children:"현재 온라인 사용자가 없습니다"}):f.map(z=>s.jsxs(Po,{children:[s.jsx(To,{asChild:!0,children:s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg hover:bg-slate-700/30 transition-colors cursor-pointer",children:[s.jsxs("div",{className:"relative",children:[s.jsxs(ys,{className:"h-6 w-6",children:[s.jsx(no,{src:z.avatar}),s.jsx(ws,{className:"text-xs bg-slate-600",children:z.name.charAt(0).toUpperCase()})]}),s.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-2 h-2 bg-green-500 rounded-full border border-slate-900"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"text-xs font-medium text-white truncate",children:z.name}),z.role&&s.jsx(Le,{variant:"outline",className:se("text-xs px-1 py-0 border-0",z.role==="admin"?"bg-red-500/20 text-red-300":z.role==="manager"?"bg-blue-500/20 text-blue-300":"bg-green-500/20 text-green-300"),children:z.role==="admin"?"관리자":z.role==="manager"?"매니저":"사용자"})]}),s.jsx("div",{className:"text-xs text-slate-400 truncate",children:z.currentPage})]})]})}),s.jsx(ka,{side:"right",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium",children:z.name}),s.jsx("p",{className:"text-xs",children:"상태: 온라인"}),s.jsxs("p",{className:"text-xs",children:["현재: ",z.currentPage]}),z.role&&s.jsxs("p",{className:"text-xs",children:["역할: ",z.role==="admin"?"관리자":z.role==="manager"?"매니저":"사용자"]}),s.jsxs("p",{className:"text-xs",children:["최근 활동: ",z.lastSeen]})]})})]},z.id))})]}),s.jsx("nav",{className:se("flex-1 overflow-y-auto",d?"p-2":"p-3"),children:s.jsx("ul",{className:"space-y-2",children:H.map(z=>s.jsx("li",{children:z.submenu?s.jsxs("div",{className:"space-y-1",children:[s.jsxs(Po,{children:[s.jsx(To,{asChild:!0,children:s.jsxs("button",{onClick:()=>L(z.path),className:se("group relative flex items-center rounded-xl text-slate-300 hover:text-white transition-all duration-200 overflow-hidden w-full","hover:bg-gradient-to-r hover:shadow-lg hover:shadow-blue-500/25",z.gradient&&`hover:${z.gradient}`,y.pathname.startsWith(z.path)&&"bg-gradient-to-r text-white shadow-lg",y.pathname.startsWith(z.path)&&z.gradient,d?"flex-col justify-center items-center p-2 h-16":"justify-start text-left gap-3 px-3 py-3"),children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r opacity-0 group-hover:opacity-100 transition-opacity duration-200",style:{background:z.gradient?"linear-gradient(to right, var(--tw-gradient-stops))":void 0}}),s.jsx("div",{className:se("relative flex items-center",d?"justify-center mb-1":"flex-shrink-0"),children:s.jsxs("div",{className:"flex items-center justify-center min-w-[20px] w-5 h-5",children:[z.icon,z.badge&&s.jsx(Le,{className:se("absolute text-xs px-1 py-0 bg-red-500 text-white",d?"-top-1 -right-1":"-top-2 -right-2"),children:d&&typeof z.badge=="number"&&z.badge>9?"9+":z.badge})]})}),d?s.jsx("span",{className:"text-xs font-medium text-center leading-tight",children:z.name}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"font-medium flex-grow",children:z.name}),s.jsx("div",{className:"flex-shrink-0",children:g[z.path]?s.jsx(Kr,{className:"h-4 w-4 transition-transform duration-200"}):s.jsx(pl,{className:"h-4 w-4 transition-transform duration-200"})})]})]})}),d&&s.jsxs(ka,{side:"right",children:[s.jsx("p",{children:z.name}),z.badge&&s.jsxs("p",{children:[P.notifications||"알림",": ",z.badge]})]})]}),g[z.path]&&z.submenu&&!d&&s.jsx("ul",{className:"ml-6 space-y-1 border-l-2 border-slate-700/50 pl-4",children:z.submenu.map(ee=>ee.adminOnly&&!F?null:s.jsx("li",{children:s.jsxs(Gi,{to:ee.path,className:({isActive:U})=>se("group flex items-center gap-3 px-3 py-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-700/50 transition-all duration-200 text-sm relative overflow-hidden w-full",U&&"text-white bg-slate-700/70 shadow-md",ee.color),children:[s.jsx("div",{className:"flex items-center justify-center min-w-[20px] w-5 h-5 flex-shrink-0",children:ee.icon}),s.jsx("span",{className:"flex-grow",children:ee.name}),ee.badge&&s.jsx(Le,{className:"text-xs px-1 py-0 bg-orange-500 text-white",children:ee.badge})]})},ee.path))})]}):s.jsxs(Po,{children:[s.jsx(To,{asChild:!0,children:s.jsxs(Gi,{to:z.path,end:z.path==="/",className:({isActive:ee})=>se("group relative flex items-center rounded-xl text-slate-300 hover:text-white transition-all duration-200 overflow-hidden w-full","hover:bg-gradient-to-r hover:shadow-lg hover:shadow-blue-500/25",z.gradient&&`hover:${z.gradient}`,ee&&"bg-gradient-to-r text-white shadow-lg",ee&&z.gradient,d?"flex-col justify-center items-center p-2 h-16":"justify-start gap-3 px-3 py-3"),children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r opacity-0 group-hover:opacity-100 transition-opacity duration-200",style:{background:z.gradient?"linear-gradient(to right, var(--tw-gradient-stops))":void 0}}),s.jsx("div",{className:se("relative flex items-center",d?"justify-center mb-1":"flex-shrink-0"),children:s.jsxs("div",{className:"flex items-center justify-center min-w-[20px] w-5 h-5",children:[z.icon,z.badge&&s.jsx(Le,{className:se("absolute text-xs px-1 py-0 bg-red-500 text-white",d?"-top-1 -right-1":"-top-2 -right-2"),children:d&&typeof z.badge=="number"&&z.badge>9?"9+":z.badge})]})}),d?s.jsx("span",{className:"text-xs font-medium text-center leading-tight",children:z.name}):s.jsx("span",{className:"font-medium flex-grow",children:z.name})]})}),d&&s.jsxs(ka,{side:"right",children:[s.jsx("p",{children:z.name}),z.badge&&s.jsxs("p",{children:[P.notifications||"알림",": ",z.badge]})]})]})},z.path))})}),s.jsxs("div",{className:se("border-t border-slate-700/50 space-y-2",d?"p-2":"p-3"),children:[s.jsxs(Po,{children:[s.jsx(To,{asChild:!0,children:s.jsxs(Gi,{to:"/profile",className:({isActive:z})=>se("group flex items-center rounded-xl text-slate-300 hover:text-white hover:bg-gradient-to-r hover:from-indigo-500 hover:to-purple-500 transition-all duration-200 w-full",z&&"bg-gradient-to-r from-indigo-500 to-purple-500 text-white shadow-lg",d?"flex-col justify-center items-center p-2 h-16":"justify-start gap-3 px-3 py-3"),children:[s.jsx("div",{className:se("flex items-center",d?"justify-center mb-1":"flex-shrink-0"),children:s.jsx("div",{className:"flex items-center justify-center min-w-[20px] w-5 h-5",children:s.jsx(nr,{className:"h-5 w-5"})})}),d?s.jsx("span",{className:"text-xs font-medium text-center leading-tight",children:P.profile||"프로필"}):s.jsx("span",{className:"font-medium flex-grow",children:P.profile||"프로필"})]})}),d&&s.jsx(ka,{side:"right",children:s.jsx("p",{children:P.profile||"프로필"})})]}),s.jsxs(Po,{children:[s.jsx(To,{asChild:!0,children:s.jsxs(X,{variant:"ghost",className:se("group text-slate-300 hover:text-white hover:bg-gradient-to-r hover:from-red-500 hover:to-pink-500 transition-all duration-200 rounded-xl w-full",d?"flex-col justify-center items-center p-2 h-16":"justify-start px-3 py-3"),onClick:ne,children:[s.jsx("div",{className:se("flex items-center",d?"justify-center mb-1":"flex-shrink-0"),children:s.jsx("div",{className:"flex items-center justify-center min-w-[20px] w-5 h-5",children:s.jsx(__,{className:"h-5 w-5"})})}),d?s.jsx("span",{className:"text-xs font-medium text-center leading-tight",children:P.logout||"로그아웃"}):s.jsx("span",{className:"font-medium flex-grow",children:P.logout||"로그아웃"})]})}),d&&s.jsx(ka,{side:"right",children:s.jsx("p",{children:P.logout||"로그아웃"})})]})]}),!d&&s.jsxs("div",{className:"p-3 border-t border-slate-700/50",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-400",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{children:P.systemStatus||"시스템 정상"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Va,{className:"h-3 w-3"}),s.jsx("span",{children:"99.9%"})]})]}),s.jsx(zl,{value:85,className:"mt-2 h-1"}),s.jsx("div",{className:"text-xs text-slate-500 mt-1",children:P.serverStatus||"서버 상태: 양호"})]})]})})},NB=av,_B=ov,kB=iv,WD=h.forwardRef(({className:e,...t},r)=>s.jsx(Id,{className:se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));WD.displayName=Id.displayName;const SB=Td("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),HD=h.forwardRef(({side:e="right",className:t,children:r,...n},a)=>s.jsxs(kB,{children:[s.jsx(WD,{}),s.jsxs(Ld,{ref:a,className:se(SB({side:e}),t),...n,children:[r,s.jsxs(tf,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(It,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));HD.displayName=Ld.displayName;const CB=h.forwardRef(({className:e,...t},r)=>s.jsx(Fd,{ref:r,className:se("text-lg font-semibold text-foreground",e),...t}));CB.displayName=Fd.displayName;const DB=h.forwardRef(({className:e,...t},r)=>s.jsx($d,{ref:r,className:se("text-sm text-muted-foreground",e),...t}));DB.displayName=$d.displayName;const PB=()=>{var L,M;const{currentUser:e,tasks:t,projects:r,notifications:n}=yt(),{translations:a,language:o}=Yt(),[i,l]=h.useState(!1),[c,u]=h.useState(null),[d,m]=h.useState([]),[f]=h.useState([{id:"1",type:"task",title:"새 업무 할당",message:"프로젝트 A 업무가 할당되었습니다",time:"2분 전",read:!1,priority:"high"},{id:"2",type:"project",title:"프로젝트 업데이트",message:"프로젝트 B가 완료되었습니다",time:"1시간 전",read:!1,priority:"medium"}]),[p,v]=h.useState({"/projects":!0,"/tasks":!0,"/team":!0}),g=nn(),b=Array.isArray(t)?t:[],y=Array.isArray(r)?r:[],x=Array.isArray(n)?n:f,w=b.length,j=b.filter(F=>F.status==="in-progress"||F.status==="pending"||F.status==="not-started").length,k=y.filter(F=>F.status==="in-progress"||F.status==="planning").length,A=x.filter(F=>!F.read).length,C=d.filter(F=>F.status==="online"),T=C.length;h.useEffect(()=>{const F=async()=>{try{const q=[];(e||c)&&q.push({id:(e==null?void 0:e.id)||(c==null?void 0:c.id)||"current-user",name:(e==null?void 0:e.name)||(c==null?void 0:c.name)||"현재 사용자",status:"online",currentPage:"대시보드",avatar:c==null?void 0:c.avatar}),m(q)}catch(q){console.error("온라인 사용자 확인 중 오류:",q),m([])}};F();const G=setInterval(F,6e4);return()=>clearInterval(G)},[e,c]),h.useEffect(()=>{const F=localStorage.getItem("userProfile");F&&u(JSON.parse(F))},[]);const B=()=>{(e||c)&&console.log("사용자 오프라인 상태로 변경:",(e==null?void 0:e.name)||(c==null?void 0:c.name)),localStorage.removeItem("isAuthenticated"),localStorage.removeItem("loginMethod"),window.location.href="/login"},$=(a==null?void 0:a.sidebar)||{dashboard:"대시보드",projects:"프로젝트",tasks:"업무",team:"팀",calendar:"일정",reports:"보고서",clients:"고객사",admin:"관리자",adminPanel:"관리자 패널",settings:"설정",profile:"프로필",logout:"로그아웃",clientsAndPartners:"고객사 & 협업사",taskManagement:"업무 관리",taskJournal:"업무 일지",taskJournalList:"업무 일지 목록",byCompany:"법인별",teamCorporation:"법인별",byDepartment:"부서별",teamDepartment:"부서별",byExecutive:"임원별",teamExecutive:"임원별",byEmployee:"직원별",notifications:"알림",online:"온라인",systemStatus:"시스템 정상",serverStatus:"서버 상태: 양호"},W=[{name:$.projects,icon:s.jsx(b_,{className:"h-5 w-5"}),path:"/projects",gradient:"from-green-500 to-teal-600",badge:k>0?k:void 0,submenu:[{name:$.projects,path:"/projects",icon:s.jsx(U0,{className:"h-4 w-4"}),color:"text-green-600",badge:k>0?k:void 0}]},{name:$.tasks,icon:s.jsx(Oh,{className:"h-5 w-5"}),path:"/tasks",gradient:"from-orange-500 to-red-600",badge:w>0?w:void 0,submenu:[{name:$.taskManagement||"업무 관리",path:"/tasks",icon:s.jsx(Oh,{className:"h-4 w-4"}),color:"text-orange-600",badge:j>0?j:void 0},{name:$.taskJournalList||"업무 일지 목록",path:"/tasks/journal-list",icon:s.jsx(j_,{className:"h-4 w-4"}),color:"text-red-600",badge:void 0}]},{name:$.adminPanel||"관리자 패널",icon:s.jsx(F0,{className:"h-5 w-5"}),path:"/admin",gradient:"from-purple-500 to-pink-600",badge:void 0}],_=F=>{v(G=>({...G,[F]:!G[F]}))},R=()=>{const F=g.pathname;for(const q of W)if(F===q.path||q.path!=="/"&&F.startsWith(q.path)){if(q.submenu){const de=q.submenu.find(z=>F===z.path||F.startsWith(z.path));if(de)return de.name}return q.name}return F==="/profile"?$.profile||"프로필":{"/":$.projects||"프로젝트","/projects":$.projects||"프로젝트","/tasks":$.taskManagement||"업무 관리","/tasks/journal":$.taskJournal||"업무 일지","/tasks/journal-list":$.taskJournalList||"업무 일지 목록","/tasks/journals":$.taskJournalList||"업무 일지 목록","/admin":$.adminPanel||"관리자 패널","/profile":$.profile||"프로필"}[F]||"알 수 없는 페이지"},O=F=>{switch(F){case"online":return"bg-green-500";case"away":return"bg-yellow-500";case"busy":return"bg-red-500";case"offline":return"bg-gray-400";default:return"bg-gray-400"}},ne=F=>{switch(F){case"online":return s.jsx(RO,{className:"h-3 w-3"});case"away":return s.jsx(yr,{className:"h-3 w-3"});case"busy":return s.jsx(bp,{className:"h-3 w-3"});case"offline":return s.jsx(bp,{className:"h-3 w-3"});default:return s.jsx(bp,{className:"h-3 w-3"})}},P=F=>{switch(F){case"admin":return s.jsx($0,{className:"h-4 w-4 text-yellow-500"});case"manager":return s.jsx(mn,{className:"h-4 w-4 text-blue-500"});default:return s.jsx(nr,{className:"h-4 w-4 text-gray-500"})}},H=(c==null?void 0:c.role)==="admin"||(e==null?void 0:e.role)==="admin";return s.jsxs(NB,{open:i,onOpenChange:l,children:[s.jsx(_B,{asChild:!0,className:"md:hidden",children:s.jsxs(X,{variant:"ghost",size:"icon",className:"ml-2 relative",children:[s.jsx(NO,{className:"h-5 w-5"}),A>0&&s.jsx(Le,{className:"absolute -top-1 -right-1 h-5 w-5 p-0 text-xs bg-red-500 text-white",children:A})]})}),s.jsxs(HD,{side:"left",className:"w-72 p-0 bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 text-white border-slate-700",children:[s.jsxs("div",{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/20 via-purple-600/20 to-pink-600/20"}),s.jsx("div",{className:"relative p-4 border-b border-slate-700/50",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:"/Coilmaster%20Logo.ico",alt:"Coilmaster Logo",className:"w-10 h-10 rounded-xl shadow-lg",onError:F=>{console.error("Logo not found, falling back to text"),F.currentTarget.style.display="none"}}),s.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full border-2 border-slate-900 animate-pulse"})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("h2",{className:"text-lg font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Coilmaster Notion"}),s.jsx("p",{className:"text-xs text-slate-400",children:"Mobile Enterprise"})]})]})})]}),s.jsx("div",{className:"p-4 border-b border-slate-700/50",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsxs(ys,{className:"h-12 w-12 border-2 border-gradient-to-r from-blue-500 to-purple-500",children:[s.jsx(no,{src:c==null?void 0:c.avatar}),s.jsx(ws,{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold",children:((L=c==null?void 0:c.name)==null?void 0:L.charAt(0))||((M=e==null?void 0:e.name)==null?void 0:M.charAt(0))||"U"})]}),s.jsx("div",{className:se("absolute -bottom-1 -right-1 w-4 h-4 rounded-full border border-slate-900",O("online"))})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"font-semibold text-white truncate",children:(c==null?void 0:c.name)||(e==null?void 0:e.name)||"사용자"}),P((c==null?void 0:c.role)||(e==null?void 0:e.role))]}),s.jsxs("div",{className:"text-xs text-slate-400 truncate",children:[(c==null?void 0:c.position)||(e==null?void 0:e.role)||"",(c==null?void 0:c.department)&&s.jsxs(s.Fragment,{children:[" • ",o==="ko"?c.department==="sales"?"영업":c.department==="development"?"개발":c.department==="manufacturing"?"제조":c.department==="quality"?"품질":c.department==="finance"?"경리":c.department==="management"?"경영":c.department==="administration"?"관리":c.department:c.department]})]}),(c==null?void 0:c.loginMethod)==="microsoft"&&s.jsxs("div",{className:"text-xs text-blue-400 mt-1 flex items-center",children:[s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 23 23",className:"mr-1",children:[s.jsx("path",{fill:"#f35325",d:"M1 1h10v10H1z"}),s.jsx("path",{fill:"#81bc06",d:"M12 1h10v10H12z"}),s.jsx("path",{fill:"#05a6f0",d:"M1 12h10v10H1z"}),s.jsx("path",{fill:"#ffba08",d:"M12 12h10v10H12z"})]}),"Microsoft"]})]})]})}),s.jsxs("div",{className:"p-4 border-b border-slate-700/50 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Un,{className:"h-4 w-4 text-slate-400"}),s.jsx("span",{className:"text-sm text-slate-300",children:$.notifications||"알림"})]}),A>0&&s.jsx(Le,{className:"bg-red-500 text-white text-xs px-2 py-1",children:A})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(us,{className:"h-4 w-4 text-slate-400"}),s.jsx("span",{className:"text-sm text-slate-300",children:$.online||"온라인"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-xs text-slate-400",children:T})]})]}),s.jsx("div",{className:"space-y-2 max-h-24 overflow-y-auto",children:C.slice(0,2).map(F=>s.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg hover:bg-slate-700/30 transition-colors",children:[s.jsxs("div",{className:"relative",children:[s.jsxs(ys,{className:"h-6 w-6",children:[s.jsx(no,{src:F.avatar}),s.jsx(ws,{className:"text-xs bg-slate-600",children:F.name[0]})]}),s.jsx("div",{className:se("absolute -bottom-0.5 -right-0.5 w-2.5 h-2.5 rounded-full border border-slate-900",O(F.status))})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-xs text-white truncate",children:F.name}),s.jsx("div",{className:"text-xs text-slate-400 truncate",children:F.currentPage||F.lastSeen})]}),ne(F.status)]},F.id))})]}),s.jsx("nav",{className:"flex-1 p-3 overflow-y-auto",children:s.jsx("ul",{className:"space-y-2",children:W.map(F=>s.jsx("li",{children:F.submenu?s.jsxs("div",{className:"space-y-1",children:[s.jsxs("button",{onClick:()=>_(F.path),className:se("group relative flex items-center justify-between gap-3 px-3 py-3 rounded-xl text-slate-300 hover:text-white transition-all duration-200 w-full text-left overflow-hidden","hover:bg-gradient-to-r hover:shadow-lg hover:shadow-blue-500/25",F.gradient&&`hover:${F.gradient}`,g.pathname.startsWith(F.path)&&"bg-gradient-to-r text-white shadow-lg",g.pathname.startsWith(F.path)&&F.gradient),children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r opacity-0 group-hover:opacity-100 transition-opacity duration-200",style:{background:F.gradient?"linear-gradient(to right, var(--tw-gradient-stops))":void 0}}),s.jsx("div",{className:"relative flex items-center gap-3 w-full",children:s.jsxs("div",{className:"relative flex items-center",children:[s.jsxs("div",{className:"relative flex items-center justify-center min-w-[20px] w-5 h-5",children:[F.icon,F.badge&&s.jsx(Le,{className:"absolute -top-2 -right-2 text-xs px-1 py-0 bg-red-500 text-white",children:F.badge})]}),s.jsx("span",{className:"font-medium",children:F.name})]})}),s.jsx("div",{className:"relative",children:p[F.path]?s.jsx(Kr,{className:"h-4 w-4 transition-transform duration-200"}):s.jsx(pl,{className:"h-4 w-4 transition-transform duration-200"})})]}),p[F.path]&&F.submenu&&s.jsx("ul",{className:"ml-6 space-y-1 border-l-2 border-slate-700/50 pl-4",children:F.submenu.map(G=>G.adminOnly&&!H?null:s.jsx("li",{children:s.jsxs(Gi,{to:G.path,onClick:()=>l(!1),className:({isActive:q})=>se("group flex items-center gap-3 px-3 py-2 rounded-lg text-slate-400 hover:text-white hover:bg-slate-700/50 transition-all duration-200 text-sm relative overflow-hidden w-full",(q||g.pathname===G.path||g.pathname.startsWith(G.path+"/"))&&"text-white bg-slate-700/70 shadow-md",G.color),children:[s.jsx("div",{className:"relative flex items-center justify-center min-w-[16px] w-4 h-4",children:G.icon}),s.jsx("span",{className:"flex-grow",children:G.name}),G.badge&&s.jsx(Le,{className:"text-xs px-1 py-0 bg-orange-500 text-white",children:G.badge})]})},G.path))})]}):s.jsxs(Gi,{to:F.path,end:F.path==="/",onClick:()=>l(!1),className:({isActive:G})=>se("group relative flex items-center gap-3 px-3 py-3 rounded-xl text-slate-300 hover:text-white transition-all duration-200 overflow-hidden","hover:bg-gradient-to-r hover:shadow-lg hover:shadow-blue-500/25",F.gradient&&`hover:${F.gradient}`,(G||F.path!=="/"&&g.pathname.startsWith(F.path))&&"bg-gradient-to-r text-white shadow-lg",(G||F.path!=="/"&&g.pathname.startsWith(F.path))&&F.gradient),children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r opacity-0 group-hover:opacity-100 transition-opacity duration-200",style:{background:F.gradient?"linear-gradient(to right, var(--tw-gradient-stops))":void 0}}),s.jsx("div",{className:"relative flex items-center gap-3 w-full",children:s.jsxs("div",{className:"relative flex items-center",children:[s.jsxs("div",{className:"relative flex items-center justify-center min-w-[20px] w-5 h-5",children:[F.icon,F.badge&&s.jsx(Le,{className:"absolute -top-2 -right-2 text-xs px-1 py-0 bg-red-500 text-white",children:F.badge})]}),s.jsx("span",{className:"font-medium",children:F.name})]})})]})},F.path))})}),s.jsxs("div",{className:"p-3 border-t border-slate-700/50 space-y-2",children:[s.jsx(Gi,{to:"/profile",onClick:()=>l(!1),className:({isActive:F})=>se("group flex items-center gap-3 px-3 py-3 rounded-xl text-slate-300 hover:text-white hover:bg-gradient-to-r hover:from-indigo-500 hover:to-purple-500 transition-all duration-200",F&&"bg-gradient-to-r from-indigo-500 to-purple-500 text-white shadow-lg"),children:s.jsxs("div",{className:"flex items-center gap-3 w-full",children:[s.jsx("div",{className:"flex items-center justify-center w-5 h-5",children:s.jsx(nr,{className:"h-5 w-5"})}),s.jsx("span",{className:"font-medium flex-1",children:$.profile||"프로필"})]})}),s.jsx(X,{variant:"ghost",className:"group w-full justify-start text-slate-300 hover:text-white hover:bg-gradient-to-r hover:from-red-500 hover:to-pink-500 transition-all duration-200 rounded-xl px-3 py-3",onClick:()=>{l(!1),B()},children:s.jsxs("div",{className:"flex items-center gap-3 w-full",children:[s.jsx("div",{className:"flex items-center justify-center w-5 h-5",children:s.jsx(__,{className:"h-5 w-5"})}),s.jsx("span",{className:"font-medium flex-1",children:$.logout||"로그아웃"})]})})]}),s.jsxs("div",{className:"p-3 border-t border-slate-700/50 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-400",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),s.jsx("span",{children:$.systemStatus||"시스템 정상"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Va,{className:"h-3 w-3"}),s.jsx("span",{children:"99.9%"})]})]}),s.jsx(zl,{value:85,className:"mt-2 h-1"}),s.jsx("div",{className:"text-xs text-slate-500",children:$.serverStatus||"서버 상태: 양호"}),s.jsxs("div",{className:"mt-3 pt-2 border-t border-slate-700/50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),s.jsx("span",{className:"text-xs font-medium text-slate-400",children:"현재 페이지"})]}),s.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-2",children:[s.jsx("div",{className:"text-sm font-medium text-white truncate",children:R()}),s.jsx("div",{className:"text-xs text-slate-400 truncate",children:g.pathname})]})]})]})]})]})},TB=({open:e,onOpenChange:t})=>{const[r,n]=h.useState(!1),[a,o]=h.useState(!1),[i,l]=h.useState(null);h.useEffect(()=>{e?(setTimeout(()=>o(!0),100),c()):o(!1)},[e]);const c=async()=>{try{const{data:f,error:p}=await re.from("popup_settings").select("*").eq("is_active",!0).order("updated_at",{ascending:!1}).limit(1).single();if(p&&p.code!=="PGRST116"){console.error("Error fetching popup data:",p);return}f&&(l({id:f.id,title:f.title,subtitle:f.subtitle,content:f.content,image_url:f.image_url,image_alt:f.image_alt,button_text:f.button_text,background_gradient:f.background_gradient}),u(f.id,"shown"))}catch(f){console.error("Error in fetchPopupData:",f)}},u=async(f,p)=>{try{const{data:{user:v}}=await re.auth.getUser();v&&await re.from("popup_display_logs").insert({popup_id:f,user_id:v.id,action:p,session_id:`session_${Date.now()}`})}catch(v){console.error("Error logging popup action:",v)}},d=()=>new Date().toISOString().split("T")[0],m=()=>{r?(localStorage.setItem("chairmanMessageHidden",d()),i&&u(i.id,"dont_show_today")):i&&u(i.id,"closed"),o(!1),setTimeout(()=>t(!1),300)};return s.jsx(kt,{open:e,onOpenChange:t,children:s.jsxs(bt,{className:`
        w-[700px] h-[900px] mx-auto p-0 overflow-hidden flex flex-col
        bg-gradient-to-br from-slate-50 via-blue-50 to-purple-50 
        dark:from-slate-900 dark:via-blue-950 dark:to-purple-950
        border-2 border-white/30 dark:border-white/10
        backdrop-blur-xl
        shadow-2xl shadow-blue-900/20 dark:shadow-blue-500/20
        transition-all duration-700 ease-out transform
        ${a?"scale-100 opacity-100":"scale-95 opacity-0"}
        relative
        fixed top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%]
        max-h-[98vh] max-w-[98vw]
      `,children:[s.jsxs("div",{className:"absolute inset-0 opacity-30",children:[s.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-gradient-to-br from-blue-400 to-purple-600 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute top-20 right-0 w-24 h-24 bg-gradient-to-br from-purple-400 to-pink-600 rounded-full blur-2xl animate-pulse delay-1000"}),s.jsx("div",{className:"absolute bottom-0 left-1/2 w-40 h-40 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-full blur-3xl animate-pulse delay-2000"})]}),s.jsx(jt,{className:"p-0 flex-shrink-0 relative z-10",children:s.jsxs("div",{className:`bg-gradient-to-r ${(i==null?void 0:i.background_gradient)||"from-blue-600 via-purple-600 to-blue-600"} p-6 relative overflow-hidden`,children:[s.jsx("div",{className:"absolute inset-0 opacity-20",children:s.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg%20width%3D%2260%22%20height%3D%2260%22%20viewBox%3D%220%200%2060%2060%22%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Cg%20fill%3D%22%23ffffff%22%20fill-opacity%3D%220.1%22%3E%3Ccircle%20cx%3D%227%22%20cy%3D%227%22%20r%3D%221%22/%3E%3Ccircle%20cx%3D%2227%22%20cy%3D%227%22%20r%3D%221%22/%3E%3Ccircle%20cx%3D%2247%22%20cy%3D%227%22%20r%3D%221%22/%3E%3Ccircle%20cx%3D%227%22%20cy%3D%2227%22%20r%3D%221%22/%3E%3Ccircle%20cx%3D%2227%22%20cy%3D%2227%22%20r%3D%221%22/%3E%3Ccircle%20cx%3D%2247%22%20cy%3D%2227%22%20r%3D%221%22/%3E%3Ccircle%20cx%3D%227%22%20cy%3D%2247%22%20r%3D%221%22/%3E%3Ccircle%20cx%3D%2227%22%20cy%3D%2247%22%20r%3D%221%22/%3E%3Ccircle%20cx%3D%2247%22%20cy%3D%2247%22%20r%3D%221%22/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')] animate-pulse"})}),s.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx("div",{className:"p-3 rounded-xl bg-white/20 backdrop-blur-sm border border-white/30",children:s.jsx($0,{className:"h-8 w-8 text-white animate-pulse"})}),s.jsxs("div",{children:[s.jsxs(Nt,{className:"text-2xl font-bold text-white mb-1 flex items-center gap-2",children:[(i==null?void 0:i.title)||"회장님의 말씀",s.jsx(Xs,{className:"h-6 w-6 text-yellow-300 animate-spin"})]}),s.jsx("p",{className:"text-blue-100 text-sm font-medium",children:(i==null?void 0:i.subtitle)||"CoilMaster Chairman's Message"})]})]}),s.jsx(X,{variant:"ghost",size:"sm",onClick:m,className:"h-10 w-10 p-0 rounded-full text-white/80 hover:text-white hover:bg-white/20 backdrop-blur-sm border border-white/20 transition-all duration-300 hover:scale-110",children:s.jsx(It,{className:"h-5 w-5"})})]}),s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 border border-white/10 rounded-full transform translate-x-16 -translate-y-16"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 border border-white/10 rounded-full transform -translate-x-12 translate-y-12"})]})}),s.jsxs("div",{className:"flex-1 flex flex-col min-h-0 relative z-10 p-6 space-y-6 overflow-y-auto",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -top-2 -left-2",children:s.jsx(DO,{className:"h-8 w-8 text-blue-500/30 transform rotate-180"})}),s.jsx("div",{className:"bg-white/80 dark:bg-white/20 backdrop-blur-md rounded-2xl p-6 border border-white/60 shadow-xl",children:(i==null?void 0:i.content)&&s.jsxs(s.Fragment,{children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-white mb-3 flex items-center gap-2",children:[s.jsx(pn,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),i.title]}),s.jsxs("p",{className:"text-gray-700 dark:text-gray-300 text-base leading-relaxed italic font-medium",children:['"',i.content,'"']})]})})]}),s.jsx("div",{className:"flex justify-center items-center py-4",children:s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl blur-xl opacity-30 group-hover:opacity-50 transition-opacity duration-500"}),(i==null?void 0:i.image_url)&&s.jsx("div",{className:"relative bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-2xl p-4 border-2 border-white/60 shadow-2xl",children:s.jsx("img",{src:i.image_url,alt:i.image_alt||"팝업 이미지",className:"w-full max-w-[350px] h-[280px] object-contain rounded-xl shadow-lg border border-gray-200 dark:border-gray-600 transition-transform duration-500 group-hover:scale-105",onError:f=>{console.error("팝업 이미지 로드 실패:",i.image_url),f.currentTarget.style.display="none"}})}),s.jsx(Dc,{className:"absolute -top-3 -right-3 h-6 w-6 text-yellow-400 animate-pulse"}),s.jsx(Dc,{className:"absolute -bottom-2 -left-2 h-4 w-4 text-blue-400 animate-pulse delay-500"}),s.jsx(Dc,{className:"absolute top-1/2 -right-4 h-3 w-3 text-purple-400 animate-pulse delay-1000"})]})})]}),s.jsx("div",{className:"flex-shrink-0 p-6 pt-0 relative z-10",children:s.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-sm rounded-2xl p-5 border border-white/50 shadow-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-4 p-3 bg-gray-50/80 dark:bg-gray-700/50 rounded-xl border border-gray-200/50 dark:border-gray-600/50",children:[s.jsx(qd,{id:"dontShowToday",checked:r,onCheckedChange:f=>n(f),className:"border-2 border-blue-300 dark:border-blue-600 data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600 rounded-md w-5 h-5"}),s.jsxs("label",{htmlFor:"dontShowToday",className:"text-sm font-medium text-gray-700 dark:text-gray-300 cursor-pointer select-none flex items-center gap-2",children:[s.jsx("span",{children:"오늘은 표시 안함"}),s.jsx("div",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 text-xs rounded-full font-medium",children:"Today Only"})]})]}),s.jsx(X,{onClick:m,className:`w-full bg-gradient-to-r ${(i==null?void 0:i.background_gradient)||"from-blue-600 via-purple-600 to-blue-600"} hover:opacity-90 text-white font-bold py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02] border border-white/20`,children:s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[(i==null?void 0:i.button_text)||"확인",s.jsx(Xs,{className:"h-4 w-4 animate-pulse"})]})})]})}),s.jsx("div",{className:"absolute top-1/2 left-0 w-1 h-20 bg-gradient-to-b from-blue-500 to-purple-500 rounded-r-full opacity-60"}),s.jsx("div",{className:"absolute top-1/2 right-0 w-1 h-20 bg-gradient-to-b from-purple-500 to-blue-500 rounded-l-full opacity-60"})]})})},EB=()=>{const[e,t]=h.useState(!1),[r,n]=h.useState(!1),[a,o]=h.useState([]),[i,l]=h.useState(""),[c,u]=h.useState(!1),d=h.useRef(null),m=nn(),{language:f}=Yt(),p={ko:{welcome:`안녕하세요! 🤖 Coilmaster 시스템 도우미입니다.

궁금한 것이 있으시면 언제든 물어보세요. 프로그램 사용법부터 기능 설명까지 친절하게 도와드릴게요!`,helpTitle:"도우미 봇",currentPageHelp:"현재 페이지 도움말",askSomething:"궁금한 것을 물어보세요...",systemHelper:"Coilmaster 시스템 도우미",greeting:"안녕하세요! 😊 Coilmaster 시스템에 대해 궁금한 것이 있으시면 언제든 물어보세요!",thanks:"천만에요! 😄 더 궁금한 것이 있으시면 언제든 말씀해 주세요. 도움이 되어서 기뻐요! ❤️",defaultResponse:`죄송해요, 정확히 이해하지 못했어요. 😅

다음과 같은 질문들을 해보세요:
• 대시보드 주요 기능
• 프로젝트 관리 방법
• 업무 할당 방법
• 고객사 관리 방법
• 업무 일지 작성법`},en:{welcome:`Hello! 🤖 I'm the Coilmaster system assistant.

Feel free to ask me anything. I'll gladly help you with everything from program usage to feature explanations!`,helpTitle:"Help Bot",currentPageHelp:"Current Page Help",askSomething:"Ask me anything...",systemHelper:"Coilmaster System Assistant",greeting:"Hello! 😊 Feel free to ask me anything about the Coilmaster system!",thanks:"You're welcome! 😄 Feel free to ask if you have any more questions. I'm happy to help! ❤️",defaultResponse:`Sorry, I didn't quite understand that. 😅

Try asking questions like:
• Dashboard main features
• Project management methods
• Task assignment methods
• Client management methods
• Work journal writing`},th:{welcome:`สวัสดีครับ! 🤖 ผมเป็นผู้ช่วยระบบ Coilmaster

หากมีข้อสงสัยใดๆ สามารถสอบถามได้ตลอดเวลาครับ ผมยินดีช่วยเหลือทุกอย่างตั้งแต่การใช้งานโปรแกรมไปจนถึงคำอธิบายฟีเจอร์ต่างๆ!`,helpTitle:"บอทช่วยเหลือ",currentPageHelp:"ความช่วยเหลือหน้าปัจจุบัน",askSomething:"สอบถามสิ่งที่สงสัย...",systemHelper:"ผู้ช่วยระบบ Coilmaster",greeting:"สวัสดีครับ! 😊 หากมีข้อสงสัยเกี่ยวกับระบบ Coilmaster สามารถสอบถามได้ตลอดเวลาครับ!",thanks:"ยินดีครับ! 😄 หากมีข้อสงสัยเพิ่มเติม สามารถสอบถามได้ตลอดเวลา ดีใจที่ได้ช่วยเหลือครับ! ❤️",defaultResponse:`ขออภัยครับ ผมไม่ค่อยเข้าใจคำถาม 😅

ลองถามคำถามแบบนี้ดูครับ:
• ฟีเจอร์หลักของแดชบอร์ด
• วิธีการจัดการโปรเจค
• วิธีการมอบหมายงาน
• วิธีการจัดการลูกค้า
• วิธีการเขียนบันทึกการทำงาน`},zh:{welcome:`您好！🤖 我是 Coilmaster 系统助手。

如果您有任何疑问，请随时询问。我很乐意为您提供从程序使用到功能说明的全方位帮助！`,helpTitle:"助手机器人",currentPageHelp:"当前页面帮助",askSomething:"请询问您想了解的内容...",systemHelper:"Coilmaster 系统助手",greeting:"您好！😊 如果您对 Coilmaster 系统有任何疑问，请随时询问！",thanks:"不客气！😄 如果您还有其他问题，请随时提问。很高兴能为您提供帮助！❤️",defaultResponse:`抱歉，我没有完全理解您的问题。😅

请尝试询问以下类型的问题：
• 仪表板主要功能
• 项目管理方法
• 任务分配方法
• 客户管理方法
• 工作日志编写`}},v=p[f]||p.ko,g=()=>f==="en"?[{question:"How do I use the dashboard?",answer:`The dashboard provides an overview of project status, task progress, and team activities. You can access it by clicking 'Dashboard' in the left sidebar. Key features include:
• Project status overview
• Task completion statistics
• Team activity monitoring
• Quick action buttons
• Performance metrics and charts`,category:"Basic Usage",keywords:["dashboard","home","main","overview","status","features","main features","주요기능","기능"]},{question:"How do I manage projects?",answer:`In the Projects section, you can:
• Create new projects with detailed information
• Track project progress and milestones
• Assign team members to projects
• Set deadlines and priorities
• Monitor project budgets and resources
• Generate project reports
• Collaborate with team members`,category:"Project Management",keywords:["project","projects","create","manage","track","progress"]},{question:"How do I manage clients?",answer:`The Clients section allows you to:
• Add new client information
• Edit existing client details
• Track client contact information
• Link clients to specific projects
• Manage client communications
• View client project history
• Generate client reports`,category:"Client Management",keywords:["client","clients","customer","company","manage"]},{question:"How do I manage tasks?",answer:`Task Management helps you:
• Create and assign tasks to team members
• Set task priorities and deadlines
• Track task progress and status
• Add detailed task descriptions
• Attach files and documents
• Set up task dependencies
• Monitor team workload`,category:"Task Management",keywords:["task","tasks","assign","manage","work","todo"]},{question:"How do I use work journals?",answer:`Work Journals allow you to:
• Record daily work activities
• Track time spent on tasks
• Document work progress and issues
• Create detailed work reports
• Share updates with team members
• Maintain work history records
• Generate productivity reports`,category:"Work Journals",keywords:["journal","journals","work journal","daily","record","log"]}]:f==="th"?[{question:"ใช้แดชบอร์ดอย่างไร?",answer:`แดชบอร์ดเป็นหน้าหลักของระบบ Coilmaster ที่แสดงภาพรวมของสถานการณ์งานทั้งหมด ฟีเจอร์หลักมีดังนี้:

📊 **ฟีเจอร์หลัก:**
• ตรวจสอบสถานะและความคืบหน้าของโปรเจคทั้งหมด
• แสดงจำนวนผู้ใช้ออนไลน์และโปรเจคที่ใช้งาน
• สถิติลูกค้าและงานที่กำลังดำเนินการ
• เข้าถึงการตั้งค่าระบบและการจัดการ
• ติดตามกิจกรรมของทีมงานแบบเรียลไทม์

💡 **เคล็ดลับการใช้งาน:**
• คลิกที่ 'แดชบอร์ด' ในแถบด้านซ้ายเพื่อเข้าถึง
• คลิกที่การ์ดสถิติเพื่อไปยังหน้ารายละเอียด
• ใช้ปุ่มรีเฟรชเพื่อดูข้อมูลล่าสุด`,category:"การใช้งานพื้นฐาน",keywords:["แดชบอร์ด","หน้าหลัก","ภาพรวม","สถานะ","ฟีเจอร์","ฟีเจอร์หลัก","ความสามารถหลัก"]},{question:"จัดการโปรเจคอย่างไร?",answer:`การจัดการโปรเจคช่วยให้คุณจัดการโปรเจคของบริษัทอย่างเป็นระบบ

🎯 **ฟีเจอร์หลัก:**
• สร้างโปรเจคใหม่และตั้งค่าข้อมูลพื้นฐาน
• ติดตามสถานะโปรเจค (วางแผน, ดำเนินการ, เสร็จสิ้น, พักงาน)
• มอบหมายทีมงานและจัดการบทบาท
• กำหนดตารางเวลาและวันครบกำหนด
• จัดการงบประมาณและทรัพยากร
• แนบเอกสารและไฟล์โปรเจค

📝 **วิธีใช้งาน:**
1. คลิกปุ่ม 'โปรเจคใหม่' ในหน้าโปรเจค
2. กรอกชื่อโปรเจค คำอธิบาย ผู้รับผิดชอบ วันครบกำหนด
3. ตั้งค่าลำดับความสำคัญและสถานะ
4. มอบหมายทีมงานและกำหนดสิทธิ์
5. บันทึกและเริ่มกิจกรรมโปรเจค`,category:"การจัดการโปรเจค",keywords:["โปรเจค","สร้าง","จัดการ","ติดตาม","ความคืบหน้า"]},{question:"จัดการลูกค้าอย่างไร?",answer:`การจัดการลูกค้าช่วยให้คุณจัดการข้อมูลลูกค้าและคู่ค้าอย่างครบถ้วน

🏢 **ฟีเจอร์หลัก:**
• ลงทะเบียนข้อมูลพื้นฐานลูกค้า (ชื่อบริษัท ที่อยู่ ข้อมูลติดต่อ)
• จัดการข้อมูลผู้ติดต่อ (ชื่อ ตำแหน่ง เบอร์โทร อีเมล)
• เชื่อมโยงลูกค้ากับโปรเจคและจัดการประวัติ
• ติดตามข้อมูลสัญญาและประวัติการทำธุรกรรม
• กำหนดระดับและความสำคัญของลูกค้า
• จัดการประวัติการสื่อสาร

📋 **วิธีจัดการ:**
1. คลิก 'เพิ่มลูกค้าใหม่' ในหน้าลูกค้า
2. กรอกข้อมูลพื้นฐาน (ชื่อบริษัท เลขผู้เสียภาษี ที่อยู่)
3. ลงทะเบียนข้อมูลผู้ติดต่อ
4. เชื่อมโยงโปรเจคและกรอกข้อมูลสัญญา
5. อัปเดตและจัดการข้อมูลอย่างสม่ำเสมอ`,category:"การจัดการลูกค้า",keywords:["ลูกค้า","คลายเอนต์","บริษัท","คู่ค้า","จัดการ"]},{question:"จัดการงานอย่างไร?",answer:`การจัดการงานช่วยให้คุณมอบหมายและติดตามงานของทีมอย่างมีประสิทธิภาพ

📋 **ฟีเจอร์หลัก:**
• สร้างงานใหม่และกรอกข้อมูลรายละเอียด
• มอบหมายงานให้ทีมงานและตั้งค่าสิทธิ์
• กำหนดลำดับความสำคัญ (สูง ปานกลาง ต่ำ)
• ติดตามสถานะการดำเนินงาน (มอบหมายแล้ว ดำเนินการ เสร็จสิ้น พักงาน)
• ตั้งค่าวันครบกำหนดและการแจ้งเตือน
• กำหนดการพึ่งพางานและงานที่เกี่ยวข้อง
• แนบไฟล์และฟีเจอร์ความคิดเห็น

✅ **วิธีมอบหมายงาน:**
1. คลิกปุ่ม 'งานใหม่' ในหน้าการจัดการงาน
2. เขียนหัวข้องานและคำอธิบายรายละเอียด
3. เลือกผู้รับผิดชอบและตั้งลำดับความสำคัญ
4. กรอกวันครบกำหนดและเวลาที่คาดการณ์
5. เชื่อมโยงโปรเจคที่เกี่ยวข้อง
6. บันทึกและส่งการแจ้งเตือนให้ผู้รับผิดชอบ`,category:"การจัดการงาน",keywords:["งาน","มอบหมาย","ทาสก์","ภารกิจ","จัดการ"]},{question:"เขียนบันทึกการทำงานอย่างไร?",answer:`บันทึกการทำงานเป็นฟีเจอร์สำหรับบันทึกและจัดการกิจกรรมการทำงานส่วนบุคคลอย่างเป็นระบบ

📝 **ฟีเจอร์หลัก:**
• บันทึกและจัดระเบียบกิจกรรมการทำงานรายวัน
• กรอกเวลาที่ใช้และความคืบหน้าของแต่ละงาน
• จัดทำเอกสารปัญหาและวิธีแก้ไข
• วางแปลนงานและเป้าหมายครั้งต่อไป
• แบ่งปันงานและร่วมมือกับทีม
• สร้างรายงานงานรายสัปดาห์/รายเดือนอัตโนมัติ

📖 **วิธีเขียน:**
1. คลิก 'เขียนบันทึกใหม่' ในหน้าบันทึกการทำงาน
2. เลือกวันทำงาน (ค่าเริ่มต้น: วันนี้)
3. กรอกรายการงานที่ทำและรายละเอียด
4. บันทึกเวลาที่ใช้และความคืบหน้าของแต่ละงาน
5. เขียนปัญหาที่เกิดขึ้นและวิธีแก้ไข
6. วางแผนงานและเป้าหมายของวันพรุ่งนี้
7. บันทึกและแบ่งปันกับหัวหน้าทีมหรือผู้เกี่ยวข้อง`,category:"การจัดการงาน",keywords:["บันทึก","บันทึกการทำงาน","เขียน","รายงาน"]}]:f==="zh"?[{question:"如何使用仪表板？",answer:`仪表板是 Coilmaster 系统的主界面，可以全面了解工作状况。主要功能如下：

📊 **主要功能：**
• 查看所有项目状态和进度
• 显示在线用户数和活跃项目数
• 进行中的客户和进行中的工作统计
• 访问系统设置和管理功能
• 实时监控团队成员活动状态

💡 **使用技巧：**
• 点击左侧边栏中的【仪表板】进入
• 点击各统计卡片可跳转到详细页面
• 使用刷新按钮查看最新信息`,category:"基本使用",keywords:["仪表板","主页","概览","状态","功能","主要功能"]},{question:"如何管理项目？",answer:`项目管理可以系统地管理公司的所有项目

🎯 **主要功能：**
• 创建新项目并设置基本信息
• 跟踪项目进度状态（计划中、进行中、完成、暂停）
• 分配团队成员和管理角色
• 设置项目时间表和截止日期
• 管理预算和资源
• 附加项目文档和文件

📝 **使用方法：**
1. 在项目页面点击【新建项目】按钮
2. 输入项目名称、描述、负责人、截止日期
3. 设置优先级和状态
4. 分配团队成员并授予权限
5. 保存后开始项目活动`,category:"项目管理",keywords:["项目","创建","管理","跟踪","进度"]},{question:"如何管理客户？",answer:`客户管理可以综合管理所有客户和合作伙伴信息

🏢 **主要功能：**
• 注册客户基本信息（公司名称、地址、联系方式）
• 管理联系人信息（姓名、职位、联系方式、邮箱）
• 连接客户与项目并管理历史记录
• 跟踪合同信息和交易历史
• 设置客户等级和重要性
• 管理沟通历史

📋 **管理方法：**
1. 在客户页面点击【添加新客户】
2. 输入基本信息（公司名称、税号、地址）
3. 注册联系人信息
4. 连接项目并输入合同信息
5. 定期更新和管理信息`,category:"客户管理",keywords:["客户","客户端","公司","合作伙伴","管理"]},{question:"如何管理任务？",answer:`任务管理可以高效地分配和跟踪团队的所有工作

📋 **主要功能：**
• 创建新任务并输入详细信息
• 向团队成员分配任务并设置权限
• 设置任务优先级（高、中、低）
• 跟踪进度状态（已分配、进行中、完成、暂停）
• 设置截止日期和提醒管理
• 设置任务依赖关系和关联任务
• 文件附件和评论功能

✅ **任务分配方法：**
1. 在任务管理页面点击【新建任务】按钮
2. 编写任务标题和详细描述
3. 选择负责人并设置优先级
4. 输入截止日期和预估时间
5. 连接相关项目
6. 保存后向负责人发送通知`,category:"任务管理",keywords:["任务","分配","工作","管理"]},{question:"如何编写工作日志？",answer:`工作日志是系统地记录和管理个人工作活动的功能

📝 **主要功能：**
• 记录和整理每日工作活动
• 输入各项工作的耗时和进度
• 记录问题和解决方案
• 设置下次工作计划和目标
• 与团队成员分享工作和协作
• 自动生成周/月工作报告

📖 **编写方法：**
1. 在工作日志页面点击【新建日志】
2. 选择工作日期（默认：今天）
3. 输入执行的工作列表和详细内容
4. 记录各项工作的耗时和进度
5. 编写发生的问题和解决方案
6. 设置明天的工作计划和目标
7. 保存后与团队负责人或相关人员分享`,category:"任务管理",keywords:["日志","工作日志","记录","编写","报告"]}]:[{question:"대시보드는 어떻게 사용하나요?",answer:`대시보드는 Coilmaster 시스템의 메인 화면으로, 전체적인 업무 현황을 한눈에 파악할 수 있습니다. 주요 기능은 다음과 같습니다:

📊 **주요 기능:**
• 전체 프로젝트 현황 및 진행률 확인
• 온라인 사용자 및 활성 프로젝트 수 표시
• 진행 중인 고객사 및 진행 중인 업무 통계
• 시스템 설정 및 관리 기능 접근
• 팀원 활동 상태 실시간 모니터링

💡 **사용 팁:**
• 좌측 사이드바에서 '대시보드'를 클릭하여 접근
• 각 통계 카드를 클릭하면 상세 페이지로 이동
• 새로고침 버튼으로 최신 정보 확인 가능`,category:"기본 사용법",keywords:["대시보드","홈","메인","현황","상태","주요기능","기능","주요 기능","대시보드 기능"]},{question:"프로젝트는 어떻게 관리하나요?",answer:`프로젝트 관리에서는 회사의 모든 프로젝트를 체계적으로 관리할 수 있습니다.

🎯 **주요 기능:**
• 새 프로젝트 생성 및 기본 정보 설정
• 프로젝트 진행 상태 추적 (계획중, 진행중, 완료, 보류)
• 팀원 할당 및 역할 관리
• 프로젝트 일정 및 마감일 설정
• 예산 및 리소스 관리
• 프로젝트 문서 및 파일 첨부

📝 **사용 방법:**
1. 프로젝트 페이지에서 '새 프로젝트' 버튼 클릭
2. 프로젝트명, 설명, 담당자, 마감일 입력
3. 우선순위 및 상태 설정
4. 팀원 할당 및 권한 부여
5. 저장 후 프로젝트 활동 시작`,category:"프로젝트 관리",keywords:["프로젝트","생성","새로만들기","추가","관리","project","진행","상태"]},{question:"고객사는 어떻게 관리하나요?",answer:`고객사 관리에서는 모든 거래처와 고객 정보를 통합 관리할 수 있습니다.

🏢 **주요 기능:**
• 고객사 기본 정보 등록 (회사명, 주소, 연락처)
• 담당자 정보 관리 (이름, 직책, 연락처, 이메일)
• 고객사별 프로젝트 연결 및 이력 관리
• 계약 정보 및 거래 내역 추적
• 고객사 등급 및 중요도 설정
• 커뮤니케이션 이력 관리

📋 **관리 방법:**
1. 고객사 페이지에서 '새 고객사 추가' 클릭
2. 기본 정보 입력 (회사명, 사업자번호, 주소)
3. 담당자 정보 등록
4. 프로젝트 연결 및 계약 정보 입력
5. 정기적인 정보 업데이트 및 관리`,category:"고객사 관리",keywords:["고객사","클라이언트","회사","거래처","client","customer","관리"]},{question:"업무는 어떻게 관리하나요?",answer:`업무 관리에서는 팀의 모든 업무를 효율적으로 할당하고 추적할 수 있습니다.

📋 **주요 기능:**
• 새 업무 생성 및 상세 정보 입력
• 팀원에게 업무 할당 및 권한 설정
• 업무 우선순위 설정 (높음, 보통, 낮음)
• 진행 상태 추적 (할당됨, 진행중, 완료, 보류)
• 마감일 설정 및 알림 관리
• 업무 의존성 및 연관 업무 설정
• 파일 첨부 및 댓글 기능

✅ **업무 할당 방법:**
1. 업무 관리 페이지에서 '새 업무' 버튼 클릭
2. 업무 제목과 상세 설명 작성
3. 담당자 선택 및 우선순위 설정
4. 마감일 및 예상 소요시간 입력
5. 관련 프로젝트 연결
6. 저장 후 담당자에게 알림 발송`,category:"업무 관리",keywords:["업무","할당","태스크","과제","일감","task","관리","업무관리"]},{question:"업무 일지는 어떻게 작성하나요?",answer:`업무 일지는 개인의 업무 활동을 체계적으로 기록하고 관리하는 기능입니다.

📝 **주요 기능:**
• 일일 업무 활동 기록 및 정리
• 업무별 소요시간 및 진행률 입력
• 이슈사항 및 해결방안 문서화
• 다음 업무 계획 및 목표 설정
• 팀원과의 업무 공유 및 협업
• 주간/월간 업무 리포트 자동 생성

📖 **작성 방법:**
1. 업무 일지 페이지에서 '새 일지 작성' 클릭
2. 작업 날짜 선택 (기본값: 오늘)
3. 수행한 업무 목록 및 상세 내용 입력
4. 각 업무별 소요시간 및 진행률 기록
5. 발생한 이슈 및 해결방안 작성
6. 내일 업무 계획 및 목표 설정
7. 저장 후 팀장 또는 관련자와 공유`,category:"업무 관리",keywords:["일지","업무일지","기록","작성","보고","journal","일지목록","업무 일지"]},{question:"팀원 권한은 어떻게 설정하나요?",answer:"관리자 권한이 있는 경우, 관리자 패널에서 사용자 관리 메뉴를 통해 팀원의 역할과 권한을 설정할 수 있습니다.",category:"관리자 기능",keywords:["권한","역할","관리자","사용자","팀원"]},{question:"알림 설정은 어떻게 변경하나요?",answer:"프로필 메뉴 또는 설정에서 이메일 알림, 푸시 알림 등의 설정을 변경할 수 있습니다.",category:"설정",keywords:["알림","설정","이메일","푸시","notification"]},{question:"온라인 사용자는 어디서 확인할 수 있나요?",answer:"좌측 사이드바의 '온라인 사용자' 섹션에서 현재 접속 중인 팀원들과 그들이 보고 있는 페이지를 실시간으로 확인할 수 있습니다.",category:"협업 기능",keywords:["온라인","사용자","접속","실시간","협업"]}];h.useEffect(()=>{if(a.length===0){const A={id:"1",type:"bot",content:v.welcome,timestamp:new Date,suggestions:f==="en"?["Dashboard usage","Creating projects","Assigning tasks","Setting permissions"]:f==="th"?["การใช้แดชบอร์ด","การสร้างโปรเจค","การมอบหมายงาน","การตั้งค่าสิทธิ์"]:f==="zh"?["仪表板使用","创建项目","分配任务","权限设置"]:["대시보드 사용법","프로젝트 생성하기","업무 할당하기","팀원 권한 설정"]};o([A])}},[a.length,v.welcome,f]),h.useEffect(()=>{var A;(A=d.current)==null||A.scrollIntoView({behavior:"smooth"})},[a]);const b=()=>{const A=m.pathname;return A==="/"||A==="/dashboard"?{title:f==="en"?"Dashboard Help":f==="th"?"ความช่วยเหลือแดชบอร์ด":f==="zh"?"仪表板帮助":"대시보드 도움말",content:f==="en"?"You are currently on the dashboard. Here you can view overall project status and task progress.":f==="th"?"คุณอยู่ในหน้าแดชบอร์ด สามารถดูสถานะโปรเจคโดยรวมและความคืบหน้าของงานได้":f==="zh"?"您当前在仪表板页面。在这里可以查看整体项目状态和任务进度。":"현재 대시보드에 계십니다. 여기서는 전체 프로젝트 현황과 업무 상태를 확인할 수 있어요.",suggestions:f==="en"?["Dashboard features","View statistics","Quick actions"]:f==="th"?["ฟีเจอร์แดชบอร์ด","ดูสถิติ","การใช้งานด่วน"]:f==="zh"?["仪表板功能","查看统计","快速操作"]:["대시보드 기능 설명","통계 보는 방법","빠른 액션 사용법"]}:A.startsWith("/projects")?{title:f==="en"?"Project Management Help":f==="th"?"ความช่วยเหลือการจัดการโปรเจค":f==="zh"?"项目管理帮助":"프로젝트 관리 도움말",content:f==="en"?"In the project management page, you can create new projects, track progress, and assign team members.":f==="th"?"ในหน้าการจัดการโปรเจค คุณสามารถสร้างโปรเจคใหม่ ติดตามความคืบหน้า และมอบหมายทีมงานได้":f==="zh"?"在项目管理页面，您可以创建新项目、跟踪进度并分配团队成员。":"프로젝트 관리 페이지에서는 새 프로젝트 생성, 진행 상황 추적, 팀원 할당 등을 할 수 있습니다.",suggestions:f==="en"?["Create new project","Change project status","Assign team members"]:f==="th"?["สร้างโปรเจคใหม่","เปลี่ยนสถานะโปรเจค","มอบหมายทีมงาน"]:f==="zh"?["创建新项目","更改项目状态","分配团队成员"]:["새 프로젝트 만들기","프로젝트 상태 변경","팀원 할당하기"]}:A.startsWith("/tasks")?{title:f==="en"?"Task Management Help":f==="th"?"ความช่วยเหลือการจัดการงาน":f==="zh"?"任务管理帮助":"업무 관리 도움말",content:f==="en"?"In task management, you can create tasks, track progress, and write work journals.":f==="th"?"ในการจัดการงาน คุณสามารถสร้างงาน ติดตามความคืบหน้า และเขียนบันทึกการทำงานได้":f==="zh"?"在任务管理中，您可以创建任务、跟踪进度并编写工作日志。":"업무 관리에서는 할 일을 생성하고, 진행 상황을 추적하며, 업무 일지를 작성할 수 있습니다.",suggestions:f==="en"?["Create new task","Change task status","Write work journal"]:f==="th"?["สร้างงานใหม่","เปลี่ยนสถานะงาน","เขียนบันทึกการทำงาน"]:f==="zh"?["创建新任务","更改任务状态","编写工作日志"]:["새 업무 생성","업무 상태 변경","업무 일지 작성"]}:A.startsWith("/admin")?{title:f==="en"?"Admin Panel Help":f==="th"?"ความช่วยเหลือแผงควบคุมผู้ดูแลระบบ":f==="zh"?"管理员面板帮助":"관리자 패널 도움말",content:f==="en"?"In the admin panel, you can manage system settings, user management, and permissions.":f==="th"?"ในแผงควบคุมผู้ดูแลระบบ คุณสามารถจัดการการตั้งค่าระบบ การจัดการผู้ใช้ และสิทธิ์การเข้าถึงได้":f==="zh"?"在管理员面板中，您可以管理系统设置、用户管理和权限。":"관리자 패널에서는 시스템 설정, 사용자 관리, 권한 설정 등을 할 수 있습니다.",suggestions:f==="en"?["Set user permissions","Change system settings","Manage popups"]:f==="th"?["ตั้งค่าสิทธิ์ผู้ใช้","เปลี่ยนการตั้งค่าระบบ","จัดการป๊อปอัพ"]:f==="zh"?["设置用户权限","更改系统设置","管理弹窗"]:["사용자 권한 설정","시스템 설정 변경","팝업 관리"]}:{title:f==="en"?"General Help":f==="th"?"ความช่วยเหลือทั่วไป":f==="zh"?"一般帮助":"일반 도움말",content:f==="en"?"You can get help with using the Coilmaster system.":f==="th"?"คุณสามารถรับความช่วยเหลือในการใช้งานระบบ Coilmaster ได้":f==="zh"?"您可以获得 Coilmaster 系统使用方面的帮助。":"Coilmaster 시스템 사용에 대해 도움을 받으실 수 있습니다.",suggestions:f==="en"?["Basic usage","Main features","Troubleshooting"]:f==="th"?["การใช้งานพื้นฐาน","ฟีเจอร์หลัก","การแก้ไขปัญหา"]:f==="zh"?["基本使用","主要功能","故障排除"]:["기본 사용법","주요 기능 소개","문제 해결"]}},y=A=>{const C=A.toLowerCase(),T=g();for(const B of T)for(const $ of B.keywords)if(C.includes($.toLowerCase()))return B.answer;return C.includes("안녕")||C.includes("헬로")||C.includes("hello")||C.includes("สวัสดี")||C.includes("你好")||C.includes("hi")?v.greeting:C.includes("고마")||C.includes("감사")||C.includes("thanks")||C.includes("ขอบคุณ")||C.includes("谢谢")?v.thanks:v.defaultResponse},x=async()=>{if(!i.trim())return;const A={id:Date.now().toString(),type:"user",content:i,timestamp:new Date};o(C=>[...C,A]),l(""),u(!0),setTimeout(()=>{const C={id:(Date.now()+1).toString(),type:"bot",content:y(i),timestamp:new Date,suggestions:f==="en"?["Ask another question","View main features","Troubleshooting"]:f==="th"?["ถามคำถามอื่น","ดูฟีเจอร์หลัก","แก้ไขปัญหา"]:f==="zh"?["问其他问题","查看主要功能","故障排除"]:["다른 질문하기","주요 기능 보기","문제 해결하기"]};o(T=>[...T,C]),u(!1)},1e3+Math.random()*1e3)},w=A=>{l(A),setTimeout(()=>x(),100)},j=A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),x())},k=b();return s.jsxs(s.Fragment,{children:[!e&&s.jsx(X,{onClick:()=>t(!0),className:"fixed bottom-6 right-6 h-14 w-14 rounded-full shadow-2xl bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white border-0 z-50 transition-all duration-300 hover:scale-110",size:"icon",children:s.jsx(_O,{className:"h-6 w-6"})}),e&&s.jsxs(Pe,{className:se("fixed bottom-6 right-6 w-96 h-[500px] shadow-2xl border border-gray-700 bg-gray-900 z-50 transition-all duration-300",r?"h-16":"h-[500px]"),children:[s.jsx(ft,{className:"pb-3 bg-gradient-to-r from-gray-700 to-gray-800 text-white rounded-t-lg border-b border-gray-600",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ys,{className:"h-8 w-8 border-2 border-gray-500",children:s.jsx(ws,{className:"bg-gray-600 text-white",children:s.jsx(wp,{className:"h-4 w-4"})})}),s.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-green-400 rounded-full border-2 border-gray-800"})]}),s.jsxs("div",{children:[s.jsx(pt,{className:"text-sm font-semibold text-white",children:v.helpTitle}),s.jsx("p",{className:"text-xs text-gray-300",children:k.title})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(X,{variant:"ghost",size:"icon",onClick:()=>n(!r),className:"h-6 w-6 text-gray-300 hover:text-white hover:bg-gray-600",children:s.jsx(kO,{className:"h-3 w-3"})}),s.jsx(X,{variant:"ghost",size:"icon",onClick:()=>t(!1),className:"h-6 w-6 text-gray-300 hover:text-white hover:bg-gray-600",children:s.jsx(It,{className:"h-3 w-3"})})]})]})}),!r&&s.jsxs(Ee,{className:"p-0 flex flex-col h-[440px] bg-gray-900",children:[s.jsxs("div",{className:"p-3 bg-gradient-to-r from-gray-800 to-gray-750 border-b border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(wO,{className:"h-4 w-4 text-yellow-400"}),s.jsx("span",{className:"text-sm font-medium text-gray-200",children:v.currentPageHelp})]}),s.jsx("p",{className:"text-xs text-gray-300 mb-2",children:k.content}),s.jsx("div",{className:"flex flex-wrap gap-1",children:k.suggestions.map((A,C)=>s.jsx(Le,{variant:"secondary",className:"text-xs cursor-pointer bg-gray-600 text-gray-200 hover:bg-gray-500 transition-colors border-gray-500",onClick:()=>w(A),children:A},C))})]}),s.jsxs(Jd,{className:"flex-1 p-4 bg-gray-900",children:[s.jsxs("div",{className:"space-y-4",children:[a.map(A=>s.jsxs("div",{className:se("flex gap-2",A.type==="user"?"justify-end":"justify-start"),children:[A.type==="bot"&&s.jsx(ys,{className:"h-6 w-6 mt-1",children:s.jsx(ws,{className:"bg-gradient-to-r from-gray-600 to-gray-700 text-white",children:s.jsx(wp,{className:"h-3 w-3"})})}),s.jsxs("div",{className:se("max-w-[80%] p-3 rounded-xl text-sm",A.type==="user"?"bg-gradient-to-r from-blue-600 to-blue-700 text-white":"bg-gray-800 text-gray-200 border border-gray-700"),children:[s.jsx("div",{className:"whitespace-pre-wrap",children:A.content}),A.suggestions&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:A.suggestions.map((C,T)=>s.jsx(Le,{variant:"outline",className:"text-xs cursor-pointer bg-gray-700 text-gray-300 border-gray-600 hover:bg-gray-600 transition-colors",onClick:()=>w(C),children:C},T))})]}),A.type==="user"&&s.jsx(ys,{className:"h-6 w-6 mt-1",children:s.jsx(ws,{className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:s.jsx(nr,{className:"h-3 w-3"})})})]},A.id)),c&&s.jsxs("div",{className:"flex gap-2 justify-start",children:[s.jsx(ys,{className:"h-6 w-6 mt-1",children:s.jsx(ws,{className:"bg-gradient-to-r from-gray-600 to-gray-700 text-white",children:s.jsx(wp,{className:"h-3 w-3"})})}),s.jsx("div",{className:"bg-gray-800 p-3 rounded-xl border border-gray-700",children:s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce delay-100"}),s.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce delay-200"})]})})]})]}),s.jsx("div",{ref:d})]}),s.jsxs("div",{className:"p-4 border-t border-gray-700 bg-gray-800",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(fe,{value:i,onChange:A=>l(A.target.value),onKeyPress:j,placeholder:v.askSomething,className:"flex-1 border-2 border-gray-600 bg-gray-900 text-gray-200 placeholder-gray-400 focus:border-blue-500",disabled:c}),s.jsx(X,{onClick:x,disabled:!i.trim()||c,className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white",size:"icon",children:s.jsx(TO,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex items-center justify-center mt-2",children:s.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[s.jsx(xO,{className:"h-3 w-3 text-red-400"}),v.systemHelper]})})]})]})]})]})};function MB(){const[e,t]=h.useState(!1);return h.useEffect(()=>{const n=setTimeout(()=>{const a=new Date().toISOString().split("T")[0];localStorage.getItem("chairmanMessageHidden")!==a&&t(!0)},1e3);return()=>clearTimeout(n)},[]),s.jsxs("div",{className:"flex h-screen",children:[s.jsx(jB,{}),s.jsx(PB,{}),s.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[s.jsx(bB,{}),s.jsx("main",{className:"flex-1 overflow-y-auto bg-slate-100",children:s.jsx(l4,{})})]}),s.jsx(TB,{open:e,onOpenChange:t}),s.jsx(EB,{})]})}const RB=({children:e})=>{const{isAuthenticated:t,loading:r}=Ul();return r?s.jsx("div",{className:"flex h-screen items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):t?s.jsx(s.Fragment,{children:e}):s.jsx(y0,{to:"/login",replace:!0})},AB=()=>{const{isAuthenticated:e,loading:t}=Ul();return t?s.jsx("div",{className:"flex h-screen items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):s.jsx(y0,{to:e?"/projects":"/intro",replace:!0})},OB=()=>s.jsx(_4,{defaultTheme:"light",storageKey:"ui-theme",children:s.jsx(oA,{children:s.jsx(iA,{children:s.jsxs($R,{children:[s.jsxs(nN,{children:[s.jsx(Ut,{path:"/login",element:s.jsx(w7,{})}),s.jsx(Ut,{path:"/register",element:s.jsx(b7,{})}),s.jsx(Ut,{path:"/forgot-password",element:s.jsx(j7,{})}),s.jsx(Ut,{path:"/intro",element:s.jsx(_7,{})}),s.jsx(Ut,{index:!0,element:s.jsx(AB,{})}),s.jsxs(Ut,{element:s.jsx(RB,{children:s.jsx(MB,{})}),children:[s.jsx(Ut,{path:"/tasks",element:s.jsx(KL,{})}),s.jsx(Ut,{path:"/tasks/journal",element:s.jsx(Db,{})}),s.jsx(Ut,{path:"/tasks/journal/:id",element:s.jsx(Db,{})}),s.jsx(Ut,{path:"/tasks/journals",element:s.jsx(Mb,{})}),s.jsx(Ut,{path:"/tasks/journal-list",element:s.jsx(Mb,{})}),s.jsx(Ut,{path:"/projects",element:s.jsx(v9,{})}),s.jsx(Ut,{path:"/projects/my",element:s.jsx(A9,{})}),s.jsx(Ut,{path:"/projects/:id",element:s.jsx(J9,{})}),s.jsx(Ut,{path:"/customers",element:s.jsx(fB,{})}),s.jsx(Ut,{path:"/contacts",element:s.jsx(gB,{})}),s.jsx(Ut,{path:"/daily-reports",element:s.jsx(vB,{})}),s.jsx(Ut,{path:"/profile",element:s.jsx(az,{})}),s.jsx(Ut,{path:"/admin",element:s.jsx(h7,{})}),s.jsx(Ut,{path:"*",element:s.jsx(N7,{})})]})]}),s.jsx(pI,{})]})})})});Y1(document.getElementById("root")).render(s.jsx(x4,{children:s.jsx(g7,{children:s.jsxs(nN,{children:[s.jsx(Ut,{path:"/",element:s.jsx(y0,{to:"/projects",replace:!0})}),s.jsx(Ut,{path:"*",element:s.jsx(OB,{})})]})})}));export{Rb as g};
