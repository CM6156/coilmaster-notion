-- ========================================\n-- 기존 프로젝트들의 프로모션 단계 정보 수정\n-- Supabase SQL 에디터에서 실행하세요\n-- ========================================\n\n-- 1. 현재 프로젝트들의 상태 확인\nSELECT \n    name,\n    promotion_stage,\n    promotion_status,\n    status,\n    project_type,\n    created_at\nFROM projects\nORDER BY created_at DESC;\n\n-- 2. promotion_stage가 NULL이거나 비어있는 프로젝트들을 'Promotion'으로 설정\nUPDATE projects \nSET \n    promotion_stage = 'Promotion',\n    updated_at = NOW()\nWHERE promotion_stage IS NULL OR promotion_stage = '';\n\n-- 3. 특정 프로젝트들의 단계를 실제 상황에 맞게 설정 (예시)\n-- 프로젝트 이름을 실제 프로젝트에 맞게 수정하세요\n\n-- 예시: Sample 단계에 있는 프로젝트들\n-- UPDATE projects \n-- SET \n--     promotion_stage = 'Sample',\n--     updated_at = NOW()\n-- WHERE name IN ('프로젝트명1', '프로젝트명2');\n\n-- 예시: 1차검증 단계에 있는 프로젝트들\n-- UPDATE projects \n-- SET \n--     promotion_stage = '1차검증',\n--     updated_at = NOW()\n-- WHERE name IN ('프로젝트명3', '프로젝트명4');\n\n-- 예시: 설계검증 단계에 있는 프로젝트들\n-- UPDATE projects \n-- SET \n--     promotion_stage = '설계검증',\n--     updated_at = NOW()\n-- WHERE name IN ('프로젝트명5', '프로젝트명6');\n\n-- 예시: Set검증 단계에 있는 프로젝트들\n-- UPDATE projects \n-- SET \n--     promotion_stage = 'Set검증',\n--     updated_at = NOW()\n-- WHERE name IN ('프로젝트명7', '프로젝트명8');\n\n-- 예시: 승인 단계에 있는 프로젝트들\n-- UPDATE projects \n-- SET \n--     promotion_stage = '승인',\n--     updated_at = NOW()\n-- WHERE name IN ('프로젝트명9', '프로젝트명10');\n\n-- 예시: 수주 완료된 프로젝트들\n-- UPDATE projects \n-- SET \n--     promotion_stage = '수주',\n--     updated_at = NOW()\n-- WHERE name IN ('프로젝트명11', '프로젝트명12');\n\n-- 예시: Drop된 프로젝트들\n-- UPDATE projects \n-- SET \n--     promotion_stage = 'Drop',\n--     updated_at = NOW()\n-- WHERE name IN ('중단된프로젝트1', '중단된프로젝트2');\n\n-- 4. 수정 결과 확인\nSELECT \n    name,\n    promotion_stage,\n    promotion_status,\n    project_type,\n    updated_at\nFROM projects\nORDER BY updated_at DESC;\n\n-- 5. 프로모션 단계별 통계 확인\nSELECT \n    promotion_stage,\n    COUNT(*) as project_count,\n    ROUND(COUNT(*) * 100.0 / (SELECT COUNT(*) FROM projects), 2) as percentage\nFROM projects\nGROUP BY promotion_stage\nORDER BY project_count DESC; 